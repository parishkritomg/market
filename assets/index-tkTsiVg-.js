(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function c(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=c(d);fetch(d.href,f)}})();var Bc={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh;function Y0(){if(nh)return ql;nh=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function c(o,d,f){var m=null;if(f!==void 0&&(m=""+f),d.key!==void 0&&(m=""+d.key),"key"in d){f={};for(var h in d)h!=="key"&&(f[h]=d[h])}else f=d;return d=f.ref,{$$typeof:l,type:o,key:m,ref:d!==void 0?d:null,props:f}}return ql.Fragment=i,ql.jsx=c,ql.jsxs=c,ql}var sh;function Z0(){return sh||(sh=1,Bc.exports=Y0()),Bc.exports}var a=Z0(),Ic={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function X0(){if(lh)return we;lh=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),j=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,R={};function T(N,V,se){this.props=N,this.context=V,this.refs=R,this.updater=se||M}T.prototype.isReactComponent={},T.prototype.setState=function(N,V){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,V,"setState")},T.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function S(){}S.prototype=T.prototype;function _(N,V,se){this.props=N,this.context=V,this.refs=R,this.updater=se||M}var I=_.prototype=new S;I.constructor=_,H(I,T.prototype),I.isPureReactComponent=!0;var ee=Array.isArray,J={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function ae(N,V,se,F,ce,B){return se=B.ref,{$$typeof:l,type:N,key:V,ref:se!==void 0?se:null,props:B}}function le(N,V){return ae(N.type,V,void 0,void 0,void 0,N.props)}function ne(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function fe(N){var V={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(se){return V[se]})}var de=/\/+/g;function ve(N,V){return typeof N=="object"&&N!==null&&N.key!=null?fe(""+N.key):V.toString(36)}function U(){}function $(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(U,U):(N.status="pending",N.then(function(V){N.status==="pending"&&(N.status="fulfilled",N.value=V)},function(V){N.status==="pending"&&(N.status="rejected",N.reason=V)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,V,se,F,ce){var B=typeof N;(B==="undefined"||B==="boolean")&&(N=null);var K=!1;if(N===null)K=!0;else switch(B){case"bigint":case"string":case"number":K=!0;break;case"object":switch(N.$$typeof){case l:case i:K=!0;break;case y:return K=N._init,W(K(N._payload),V,se,F,ce)}}if(K)return ce=ce(N),K=F===""?"."+ve(N,0):F,ee(ce)?(se="",K!=null&&(se=K.replace(de,"$&/")+"/"),W(ce,V,se,"",function(Re){return Re})):ce!=null&&(ne(ce)&&(ce=le(ce,se+(ce.key==null||N&&N.key===ce.key?"":(""+ce.key).replace(de,"$&/")+"/")+K)),V.push(ce)),1;K=0;var me=F===""?".":F+":";if(ee(N))for(var be=0;be<N.length;be++)F=N[be],B=me+ve(F,be),K+=W(F,V,se,B,ce);else if(be=C(N),typeof be=="function")for(N=be.call(N),be=0;!(F=N.next()).done;)F=F.value,B=me+ve(F,be++),K+=W(F,V,se,B,ce);else if(B==="object"){if(typeof N.then=="function")return W($(N),V,se,F,ce);throw V=String(N),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return K}function L(N,V,se){if(N==null)return N;var F=[],ce=0;return W(N,F,"","",function(B){return V.call(se,B,ce++)}),F}function Y(N){if(N._status===-1){var V=N._result;V=V(),V.then(function(se){(N._status===0||N._status===-1)&&(N._status=1,N._result=se)},function(se){(N._status===0||N._status===-1)&&(N._status=2,N._result=se)}),N._status===-1&&(N._status=0,N._result=V)}if(N._status===1)return N._result.default;throw N._result}var ie=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return we.Children={map:L,forEach:function(N,V,se){L(N,function(){V.apply(this,arguments)},se)},count:function(N){var V=0;return L(N,function(){V++}),V},toArray:function(N){return L(N,function(V){return V})||[]},only:function(N){if(!ne(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},we.Component=T,we.Fragment=c,we.Profiler=d,we.PureComponent=_,we.StrictMode=o,we.Suspense=p,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,we.__COMPILER_RUNTIME={__proto__:null,c:function(N){return J.H.useMemoCache(N)}},we.cache=function(N){return function(){return N.apply(null,arguments)}},we.cloneElement=function(N,V,se){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var F=H({},N.props),ce=N.key,B=void 0;if(V!=null)for(K in V.ref!==void 0&&(B=void 0),V.key!==void 0&&(ce=""+V.key),V)!ge.call(V,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&V.ref===void 0||(F[K]=V[K]);var K=arguments.length-2;if(K===1)F.children=se;else if(1<K){for(var me=Array(K),be=0;be<K;be++)me[be]=arguments[be+2];F.children=me}return ae(N.type,ce,void 0,void 0,B,F)},we.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},we.createElement=function(N,V,se){var F,ce={},B=null;if(V!=null)for(F in V.key!==void 0&&(B=""+V.key),V)ge.call(V,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ce[F]=V[F]);var K=arguments.length-2;if(K===1)ce.children=se;else if(1<K){for(var me=Array(K),be=0;be<K;be++)me[be]=arguments[be+2];ce.children=me}if(N&&N.defaultProps)for(F in K=N.defaultProps,K)ce[F]===void 0&&(ce[F]=K[F]);return ae(N,B,void 0,void 0,null,ce)},we.createRef=function(){return{current:null}},we.forwardRef=function(N){return{$$typeof:h,render:N}},we.isValidElement=ne,we.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:Y}},we.memo=function(N,V){return{$$typeof:g,type:N,compare:V===void 0?null:V}},we.startTransition=function(N){var V=J.T,se={};J.T=se;try{var F=N(),ce=J.S;ce!==null&&ce(se,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(je,ie)}catch(B){ie(B)}finally{J.T=V}},we.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},we.use=function(N){return J.H.use(N)},we.useActionState=function(N,V,se){return J.H.useActionState(N,V,se)},we.useCallback=function(N,V){return J.H.useCallback(N,V)},we.useContext=function(N){return J.H.useContext(N)},we.useDebugValue=function(){},we.useDeferredValue=function(N,V){return J.H.useDeferredValue(N,V)},we.useEffect=function(N,V,se){var F=J.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(N,V)},we.useId=function(){return J.H.useId()},we.useImperativeHandle=function(N,V,se){return J.H.useImperativeHandle(N,V,se)},we.useInsertionEffect=function(N,V){return J.H.useInsertionEffect(N,V)},we.useLayoutEffect=function(N,V){return J.H.useLayoutEffect(N,V)},we.useMemo=function(N,V){return J.H.useMemo(N,V)},we.useOptimistic=function(N,V){return J.H.useOptimistic(N,V)},we.useReducer=function(N,V,se){return J.H.useReducer(N,V,se)},we.useRef=function(N){return J.H.useRef(N)},we.useState=function(N){return J.H.useState(N)},we.useSyncExternalStore=function(N,V,se){return J.H.useSyncExternalStore(N,V,se)},we.useTransition=function(){return J.H.useTransition()},we.version="19.1.1",we}var ih;function nu(){return ih||(ih=1,Ic.exports=X0()),Ic.exports}var b=nu(),$c={exports:{}},zl={},Oc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function Q0(){return rh||(rh=1,(function(l){function i(L,Y){var ie=L.length;L.push(Y);e:for(;0<ie;){var je=ie-1>>>1,N=L[je];if(0<d(N,Y))L[je]=Y,L[ie]=N,ie=je;else break e}}function c(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var Y=L[0],ie=L.pop();if(ie!==Y){L[0]=ie;e:for(var je=0,N=L.length,V=N>>>1;je<V;){var se=2*(je+1)-1,F=L[se],ce=se+1,B=L[ce];if(0>d(F,ie))ce<N&&0>d(B,F)?(L[je]=B,L[ce]=ie,je=ce):(L[je]=F,L[se]=ie,je=se);else if(ce<N&&0>d(B,ie))L[je]=B,L[ce]=ie,je=ce;else break e}}return Y}function d(L,Y){var ie=L.sortIndex-Y.sortIndex;return ie!==0?ie:L.id-Y.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();l.unstable_now=function(){return m.now()-h}}var p=[],g=[],y=1,j=null,C=3,M=!1,H=!1,R=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function ee(L){for(var Y=c(g);Y!==null;){if(Y.callback===null)o(g);else if(Y.startTime<=L)o(g),Y.sortIndex=Y.expirationTime,i(p,Y);else break;Y=c(g)}}function J(L){if(R=!1,ee(L),!H)if(c(p)!==null)H=!0,ge||(ge=!0,ve());else{var Y=c(g);Y!==null&&W(J,Y.startTime-L)}}var ge=!1,ae=-1,le=5,ne=-1;function fe(){return T?!0:!(l.unstable_now()-ne<le)}function de(){if(T=!1,ge){var L=l.unstable_now();ne=L;var Y=!0;try{e:{H=!1,R&&(R=!1,_(ae),ae=-1),M=!0;var ie=C;try{t:{for(ee(L),j=c(p);j!==null&&!(j.expirationTime>L&&fe());){var je=j.callback;if(typeof je=="function"){j.callback=null,C=j.priorityLevel;var N=je(j.expirationTime<=L);if(L=l.unstable_now(),typeof N=="function"){j.callback=N,ee(L),Y=!0;break t}j===c(p)&&o(p),ee(L)}else o(p);j=c(p)}if(j!==null)Y=!0;else{var V=c(g);V!==null&&W(J,V.startTime-L),Y=!1}}break e}finally{j=null,C=ie,M=!1}Y=void 0}}finally{Y?ve():ge=!1}}}var ve;if(typeof I=="function")ve=function(){I(de)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,$=U.port2;U.port1.onmessage=de,ve=function(){$.postMessage(null)}}else ve=function(){S(de,0)};function W(L,Y){ae=S(function(){L(l.unstable_now())},Y)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(L){L.callback=null},l.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<L?Math.floor(1e3/L):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(L){switch(C){case 1:case 2:case 3:var Y=3;break;default:Y=C}var ie=C;C=Y;try{return L()}finally{C=ie}},l.unstable_requestPaint=function(){T=!0},l.unstable_runWithPriority=function(L,Y){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=C;C=L;try{return Y()}finally{C=ie}},l.unstable_scheduleCallback=function(L,Y,ie){var je=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?je+ie:je):ie=je,L){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ie+N,L={id:y++,callback:Y,priorityLevel:L,startTime:ie,expirationTime:N,sortIndex:-1},ie>je?(L.sortIndex=ie,i(g,L),c(p)===null&&L===c(g)&&(R?(_(ae),ae=-1):R=!0,W(J,ie-je))):(L.sortIndex=N,i(p,L),H||M||(H=!0,ge||(ge=!0,ve()))),L},l.unstable_shouldYield=fe,l.unstable_wrapCallback=function(L){var Y=C;return function(){var ie=C;C=Y;try{return L.apply(this,arguments)}finally{C=ie}}}})(Gc)),Gc}var oh;function K0(){return oh||(oh=1,Oc.exports=Q0()),Oc.exports}var Vc={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ch;function J0(){if(ch)return ht;ch=1;var l=nu();function i(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(){}var o={d:{f:c,r:function(){throw Error(i(522))},D:c,C:c,L:c,m:c,X:c,S:c,M:c},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(p,g,y){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:j==null?null:""+j,children:p,containerInfo:g,implementation:y}}var m=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ht.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(i(299));return f(p,g,null,y)},ht.flushSync=function(p){var g=m.T,y=o.p;try{if(m.T=null,o.p=2,p)return p()}finally{m.T=g,o.p=y,o.d.f()}},ht.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(p,g))},ht.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},ht.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,j=h(y,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?o.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:j,integrity:C,fetchPriority:M}):y==="script"&&o.d.X(p,{crossOrigin:j,integrity:C,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ht.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);o.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(p)},ht.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,j=h(y,g.crossOrigin);o.d.L(p,y,{crossOrigin:j,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ht.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=h(g.as,g.crossOrigin);o.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(p)},ht.requestFormReset=function(p){o.d.r(p)},ht.unstable_batchedUpdates=function(p,g){return p(g)},ht.useFormState=function(p,g,y){return m.H.useFormState(p,g,y)},ht.useFormStatus=function(){return m.H.useHostTransitionStatus()},ht.version="19.1.1",ht}var uh;function W0(){if(uh)return Vc.exports;uh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Vc.exports=J0(),Vc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function F0(){if(dh)return zl;dh=1;var l=K0(),i=nu(),c=W0();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(o(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return h(r),e;if(u===s)return h(r),t;u=u.sibling}throw Error(o(188))}if(n.return!==s.return)n=r,s=u;else{for(var x=!1,v=r.child;v;){if(v===n){x=!0,n=r,s=u;break}if(v===s){x=!0,s=r,n=u;break}v=v.sibling}if(!x){for(v=u.child;v;){if(v===n){x=!0,n=u,s=r;break}if(v===s){x=!0,s=u,n=r;break}v=v.sibling}if(!x)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(n.tag!==3)throw Error(o(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,j=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),I=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=de&&e[de]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function $(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case T:return"Profiler";case R:return"StrictMode";case J:return"Suspense";case ge:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case I:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:$(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return $(e(t))}catch{}}return null}var W=Array.isArray,L=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=c.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},je=[],N=-1;function V(e){return{current:e}}function se(e){0>N||(e.current=je[N],je[N]=null,N--)}function F(e,t){N++,je[N]=e.current,e.current=t}var ce=V(null),B=V(null),K=V(null),me=V(null);function be(e,t){switch(F(K,t),F(B,e),F(ce,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?km(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=km(t),e=Dm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}se(ce),F(ce,e)}function Re(){se(ce),se(B),se(K)}function xt(e){e.memoizedState!==null&&F(me,e);var t=ce.current,n=Dm(t,e.type);t!==n&&(F(B,e),F(ce,n))}function Hn(e){B.current===e&&(se(ce),se(B)),me.current===e&&(se(me),kl._currentValue=ie)}var da=Object.prototype.hasOwnProperty,Ps=l.unstable_scheduleCallback,Bn=l.unstable_cancelCallback,Er=l.unstable_shouldYield,Cr=l.unstable_requestPaint,_t=l.unstable_now,Ar=l.unstable_getCurrentPriorityLevel,Hs=l.unstable_ImmediatePriority,Zl=l.unstable_UserBlockingPriority,In=l.unstable_NormalPriority,Tr=l.unstable_LowPriority,Xl=l.unstable_IdlePriority,Bs=l.log,Is=l.unstable_setDisableYieldValue,fa=null,nt=null;function aa(e){if(typeof Bs=="function"&&Is(e),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(fa,e)}catch{}}var dt=Math.clz32?Math.clz32:Jl,Ql=Math.log,Kl=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Ql(e)/Kl|0)|0}var $n=256,On=4194304;function ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gn(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~u,s!==0?r=ma(s):(x&=v,x!==0?r=ma(x):n||(n=v&~e,n!==0&&(r=ma(n))))):(v=s&~u,v!==0?r=ma(v):x!==0?r=ma(x):n||(n=s&~e,n!==0&&(r=ma(n)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:r}function pn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Mr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wl(){var e=$n;return $n<<=1,($n&4194048)===0&&($n=256),e}function Vn(){var e=On;return On<<=1,(On&62914560)===0&&(On=4194304),e}function X(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function te(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function st(e,t,n,s,r,u){var x=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var v=e.entanglements,w=e.expirationTimes,D=e.hiddenUpdates;for(n=x&~n;0<n;){var O=31-dt(n),Z=1<<O;v[O]=0,w[O]=-1;var q=D[O];if(q!==null)for(D[O]=null,O=0;O<q.length;O++){var z=q[O];z!==null&&(z.lane&=-536870913)}n&=~Z}s!==0&&Je(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(x&~t))}function Je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-dt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function Yn(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-dt(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function xn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Rr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function gu(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Jm(e.type))}function Lp(e,t){var n=Y.p;try{return Y.p=e,t()}finally{Y.p=n}}var za=Math.random().toString(36).slice(2),ft="__reactFiber$"+za,vt="__reactProps$"+za,Zn="__reactContainer$"+za,kr="__reactEvents$"+za,qp="__reactListeners$"+za,zp="__reactHandles$"+za,yu="__reactResources$"+za,$s="__reactMarker$"+za;function Dr(e){delete e[ft],delete e[vt],delete e[kr],delete e[qp],delete e[zp]}function Xn(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zn]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qm(e);e!==null;){if(n=e[ft])return n;e=qm(e)}return t}e=n,n=e.parentNode}return null}function Qn(e){if(e=e[ft]||e[Zn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Os(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function Kn(e){var t=e[yu];return t||(t=e[yu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function We(e){e[$s]=!0}var vu=new Set,bu={};function gn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(bu[e]=t,e=0;e<t.length;e++)vu.add(t[e])}var Pp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ju={},wu={};function Hp(e){return da.call(wu,e)?!0:da.call(ju,e)?!1:Pp.test(e)?wu[e]=!0:(ju[e]=!0,!1)}function Fl(e,t,n){if(Hp(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ei(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ha(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Ur,Nu;function Wn(e){if(Ur===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ur=t&&t[1]||"",Nu=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ur+e+Nu}var _r=!1;function Lr(e,t){if(!e||_r)return"";_r=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(z){var q=z}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(z){q=z}e.call(Z.prototype)}}else{try{throw Error()}catch(z){q=z}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(z){if(z&&q&&typeof z.stack=="string")return[z.stack,q.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),x=u[0],v=u[1];if(x&&v){var w=x.split(`
`),D=v.split(`
`);for(r=s=0;s<w.length&&!w[s].includes("DetermineComponentFrameRoot");)s++;for(;r<D.length&&!D[r].includes("DetermineComponentFrameRoot");)r++;if(s===w.length||r===D.length)for(s=w.length-1,r=D.length-1;1<=s&&0<=r&&w[s]!==D[r];)r--;for(;1<=s&&0<=r;s--,r--)if(w[s]!==D[r]){if(s!==1||r!==1)do if(s--,r--,0>r||w[s]!==D[r]){var O=`
`+w[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=r);break}}}finally{_r=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Wn(n):""}function Bp(e){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return Lr(e.type,!1);case 11:return Lr(e.type.render,!1);case 1:return Lr(e.type,!0);case 31:return Wn("Activity");default:return""}}function Su(e){try{var t="";do t+=Bp(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Eu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ip(e){var t=Eu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(x){s=""+x,u.call(this,x)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(x){s=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ti(e){e._valueTracker||(e._valueTracker=Ip(e))}function Cu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Eu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $p=/[\n"\\]/g;function qt(e){return e.replace($p,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qr(e,t,n,s,r,u,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Lt(t)):e.value!==""+Lt(t)&&(e.value=""+Lt(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?zr(e,x,Lt(t)):n!=null?zr(e,x,Lt(n)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Lt(v):e.removeAttribute("name")}function Au(e,t,n,s,r,u,x,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null))return;n=n!=null?""+Lt(n):"",t=t!=null?""+Lt(t):n,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function zr(e,t,n){t==="number"&&ai(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fn(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Lt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Tu(e,t,n){if(t!=null&&(t=""+Lt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Lt(n):""}function Mu(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(o(92));if(W(s)){if(1<s.length)throw Error(o(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Lt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function es(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Op=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Op.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ku(e,t,n){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&Ru(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Ru(e,u,t[u])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(e){return Vp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hr=null;function Br(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ts=null,as=null;function Du(e){var t=Qn(e);if(t&&(e=t.stateNode)){var n=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(qr(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[vt]||null;if(!r)throw Error(o(90));qr(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Cu(s)}break e;case"textarea":Tu(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Fn(e,!!n.multiple,t,!1)}}}var Ir=!1;function Uu(e,t,n){if(Ir)return e(t,n);Ir=!0;try{var s=e(t);return s}finally{if(Ir=!1,(ts!==null||as!==null)&&($i(),ts&&(t=ts,e=as,as=ts=null,Du(t),e)))for(t=0;t<e.length;t++)Du(e[t])}}function Gs(e,t){var n=e.stateNode;if(n===null)return null;var s=n[vt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(o(231,t,typeof n));return n}var pa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(pa)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){$r=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{$r=!1}var Pa=null,Or=null,si=null;function _u(){if(si)return si;var e,t=Or,n=t.length,s,r="value"in Pa?Pa.value:Pa.textContent,u=r.length;for(e=0;e<n&&t[e]===r[e];e++);var x=n-e;for(s=1;s<=x&&t[n-s]===r[u-s];s++);return si=r.slice(e,1<s?1-s:void 0)}function li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ii(){return!0}function Lu(){return!1}function bt(e){function t(n,s,r,u,x){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?ii:Lu,this.isPropagationStopped=Lu,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ri=bt(yn),Ys=y({},yn,{view:0,detail:0}),Yp=bt(Ys),Gr,Vr,Zs,oi=y({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zs&&(Zs&&e.type==="mousemove"?(Gr=e.screenX-Zs.screenX,Vr=e.screenY-Zs.screenY):Vr=Gr=0,Zs=e),Gr)},movementY:function(e){return"movementY"in e?e.movementY:Vr}}),qu=bt(oi),Zp=y({},oi,{dataTransfer:0}),Xp=bt(Zp),Qp=y({},Ys,{relatedTarget:0}),Yr=bt(Qp),Kp=y({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),Jp=bt(Kp),Wp=y({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fp=bt(Wp),ex=y({},yn,{data:0}),zu=bt(ex),tx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ax={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nx[e])?!!t[e]:!1}function Zr(){return sx}var lx=y({},Ys,{key:function(e){if(e.key){var t=tx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ax[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(e){return e.type==="keypress"?li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ix=bt(lx),rx=y({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pu=bt(rx),ox=y({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),cx=bt(ox),ux=y({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dx=bt(ux),fx=y({},oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mx=bt(fx),hx=y({},yn,{newState:0,oldState:0}),px=bt(hx),xx=[9,13,27,32],Xr=pa&&"CompositionEvent"in window,Xs=null;pa&&"documentMode"in document&&(Xs=document.documentMode);var gx=pa&&"TextEvent"in window&&!Xs,Hu=pa&&(!Xr||Xs&&8<Xs&&11>=Xs),Bu=" ",Iu=!1;function $u(e,t){switch(e){case"keyup":return xx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function yx(e,t){switch(e){case"compositionend":return Ou(t);case"keypress":return t.which!==32?null:(Iu=!0,Bu);case"textInput":return e=t.data,e===Bu&&Iu?null:e;default:return null}}function vx(e,t){if(ns)return e==="compositionend"||!Xr&&$u(e,t)?(e=_u(),si=Or=Pa=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hu&&t.locale!=="ko"?null:t.data;default:return null}}var bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bx[e.type]:t==="textarea"}function Vu(e,t,n,s){ts?as?as.push(s):as=[s]:ts=s,t=Xi(t,"onChange"),0<t.length&&(n=new ri("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Qs=null,Ks=null;function jx(e){Cm(e,0)}function ci(e){var t=Os(e);if(Cu(t))return e}function Yu(e,t){if(e==="change")return t}var Zu=!1;if(pa){var Qr;if(pa){var Kr="oninput"in document;if(!Kr){var Xu=document.createElement("div");Xu.setAttribute("oninput","return;"),Kr=typeof Xu.oninput=="function"}Qr=Kr}else Qr=!1;Zu=Qr&&(!document.documentMode||9<document.documentMode)}function Qu(){Qs&&(Qs.detachEvent("onpropertychange",Ku),Ks=Qs=null)}function Ku(e){if(e.propertyName==="value"&&ci(Ks)){var t=[];Vu(t,Ks,e,Br(e)),Uu(jx,t)}}function wx(e,t,n){e==="focusin"?(Qu(),Qs=t,Ks=n,Qs.attachEvent("onpropertychange",Ku)):e==="focusout"&&Qu()}function Nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ci(Ks)}function Sx(e,t){if(e==="click")return ci(t)}function Ex(e,t){if(e==="input"||e==="change")return ci(t)}function Cx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Cx;function Js(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!da.call(t,r)||!Et(e[r],t[r]))return!1}return!0}function Ju(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wu(e,t){var n=Ju(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ju(n)}}function Fu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ai(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ai(e.document)}return t}function Jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ax=pa&&"documentMode"in document&&11>=document.documentMode,ss=null,Wr=null,Ws=null,Fr=!1;function td(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fr||ss==null||ss!==ai(s)||(s=ss,"selectionStart"in s&&Jr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ws&&Js(Ws,s)||(Ws=s,s=Xi(Wr,"onSelect"),0<s.length&&(t=new ri("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ss)))}function vn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ls={animationend:vn("Animation","AnimationEnd"),animationiteration:vn("Animation","AnimationIteration"),animationstart:vn("Animation","AnimationStart"),transitionrun:vn("Transition","TransitionRun"),transitionstart:vn("Transition","TransitionStart"),transitioncancel:vn("Transition","TransitionCancel"),transitionend:vn("Transition","TransitionEnd")},eo={},ad={};pa&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete ls.animationend.animation,delete ls.animationiteration.animation,delete ls.animationstart.animation),"TransitionEvent"in window||delete ls.transitionend.transition);function bn(e){if(eo[e])return eo[e];if(!ls[e])return e;var t=ls[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ad)return eo[e]=t[n];return e}var nd=bn("animationend"),sd=bn("animationiteration"),ld=bn("animationstart"),Tx=bn("transitionrun"),Mx=bn("transitionstart"),Rx=bn("transitioncancel"),id=bn("transitionend"),rd=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function Kt(e,t){rd.set(e,t),gn(t,[e])}var od=new WeakMap;function zt(e,t){if(typeof e=="object"&&e!==null){var n=od.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Su(t)},od.set(e,t),t)}return{value:e,source:t,stack:Su(t)}}var Pt=[],is=0,ao=0;function ui(){for(var e=is,t=ao=is=0;t<e;){var n=Pt[t];Pt[t++]=null;var s=Pt[t];Pt[t++]=null;var r=Pt[t];Pt[t++]=null;var u=Pt[t];if(Pt[t++]=null,s!==null&&r!==null){var x=s.pending;x===null?r.next=r:(r.next=x.next,x.next=r),s.pending=r}u!==0&&cd(n,r,u)}}function di(e,t,n,s){Pt[is++]=e,Pt[is++]=t,Pt[is++]=n,Pt[is++]=s,ao|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function no(e,t,n,s){return di(e,t,n,s),fi(e)}function rs(e,t){return di(e,null,null,t),fi(e)}function cd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-dt(n),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),u):null}function fi(e){if(50<Nl)throw Nl=0,uc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var os={};function kx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,s){return new kx(e,t,n,s)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xa(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ud(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function mi(e,t,n,s,r,u){var x=0;if(s=e,typeof e=="function")so(e)&&(x=1);else if(typeof e=="string")x=U0(e,n,ce.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Ct(31,n,t,r),e.elementType=ne,e.lanes=u,e;case H:return jn(n.children,r,u,t);case R:x=8,r|=24;break;case T:return e=Ct(12,n,t,r|2),e.elementType=T,e.lanes=u,e;case J:return e=Ct(13,n,t,r),e.elementType=J,e.lanes=u,e;case ge:return e=Ct(19,n,t,r),e.elementType=ge,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:case I:x=10;break e;case _:x=9;break e;case ee:x=11;break e;case ae:x=14;break e;case le:x=16,s=null;break e}x=29,n=Error(o(130,e===null?"null":typeof e,"")),s=null}return t=Ct(x,n,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function jn(e,t,n,s){return e=Ct(7,e,s,t),e.lanes=n,e}function lo(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function io(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cs=[],us=0,hi=null,pi=0,Ht=[],Bt=0,wn=null,ga=1,ya="";function Nn(e,t){cs[us++]=pi,cs[us++]=hi,hi=e,pi=t}function dd(e,t,n){Ht[Bt++]=ga,Ht[Bt++]=ya,Ht[Bt++]=wn,wn=e;var s=ga;e=ya;var r=32-dt(s)-1;s&=~(1<<r),n+=1;var u=32-dt(t)+r;if(30<u){var x=r-r%5;u=(s&(1<<x)-1).toString(32),s>>=x,r-=x,ga=1<<32-dt(t)+r|n<<r|s,ya=u+e}else ga=1<<u|n<<r|s,ya=e}function ro(e){e.return!==null&&(Nn(e,1),dd(e,1,0))}function oo(e){for(;e===hi;)hi=cs[--us],cs[us]=null,pi=cs[--us],cs[us]=null;for(;e===wn;)wn=Ht[--Bt],Ht[Bt]=null,ya=Ht[--Bt],Ht[Bt]=null,ga=Ht[--Bt],Ht[Bt]=null}var gt=null,$e=null,Me=!1,Sn=null,na=!1,co=Error(o(519));function En(e){var t=Error(o(418,""));throw tl(zt(t,e)),co}function fd(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[ft]=e,t[vt]=s,n){case"dialog":Ce("cancel",t),Ce("close",t);break;case"iframe":case"object":case"embed":Ce("load",t);break;case"video":case"audio":for(n=0;n<El.length;n++)Ce(El[n],t);break;case"source":Ce("error",t);break;case"img":case"image":case"link":Ce("error",t),Ce("load",t);break;case"details":Ce("toggle",t);break;case"input":Ce("invalid",t),Au(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),ti(t);break;case"select":Ce("invalid",t);break;case"textarea":Ce("invalid",t),Mu(t,s.value,s.defaultValue,s.children),ti(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Rm(t.textContent,n)?(s.popover!=null&&(Ce("beforetoggle",t),Ce("toggle",t)),s.onScroll!=null&&Ce("scroll",t),s.onScrollEnd!=null&&Ce("scrollend",t),s.onClick!=null&&(t.onclick=Qi),t=!0):t=!1,t||En(e)}function md(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:na=!1;return;case 27:case 3:na=!0;return;default:gt=gt.return}}function Fs(e){if(e!==gt)return!1;if(!Me)return md(e),Me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Cc(e.type,e.memoizedProps)),n=!n),n&&$e&&En(e),md(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){$e=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}$e=null}}else t===27?(t=$e,en(e.type)?(e=Rc,Rc=null,$e=e):$e=t):$e=gt?Wt(e.stateNode.nextSibling):null;return!0}function el(){$e=gt=null,Me=!1}function hd(){var e=Sn;return e!==null&&(Nt===null?Nt=e:Nt.push.apply(Nt,e),Sn=null),e}function tl(e){Sn===null?Sn=[e]:Sn.push(e)}var uo=V(null),Cn=null,va=null;function Ha(e,t,n){F(uo,t._currentValue),t._currentValue=n}function ba(e){e._currentValue=uo.current,se(uo)}function fo(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function mo(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var x=r.child;u=u.firstContext;e:for(;u!==null;){var v=u;u=r;for(var w=0;w<t.length;w++)if(v.context===t[w]){u.lanes|=n,v=u.alternate,v!==null&&(v.lanes|=n),fo(u.return,n,e),s||(x=null);break e}u=v.next}}else if(r.tag===18){if(x=r.return,x===null)throw Error(o(341));x.lanes|=n,u=x.alternate,u!==null&&(u.lanes|=n),fo(x,n,e),x=null}else x=r.child;if(x!==null)x.return=r;else for(x=r;x!==null;){if(x===e){x=null;break}if(r=x.sibling,r!==null){r.return=x.return,x=r;break}x=x.return}r=x}}function al(e,t,n,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var x=r.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var v=r.type;Et(r.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(r===me.current){if(x=r.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(kl):e=[kl])}r=r.return}e!==null&&mo(t,e,n,s),t.flags|=262144}function xi(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function An(e){Cn=e,va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return pd(Cn,e)}function gi(e,t){return Cn===null&&An(e),pd(e,t)}function pd(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},va===null){if(e===null)throw Error(o(308));va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else va=va.next=t;return n}var Dx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Ux=l.unstable_scheduleCallback,_x=l.unstable_NormalPriority,Qe={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ho(){return{controller:new Dx,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&Ux(_x,function(){e.controller.abort()})}var sl=null,po=0,ds=0,fs=null;function Lx(e,t){if(sl===null){var n=sl=[];po=0,ds=gc(),fs={status:"pending",value:void 0,then:function(s){n.push(s)}}}return po++,t.then(xd,xd),t}function xd(){if(--po===0&&sl!==null){fs!==null&&(fs.status="fulfilled");var e=sl;sl=null,ds=0,fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var gd=L.S;L.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Lx(e,t),gd!==null&&gd(e,t)};var Tn=V(null);function xo(){var e=Tn.current;return e!==null?e:ze.pooledCache}function yi(e,t){t===null?F(Tn,Tn.current):F(Tn,t.pool)}function yd(){var e=xo();return e===null?null:{parent:Qe._currentValue,pool:e}}var ll=Error(o(460)),vd=Error(o(474)),vi=Error(o(542)),go={then:function(){}};function bd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bi(){}function jd(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bi,bi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nd(e),e;default:if(typeof t.status=="string")t.then(bi,bi);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Nd(e),e}throw il=t,ll}}var il=null;function wd(){if(il===null)throw Error(o(459));var e=il;return il=null,e}function Nd(e){if(e===ll||e===vi)throw Error(o(483))}var Ba=!1;function yo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ke&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=fi(e),cd(e,null,n),t}return di(e,s,t,n),fi(e)}function rl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Yn(e,n)}}function bo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var x={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=x:u=u.next=x,n=n.next}while(n!==null);u===null?r=u=t:u=u.next=t}else r=u=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function ol(){if(jo){var e=fs;if(e!==null)throw e}}function cl(e,t,n,s){jo=!1;var r=e.updateQueue;Ba=!1;var u=r.firstBaseUpdate,x=r.lastBaseUpdate,v=r.shared.pending;if(v!==null){r.shared.pending=null;var w=v,D=w.next;w.next=null,x===null?u=D:x.next=D,x=w;var O=e.alternate;O!==null&&(O=O.updateQueue,v=O.lastBaseUpdate,v!==x&&(v===null?O.firstBaseUpdate=D:v.next=D,O.lastBaseUpdate=w))}if(u!==null){var Z=r.baseState;x=0,O=D=w=null,v=u;do{var q=v.lane&-536870913,z=q!==v.lane;if(z?(Ae&q)===q:(s&q)===q){q!==0&&q===ds&&(jo=!0),O!==null&&(O=O.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var ye=e,pe=v;q=t;var Le=n;switch(pe.tag){case 1:if(ye=pe.payload,typeof ye=="function"){Z=ye.call(Le,Z,q);break e}Z=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=pe.payload,q=typeof ye=="function"?ye.call(Le,Z,q):ye,q==null)break e;Z=y({},Z,q);break e;case 2:Ba=!0}}q=v.callback,q!==null&&(e.flags|=64,z&&(e.flags|=8192),z=r.callbacks,z===null?r.callbacks=[q]:z.push(q))}else z={lane:q,tag:v.tag,payload:v.payload,callback:v.callback,next:null},O===null?(D=O=z,w=Z):O=O.next=z,x|=q;if(v=v.next,v===null){if(v=r.shared.pending,v===null)break;z=v,v=z.next,z.next=null,r.lastBaseUpdate=z,r.shared.pending=null}}while(!0);O===null&&(w=Z),r.baseState=w,r.firstBaseUpdate=D,r.lastBaseUpdate=O,u===null&&(r.shared.lanes=0),Ka|=x,e.lanes=x,e.memoizedState=Z}}function Sd(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Ed(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Sd(n[e],t)}var ms=V(null),ji=V(0);function Cd(e,t){e=Aa,F(ji,e),F(ms,t),Aa=e|t.baseLanes}function wo(){F(ji,Aa),F(ms,ms.current)}function No(){Aa=ji.current,se(ms),se(ji)}var Oa=0,Ne=null,Ue=null,Ye=null,wi=!1,hs=!1,Mn=!1,Ni=0,ul=0,ps=null,zx=0;function Ge(){throw Error(o(321))}function So(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Et(e[n],t[n]))return!1;return!0}function Eo(e,t,n,s,r,u){return Oa=u,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?uf:df,Mn=!1,u=n(s,r),Mn=!1,hs&&(u=Td(t,n,s,r)),Ad(e),u}function Ad(e){L.H=Mi;var t=Ue!==null&&Ue.next!==null;if(Oa=0,Ye=Ue=Ne=null,wi=!1,ul=0,ps=null,t)throw Error(o(300));e===null||Fe||(e=e.dependencies,e!==null&&xi(e)&&(Fe=!0))}function Td(e,t,n,s){Ne=e;var r=0;do{if(hs&&(ps=null),ul=0,hs=!1,25<=r)throw Error(o(301));if(r+=1,Ye=Ue=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}L.H=Gx,u=t(n,s)}while(hs);return u}function Px(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?dl(t):t,e=e.useState()[0],(Ue!==null?Ue.memoizedState:null)!==e&&(Ne.flags|=1024),t}function Co(){var e=Ni!==0;return Ni=0,e}function Ao(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function To(e){if(wi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wi=!1}Oa=0,Ye=Ue=Ne=null,hs=!1,ul=Ni=0,ps=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Ne.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Ze(){if(Ue===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Ye===null?Ne.memoizedState:Ye.next;if(t!==null)Ye=t,Ue=e;else{if(e===null)throw Ne.alternate===null?Error(o(467)):Error(o(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ye===null?Ne.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function Mo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(e){var t=ul;return ul+=1,ps===null&&(ps=[]),e=jd(ps,e,t),t=Ne,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?uf:df),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dl(e);if(e.$$typeof===I)return mt(e)}throw Error(o(438,String(e)))}function Ro(e){var t=null,n=Ne.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=Ne.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Mo(),Ne.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=fe;return t.index++,n}function ja(e,t){return typeof t=="function"?t(e):t}function Ei(e){var t=Ze();return ko(t,Ue,e)}function ko(e,t,n){var s=e.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var x=r.next;r.next=u.next,u.next=x}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var v=x=null,w=null,D=t,O=!1;do{var Z=D.lane&-536870913;if(Z!==D.lane?(Ae&Z)===Z:(Oa&Z)===Z){var q=D.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),Z===ds&&(O=!0);else if((Oa&q)===q){D=D.next,q===ds&&(O=!0);continue}else Z={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(v=w=Z,x=u):w=w.next=Z,Ne.lanes|=q,Ka|=q;Z=D.action,Mn&&n(u,Z),u=D.hasEagerState?D.eagerState:n(u,Z)}else q={lane:Z,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(v=w=q,x=u):w=w.next=q,Ne.lanes|=Z,Ka|=Z;D=D.next}while(D!==null&&D!==t);if(w===null?x=u:w.next=v,!Et(u,e.memoizedState)&&(Fe=!0,O&&(n=fs,n!==null)))throw n;e.memoizedState=u,e.baseState=x,e.baseQueue=w,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Do(e){var t=Ze(),n=t.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,u=t.memoizedState;if(r!==null){n.pending=null;var x=r=r.next;do u=e(u,x.action),x=x.next;while(x!==r);Et(u,t.memoizedState)||(Fe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Md(e,t,n){var s=Ne,r=Ze(),u=Me;if(u){if(n===void 0)throw Error(o(407));n=n()}else n=t();var x=!Et((Ue||r).memoizedState,n);x&&(r.memoizedState=n,Fe=!0),r=r.queue;var v=Dd.bind(null,s,r,e);if(fl(2048,8,v,[e]),r.getSnapshot!==t||x||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,xs(9,Ci(),kd.bind(null,s,r,n,t),null),ze===null)throw Error(o(349));u||(Oa&124)!==0||Rd(s,t,n)}return n}function Rd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t=Mo(),Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kd(e,t,n,s){t.value=n,t.getSnapshot=s,Ud(t)&&_d(e)}function Dd(e,t,n){return n(function(){Ud(t)&&_d(e)})}function Ud(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Et(e,n)}catch{return!0}}function _d(e){var t=rs(e,2);t!==null&&kt(t,e,2)}function Uo(e){var t=jt();if(typeof e=="function"){var n=e;if(e=n(),Mn){aa(!0);try{n()}finally{aa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:e},t}function Ld(e,t,n,s){return e.baseState=n,ko(e,Ue,typeof s=="function"?s:ja)}function Hx(e,t,n,s,r){if(Ti(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){u.listeners.push(x)}};L.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,qd(t,u)):(u.next=n.next,t.pending=n.next=u)}}function qd(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=L.T,x={};L.T=x;try{var v=n(r,s),w=L.S;w!==null&&w(x,v),zd(e,t,v)}catch(D){_o(e,t,D)}finally{L.T=u}}else try{u=n(r,s),zd(e,t,u)}catch(D){_o(e,t,D)}}function zd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Pd(e,t,s)},function(s){return _o(e,t,s)}):Pd(e,t,n)}function Pd(e,t,n){t.status="fulfilled",t.value=n,Hd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,qd(e,n)))}function _o(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Hd(t),t=t.next;while(t!==s)}e.action=null}function Hd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Bd(e,t){return t}function Id(e,t){if(Me){var n=ze.formState;if(n!==null){e:{var s=Ne;if(Me){if($e){t:{for(var r=$e,u=na;r.nodeType!==8;){if(!u){r=null;break t}if(r=Wt(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){$e=Wt(r.nextSibling),s=r.data==="F!";break e}}En(s)}s=!1}s&&(t=n[0])}}return n=jt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:t},n.queue=s,n=rf.bind(null,Ne,s),s.dispatch=n,s=Uo(!1),u=Ho.bind(null,Ne,!1,s.queue),s=jt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=Hx.bind(null,Ne,r,u,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function $d(e){var t=Ze();return Od(t,Ue,e)}function Od(e,t,n){if(t=ko(e,t,Bd)[0],e=Ei(ja)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=dl(t)}catch(x){throw x===ll?vi:x}else s=t;t=Ze();var r=t.queue,u=r.dispatch;return n!==t.memoizedState&&(Ne.flags|=2048,xs(9,Ci(),Bx.bind(null,r,n),null)),[s,u,e]}function Bx(e,t){e.action=t}function Gd(e){var t=Ze(),n=Ue;if(n!==null)return Od(t,n,e);Ze(),t=t.memoizedState,n=Ze();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function xs(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=Ne.updateQueue,t===null&&(t=Mo(),Ne.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function Ci(){return{destroy:void 0,resource:void 0}}function Vd(){return Ze().memoizedState}function Ai(e,t,n,s){var r=jt();s=s===void 0?null:s,Ne.flags|=e,r.memoizedState=xs(1|t,Ci(),n,s)}function fl(e,t,n,s){var r=Ze();s=s===void 0?null:s;var u=r.memoizedState.inst;Ue!==null&&s!==null&&So(s,Ue.memoizedState.deps)?r.memoizedState=xs(t,u,n,s):(Ne.flags|=e,r.memoizedState=xs(1|t,u,n,s))}function Yd(e,t){Ai(8390656,8,e,t)}function Zd(e,t){fl(2048,8,e,t)}function Xd(e,t){return fl(4,2,e,t)}function Qd(e,t){return fl(4,4,e,t)}function Kd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jd(e,t,n){n=n!=null?n.concat([e]):null,fl(4,4,Kd.bind(null,t,e),n)}function Lo(){}function Wd(e,t){var n=Ze();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&So(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Fd(e,t){var n=Ze();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&So(t,s[1]))return s[0];if(s=e(),Mn){aa(!0);try{e()}finally{aa(!1)}}return n.memoizedState=[s,t],s}function qo(e,t,n){return n===void 0||(Oa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=nm(),Ne.lanes|=e,Ka|=e,n)}function ef(e,t,n,s){return Et(n,t)?n:ms.current!==null?(e=qo(e,n,s),Et(e,t)||(Fe=!0),e):(Oa&42)===0?(Fe=!0,e.memoizedState=n):(e=nm(),Ne.lanes|=e,Ka|=e,t)}function tf(e,t,n,s,r){var u=Y.p;Y.p=u!==0&&8>u?u:8;var x=L.T,v={};L.T=v,Ho(e,!1,t,n);try{var w=r(),D=L.S;if(D!==null&&D(v,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var O=qx(w,s);ml(e,t,O,Rt(e))}else ml(e,t,s,Rt(e))}catch(Z){ml(e,t,{then:function(){},status:"rejected",reason:Z},Rt())}finally{Y.p=u,L.T=x}}function Ix(){}function zo(e,t,n,s){if(e.tag!==5)throw Error(o(476));var r=af(e).queue;tf(e,r,t,ie,n===null?Ix:function(){return nf(e),n(s)})}function af(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function nf(e){var t=af(e).next.queue;ml(e,t,{},Rt())}function Po(){return mt(kl)}function sf(){return Ze().memoizedState}function lf(){return Ze().memoizedState}function $x(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Rt();e=Ia(n);var s=$a(t,e,n);s!==null&&(kt(s,t,n),rl(s,t,n)),t={cache:ho()},e.payload=t;return}t=t.return}}function Ox(e,t,n){var s=Rt();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ti(e)?of(t,n):(n=no(e,t,n,s),n!==null&&(kt(n,e,s),cf(n,t,s)))}function rf(e,t,n){var s=Rt();ml(e,t,n,s)}function ml(e,t,n,s){var r={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ti(e))of(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var x=t.lastRenderedState,v=u(x,n);if(r.hasEagerState=!0,r.eagerState=v,Et(v,x))return di(e,t,r,0),ze===null&&ui(),!1}catch{}finally{}if(n=no(e,t,r,s),n!==null)return kt(n,e,s),cf(n,t,s),!0}return!1}function Ho(e,t,n,s){if(s={lane:2,revertLane:gc(),action:s,hasEagerState:!1,eagerState:null,next:null},Ti(e)){if(t)throw Error(o(479))}else t=no(e,n,s,2),t!==null&&kt(t,e,2)}function Ti(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function of(e,t){hs=wi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Yn(e,n)}}var Mi={readContext:mt,use:Si,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge},uf={readContext:mt,use:Si,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Yd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ai(4194308,4,Kd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ai(4194308,4,e,t)},useInsertionEffect:function(e,t){Ai(4,2,e,t)},useMemo:function(e,t){var n=jt();t=t===void 0?null:t;var s=e();if(Mn){aa(!0);try{e()}finally{aa(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=jt();if(n!==void 0){var r=n(t);if(Mn){aa(!0);try{n(t)}finally{aa(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Ox.bind(null,Ne,e),[s.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=Uo(e);var t=e.queue,n=rf.bind(null,Ne,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Lo,useDeferredValue:function(e,t){var n=jt();return qo(n,e,t)},useTransition:function(){var e=Uo(!1);return e=tf.bind(null,Ne,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=Ne,r=jt();if(Me){if(n===void 0)throw Error(o(407));n=n()}else{if(n=t(),ze===null)throw Error(o(349));(Ae&124)!==0||Rd(s,t,n)}r.memoizedState=n;var u={value:n,getSnapshot:t};return r.queue=u,Yd(Dd.bind(null,s,u,e),[e]),s.flags|=2048,xs(9,Ci(),kd.bind(null,s,u,n,t),null),n},useId:function(){var e=jt(),t=ze.identifierPrefix;if(Me){var n=ya,s=ga;n=(s&~(1<<32-dt(s)-1)).toString(32)+n,t=""+t+"R"+n,n=Ni++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=zx++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Po,useFormState:Id,useActionState:Id,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ho.bind(null,Ne,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ro,useCacheRefresh:function(){return jt().memoizedState=$x.bind(null,Ne)}},df={readContext:mt,use:Si,useCallback:Wd,useContext:mt,useEffect:Zd,useImperativeHandle:Jd,useInsertionEffect:Xd,useLayoutEffect:Qd,useMemo:Fd,useReducer:Ei,useRef:Vd,useState:function(){return Ei(ja)},useDebugValue:Lo,useDeferredValue:function(e,t){var n=Ze();return ef(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Ei(ja)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:dl(e),t]},useSyncExternalStore:Md,useId:sf,useHostTransitionStatus:Po,useFormState:$d,useActionState:$d,useOptimistic:function(e,t){var n=Ze();return Ld(n,Ue,e,t)},useMemoCache:Ro,useCacheRefresh:lf},Gx={readContext:mt,use:Si,useCallback:Wd,useContext:mt,useEffect:Zd,useImperativeHandle:Jd,useInsertionEffect:Xd,useLayoutEffect:Qd,useMemo:Fd,useReducer:Do,useRef:Vd,useState:function(){return Do(ja)},useDebugValue:Lo,useDeferredValue:function(e,t){var n=Ze();return Ue===null?qo(n,e,t):ef(n,Ue.memoizedState,e,t)},useTransition:function(){var e=Do(ja)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:dl(e),t]},useSyncExternalStore:Md,useId:sf,useHostTransitionStatus:Po,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,t){var n=Ze();return Ue!==null?Ld(n,Ue,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ro,useCacheRefresh:lf},gs=null,hl=0;function Ri(e){var t=hl;return hl+=1,gs===null&&(gs=[]),jd(gs,e,t)}function pl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ki(e,t){throw t.$$typeof===j?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ff(e){var t=e._init;return t(e._payload)}function mf(e){function t(A,E){if(e){var k=A.deletions;k===null?(A.deletions=[E],A.flags|=16):k.push(E)}}function n(A,E){if(!e)return null;for(;E!==null;)t(A,E),E=E.sibling;return null}function s(A){for(var E=new Map;A!==null;)A.key!==null?E.set(A.key,A):E.set(A.index,A),A=A.sibling;return E}function r(A,E){return A=xa(A,E),A.index=0,A.sibling=null,A}function u(A,E,k){return A.index=k,e?(k=A.alternate,k!==null?(k=k.index,k<E?(A.flags|=67108866,E):k):(A.flags|=67108866,E)):(A.flags|=1048576,E)}function x(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function v(A,E,k,G){return E===null||E.tag!==6?(E=lo(k,A.mode,G),E.return=A,E):(E=r(E,k),E.return=A,E)}function w(A,E,k,G){var oe=k.type;return oe===H?O(A,E,k.props.children,G,k.key):E!==null&&(E.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===le&&ff(oe)===E.type)?(E=r(E,k.props),pl(E,k),E.return=A,E):(E=mi(k.type,k.key,k.props,null,A.mode,G),pl(E,k),E.return=A,E)}function D(A,E,k,G){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=io(k,A.mode,G),E.return=A,E):(E=r(E,k.children||[]),E.return=A,E)}function O(A,E,k,G,oe){return E===null||E.tag!==7?(E=jn(k,A.mode,G,oe),E.return=A,E):(E=r(E,k),E.return=A,E)}function Z(A,E,k){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=lo(""+E,A.mode,k),E.return=A,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case C:return k=mi(E.type,E.key,E.props,null,A.mode,k),pl(k,E),k.return=A,k;case M:return E=io(E,A.mode,k),E.return=A,E;case le:var G=E._init;return E=G(E._payload),Z(A,E,k)}if(W(E)||ve(E))return E=jn(E,A.mode,k,null),E.return=A,E;if(typeof E.then=="function")return Z(A,Ri(E),k);if(E.$$typeof===I)return Z(A,gi(A,E),k);ki(A,E)}return null}function q(A,E,k,G){var oe=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:v(A,E,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case C:return k.key===oe?w(A,E,k,G):null;case M:return k.key===oe?D(A,E,k,G):null;case le:return oe=k._init,k=oe(k._payload),q(A,E,k,G)}if(W(k)||ve(k))return oe!==null?null:O(A,E,k,G,null);if(typeof k.then=="function")return q(A,E,Ri(k),G);if(k.$$typeof===I)return q(A,E,gi(A,k),G);ki(A,k)}return null}function z(A,E,k,G,oe){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return A=A.get(k)||null,v(E,A,""+G,oe);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case C:return A=A.get(G.key===null?k:G.key)||null,w(E,A,G,oe);case M:return A=A.get(G.key===null?k:G.key)||null,D(E,A,G,oe);case le:var Se=G._init;return G=Se(G._payload),z(A,E,k,G,oe)}if(W(G)||ve(G))return A=A.get(k)||null,O(E,A,G,oe,null);if(typeof G.then=="function")return z(A,E,k,Ri(G),oe);if(G.$$typeof===I)return z(A,E,k,gi(E,G),oe);ki(E,G)}return null}function ye(A,E,k,G){for(var oe=null,Se=null,ue=E,xe=E=0,tt=null;ue!==null&&xe<k.length;xe++){ue.index>xe?(tt=ue,ue=null):tt=ue.sibling;var Te=q(A,ue,k[xe],G);if(Te===null){ue===null&&(ue=tt);break}e&&ue&&Te.alternate===null&&t(A,ue),E=u(Te,E,xe),Se===null?oe=Te:Se.sibling=Te,Se=Te,ue=tt}if(xe===k.length)return n(A,ue),Me&&Nn(A,xe),oe;if(ue===null){for(;xe<k.length;xe++)ue=Z(A,k[xe],G),ue!==null&&(E=u(ue,E,xe),Se===null?oe=ue:Se.sibling=ue,Se=ue);return Me&&Nn(A,xe),oe}for(ue=s(ue);xe<k.length;xe++)tt=z(ue,A,xe,k[xe],G),tt!==null&&(e&&tt.alternate!==null&&ue.delete(tt.key===null?xe:tt.key),E=u(tt,E,xe),Se===null?oe=tt:Se.sibling=tt,Se=tt);return e&&ue.forEach(function(ln){return t(A,ln)}),Me&&Nn(A,xe),oe}function pe(A,E,k,G){if(k==null)throw Error(o(151));for(var oe=null,Se=null,ue=E,xe=E=0,tt=null,Te=k.next();ue!==null&&!Te.done;xe++,Te=k.next()){ue.index>xe?(tt=ue,ue=null):tt=ue.sibling;var ln=q(A,ue,Te.value,G);if(ln===null){ue===null&&(ue=tt);break}e&&ue&&ln.alternate===null&&t(A,ue),E=u(ln,E,xe),Se===null?oe=ln:Se.sibling=ln,Se=ln,ue=tt}if(Te.done)return n(A,ue),Me&&Nn(A,xe),oe;if(ue===null){for(;!Te.done;xe++,Te=k.next())Te=Z(A,Te.value,G),Te!==null&&(E=u(Te,E,xe),Se===null?oe=Te:Se.sibling=Te,Se=Te);return Me&&Nn(A,xe),oe}for(ue=s(ue);!Te.done;xe++,Te=k.next())Te=z(ue,A,xe,Te.value,G),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?xe:Te.key),E=u(Te,E,xe),Se===null?oe=Te:Se.sibling=Te,Se=Te);return e&&ue.forEach(function(V0){return t(A,V0)}),Me&&Nn(A,xe),oe}function Le(A,E,k,G){if(typeof k=="object"&&k!==null&&k.type===H&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case C:e:{for(var oe=k.key;E!==null;){if(E.key===oe){if(oe=k.type,oe===H){if(E.tag===7){n(A,E.sibling),G=r(E,k.props.children),G.return=A,A=G;break e}}else if(E.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===le&&ff(oe)===E.type){n(A,E.sibling),G=r(E,k.props),pl(G,k),G.return=A,A=G;break e}n(A,E);break}else t(A,E);E=E.sibling}k.type===H?(G=jn(k.props.children,A.mode,G,k.key),G.return=A,A=G):(G=mi(k.type,k.key,k.props,null,A.mode,G),pl(G,k),G.return=A,A=G)}return x(A);case M:e:{for(oe=k.key;E!==null;){if(E.key===oe)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){n(A,E.sibling),G=r(E,k.children||[]),G.return=A,A=G;break e}else{n(A,E);break}else t(A,E);E=E.sibling}G=io(k,A.mode,G),G.return=A,A=G}return x(A);case le:return oe=k._init,k=oe(k._payload),Le(A,E,k,G)}if(W(k))return ye(A,E,k,G);if(ve(k)){if(oe=ve(k),typeof oe!="function")throw Error(o(150));return k=oe.call(k),pe(A,E,k,G)}if(typeof k.then=="function")return Le(A,E,Ri(k),G);if(k.$$typeof===I)return Le(A,E,gi(A,k),G);ki(A,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,E!==null&&E.tag===6?(n(A,E.sibling),G=r(E,k),G.return=A,A=G):(n(A,E),G=lo(k,A.mode,G),G.return=A,A=G),x(A)):n(A,E)}return function(A,E,k,G){try{hl=0;var oe=Le(A,E,k,G);return gs=null,oe}catch(ue){if(ue===ll||ue===vi)throw ue;var Se=Ct(29,ue,null,A.mode);return Se.lanes=G,Se.return=A,Se}finally{}}}var ys=mf(!0),hf=mf(!1),It=V(null),sa=null;function Ga(e){var t=e.alternate;F(Ke,Ke.current&1),F(It,e),sa===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(sa=e)}function pf(e){if(e.tag===22){if(F(Ke,Ke.current),F(It,e),sa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(sa=e)}}else Va()}function Va(){F(Ke,Ke.current),F(It,It.current)}function wa(e){se(It),sa===e&&(sa=null),se(Ke)}var Ke=V(0);function Di(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Mc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:y({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Io={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Rt(),r=Ia(s);r.payload=t,n!=null&&(r.callback=n),t=$a(e,r,s),t!==null&&(kt(t,e,s),rl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Rt(),r=Ia(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=$a(e,r,s),t!==null&&(kt(t,e,s),rl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rt(),s=Ia(n);s.tag=2,t!=null&&(s.callback=t),t=$a(e,s,n),t!==null&&(kt(t,e,n),rl(t,e,n))}};function xf(e,t,n,s,r,u,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,x):t.prototype&&t.prototype.isPureReactComponent?!Js(n,s)||!Js(r,u):!0}function gf(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Rn(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=y({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var Ui=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function yf(e){Ui(e)}function vf(e){console.error(e)}function bf(e){Ui(e)}function _i(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function jf(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function $o(e,t,n){return n=Ia(n),n.tag=3,n.payload={element:null},n.callback=function(){_i(e,t)},n}function wf(e){return e=Ia(e),e.tag=3,e}function Nf(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){jf(t,n,s)}}var x=n.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){jf(t,n,s),typeof r!="function"&&(Ja===null?Ja=new Set([this]):Ja.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function Vx(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&al(t,n,r,!0),n=It.current,n!==null){switch(n.tag){case 13:return sa===null?fc():n.alternate===null&&Oe===0&&(Oe=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===go?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),hc(e,s,r)),!1;case 22:return n.flags|=65536,s===go?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),hc(e,s,r)),!1}throw Error(o(435,n.tag))}return hc(e,s,r),fc(),!1}if(Me)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==co&&(e=Error(o(422),{cause:s}),tl(zt(e,n)))):(s!==co&&(t=Error(o(423),{cause:s}),tl(zt(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=zt(s,n),r=$o(e.stateNode,s,r),bo(e,r),Oe!==4&&(Oe=2)),!1;var u=Error(o(520),{cause:s});if(u=zt(u,n),wl===null?wl=[u]:wl.push(u),Oe!==4&&(Oe=2),t===null)return!0;s=zt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=$o(n.stateNode,s,e),bo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ja===null||!Ja.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=wf(r),Nf(r,e,n,s),bo(n,r),!1}n=n.return}while(n!==null);return!1}var Sf=Error(o(461)),Fe=!1;function lt(e,t,n,s){t.child=e===null?hf(t,null,n,s):ys(t,e.child,n,s)}function Ef(e,t,n,s,r){n=n.render;var u=t.ref;if("ref"in s){var x={};for(var v in s)v!=="ref"&&(x[v]=s[v])}else x=s;return An(t),s=Eo(e,t,n,x,u,r),v=Co(),e!==null&&!Fe?(Ao(e,t,r),Na(e,t,r)):(Me&&v&&ro(t),t.flags|=1,lt(e,t,s,r),t.child)}function Cf(e,t,n,s,r){if(e===null){var u=n.type;return typeof u=="function"&&!so(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,Af(e,t,u,s,r)):(e=mi(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Ko(e,r)){var x=u.memoizedProps;if(n=n.compare,n=n!==null?n:Js,n(x,s)&&e.ref===t.ref)return Na(e,t,r)}return t.flags|=1,e=xa(u,s),e.ref=t.ref,e.return=t,t.child=e}function Af(e,t,n,s,r){if(e!==null){var u=e.memoizedProps;if(Js(u,s)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=s=u,Ko(e,r))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,Na(e,t,r)}return Oo(e,t,n,s,r)}function Tf(e,t,n){var s=t.pendingProps,r=s.children,u=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=u!==null?u.baseLanes|n:n,e!==null){for(r=t.child=e.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;t.childLanes=u&~s}else t.childLanes=0,t.child=null;return Mf(e,t,s,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yi(t,u!==null?u.cachePool:null),u!==null?Cd(t,u):wo(),pf(t);else return t.lanes=t.childLanes=536870912,Mf(e,t,u!==null?u.baseLanes|n:n,n)}else u!==null?(yi(t,u.cachePool),Cd(t,u),Va(),t.memoizedState=null):(e!==null&&yi(t,null),wo(),Va());return lt(e,t,r,n),t.child}function Mf(e,t,n,s){var r=xo();return r=r===null?null:{parent:Qe._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&yi(t,null),wo(),pf(t),e!==null&&al(e,t,s,!0),null}function Li(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(o(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Oo(e,t,n,s,r){return An(t),n=Eo(e,t,n,s,void 0,r),s=Co(),e!==null&&!Fe?(Ao(e,t,r),Na(e,t,r)):(Me&&s&&ro(t),t.flags|=1,lt(e,t,n,r),t.child)}function Rf(e,t,n,s,r,u){return An(t),t.updateQueue=null,n=Td(t,s,n,r),Ad(e),s=Co(),e!==null&&!Fe?(Ao(e,t,u),Na(e,t,u)):(Me&&s&&ro(t),t.flags|=1,lt(e,t,n,u),t.child)}function kf(e,t,n,s,r){if(An(t),t.stateNode===null){var u=os,x=n.contextType;typeof x=="object"&&x!==null&&(u=mt(x)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Io,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},yo(t),x=n.contextType,u.context=typeof x=="object"&&x!==null?mt(x):os,u.state=t.memoizedState,x=n.getDerivedStateFromProps,typeof x=="function"&&(Bo(t,n,x,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(x=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),x!==u.state&&Io.enqueueReplaceState(u,u.state,null),cl(t,s,u,r),ol(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var v=t.memoizedProps,w=Rn(n,v);u.props=w;var D=u.context,O=n.contextType;x=os,typeof O=="object"&&O!==null&&(x=mt(O));var Z=n.getDerivedStateFromProps;O=typeof Z=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||D!==x)&&gf(t,u,s,x),Ba=!1;var q=t.memoizedState;u.state=q,cl(t,s,u,r),ol(),D=t.memoizedState,v||q!==D||Ba?(typeof Z=="function"&&(Bo(t,n,Z,s),D=t.memoizedState),(w=Ba||xf(t,n,w,s,q,D,x))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),u.props=s,u.state=D,u.context=x,s=w):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,vo(e,t),x=t.memoizedProps,O=Rn(n,x),u.props=O,Z=t.pendingProps,q=u.context,D=n.contextType,w=os,typeof D=="object"&&D!==null&&(w=mt(D)),v=n.getDerivedStateFromProps,(D=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(x!==Z||q!==w)&&gf(t,u,s,w),Ba=!1,q=t.memoizedState,u.state=q,cl(t,s,u,r),ol();var z=t.memoizedState;x!==Z||q!==z||Ba||e!==null&&e.dependencies!==null&&xi(e.dependencies)?(typeof v=="function"&&(Bo(t,n,v,s),z=t.memoizedState),(O=Ba||xf(t,n,O,s,q,z,w)||e!==null&&e.dependencies!==null&&xi(e.dependencies))?(D||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,z,w),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,z,w)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=z),u.props=s,u.state=z,u.context=w,s=O):(typeof u.componentDidUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Li(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ys(t,e.child,null,r),t.child=ys(t,null,n,r)):lt(e,t,n,r),t.memoizedState=u.state,e=t.child):e=Na(e,t,r),e}function Df(e,t,n,s){return el(),t.flags|=256,lt(e,t,n,s),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vo(e){return{baseLanes:e,cachePool:yd()}}function Yo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function Uf(e,t,n){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,x;if((x=u)||(x=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),x&&(r=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Me){if(r?Ga(t):Va(),Me){var v=$e,w;if(w=v){e:{for(w=v,v=na;w.nodeType!==8;){if(!v){v=null;break e}if(w=Wt(w.nextSibling),w===null){v=null;break e}}v=w}v!==null?(t.memoizedState={dehydrated:v,treeContext:wn!==null?{id:ga,overflow:ya}:null,retryLane:536870912,hydrationErrors:null},w=Ct(18,null,null,0),w.stateNode=v,w.return=t,t.child=w,gt=t,$e=null,w=!0):w=!1}w||En(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Mc(v)?t.lanes=32:t.lanes=536870912,null;wa(t)}return v=s.children,s=s.fallback,r?(Va(),r=t.mode,v=qi({mode:"hidden",children:v},r),s=jn(s,r,n,null),v.return=t,s.return=t,v.sibling=s,t.child=v,r=t.child,r.memoizedState=Vo(n),r.childLanes=Yo(e,x,n),t.memoizedState=Go,s):(Ga(t),Zo(t,v))}if(w=e.memoizedState,w!==null&&(v=w.dehydrated,v!==null)){if(u)t.flags&256?(Ga(t),t.flags&=-257,t=Xo(e,t,n)):t.memoizedState!==null?(Va(),t.child=e.child,t.flags|=128,t=null):(Va(),r=s.fallback,v=t.mode,s=qi({mode:"visible",children:s.children},v),r=jn(r,v,n,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,ys(t,e.child,null,n),s=t.child,s.memoizedState=Vo(n),s.childLanes=Yo(e,x,n),t.memoizedState=Go,t=r);else if(Ga(t),Mc(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var D=x.dgst;x=D,s=Error(o(419)),s.stack="",s.digest=x,tl({value:s,source:null,stack:null}),t=Xo(e,t,n)}else if(Fe||al(e,t,n,!1),x=(n&e.childLanes)!==0,Fe||x){if(x=ze,x!==null&&(s=n&-n,s=(s&42)!==0?1:xn(s),s=(s&(x.suspendedLanes|n))!==0?0:s,s!==0&&s!==w.retryLane))throw w.retryLane=s,rs(e,s),kt(x,e,s),Sf;v.data==="$?"||fc(),t=Xo(e,t,n)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,$e=Wt(v.nextSibling),gt=t,Me=!0,Sn=null,na=!1,e!==null&&(Ht[Bt++]=ga,Ht[Bt++]=ya,Ht[Bt++]=wn,ga=e.id,ya=e.overflow,wn=t),t=Zo(t,s.children),t.flags|=4096);return t}return r?(Va(),r=s.fallback,v=t.mode,w=e.child,D=w.sibling,s=xa(w,{mode:"hidden",children:s.children}),s.subtreeFlags=w.subtreeFlags&65011712,D!==null?r=xa(D,r):(r=jn(r,v,n,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,v=e.child.memoizedState,v===null?v=Vo(n):(w=v.cachePool,w!==null?(D=Qe._currentValue,w=w.parent!==D?{parent:D,pool:D}:w):w=yd(),v={baseLanes:v.baseLanes|n,cachePool:w}),r.memoizedState=v,r.childLanes=Yo(e,x,n),t.memoizedState=Go,s):(Ga(t),n=e.child,e=n.sibling,n=xa(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return t=qi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qi(e,t){return e=Ct(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Xo(e,t,n){return ys(t,e.child,null,n),e=Zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _f(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),fo(e.return,t,n)}function Qo(e,t,n,s,r){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=s,u.tail=n,u.tailMode=r)}function Lf(e,t,n){var s=t.pendingProps,r=s.revealOrder,u=s.tail;if(lt(e,t,s.children,n),s=Ke.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,n,t);else if(e.tag===19)_f(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(F(Ke,s),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&Di(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Qo(t,!1,r,n,u);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Di(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Qo(t,!0,n,null,u);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Na(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ka|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(al(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,n=xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ko(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&xi(e)))}function Yx(e,t,n){switch(t.tag){case 3:be(t,t.stateNode.containerInfo),Ha(t,Qe,e.memoizedState.cache),el();break;case 27:case 5:xt(t);break;case 4:be(t,t.stateNode.containerInfo);break;case 10:Ha(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ga(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Uf(e,t,n):(Ga(t),e=Na(e,t,n),e!==null?e.sibling:null);Ga(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(al(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return Lf(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),F(Ke,Ke.current),s)break;return null;case 22:case 23:return t.lanes=0,Tf(e,t,n);case 24:Ha(t,Qe,e.memoizedState.cache)}return Na(e,t,n)}function qf(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!Ko(e,n)&&(t.flags&128)===0)return Fe=!1,Yx(e,t,n);Fe=(e.flags&131072)!==0}else Fe=!1,Me&&(t.flags&1048576)!==0&&dd(t,pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")so(s)?(e=Rn(s,e),t.tag=1,t=kf(null,t,s,e,n)):(t.tag=0,t=Oo(null,t,s,e,n));else{if(s!=null){if(r=s.$$typeof,r===ee){t.tag=11,t=Ef(null,t,s,e,n);break e}else if(r===ae){t.tag=14,t=Cf(null,t,s,e,n);break e}}throw t=$(s)||s,Error(o(306,t,""))}}return t;case 0:return Oo(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=Rn(s,t.pendingProps),kf(e,t,s,r,n);case 3:e:{if(be(t,t.stateNode.containerInfo),e===null)throw Error(o(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,vo(e,t),cl(t,s,null,n);var x=t.memoizedState;if(s=x.cache,Ha(t,Qe,s),s!==u.cache&&mo(t,[Qe],n,!0),ol(),s=x.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Df(e,t,s,n);break e}else if(s!==r){r=zt(Error(o(424)),t),tl(r),t=Df(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=Wt(e.firstChild),gt=t,Me=!0,Sn=null,na=!0,n=hf(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(el(),s===r){t=Na(e,t,n);break e}lt(e,t,s,n)}t=t.child}return t;case 26:return Li(e,t),e===null?(n=Bm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Me||(n=t.type,e=t.pendingProps,s=Ki(K.current).createElement(n),s[ft]=t,s[vt]=e,rt(s,n,e),We(s),t.stateNode=s):t.memoizedState=Bm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xt(t),e===null&&Me&&(s=t.stateNode=zm(t.type,t.pendingProps,K.current),gt=t,na=!0,r=$e,en(t.type)?(Rc=r,$e=Wt(s.firstChild)):$e=r),lt(e,t,t.pendingProps.children,n),Li(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Me&&((r=s=$e)&&(s=b0(s,t.type,t.pendingProps,na),s!==null?(t.stateNode=s,gt=t,$e=Wt(s.firstChild),na=!1,r=!0):r=!1),r||En(t)),xt(t),r=t.type,u=t.pendingProps,x=e!==null?e.memoizedProps:null,s=u.children,Cc(r,u)?s=null:x!==null&&Cc(r,x)&&(t.flags|=32),t.memoizedState!==null&&(r=Eo(e,t,Px,null,null,n),kl._currentValue=r),Li(e,t),lt(e,t,s,n),t.child;case 6:return e===null&&Me&&((e=n=$e)&&(n=j0(n,t.pendingProps,na),n!==null?(t.stateNode=n,gt=t,$e=null,e=!0):e=!1),e||En(t)),null;case 13:return Uf(e,t,n);case 4:return be(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ys(t,null,s,n):lt(e,t,s,n),t.child;case 11:return Ef(e,t,t.type,t.pendingProps,n);case 7:return lt(e,t,t.pendingProps,n),t.child;case 8:return lt(e,t,t.pendingProps.children,n),t.child;case 12:return lt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Ha(t,t.type,s.value),lt(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,An(t),r=mt(r),s=s(r),t.flags|=1,lt(e,t,s,n),t.child;case 14:return Cf(e,t,t.type,t.pendingProps,n);case 15:return Af(e,t,t.type,t.pendingProps,n);case 19:return Lf(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=qi(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=xa(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Tf(e,t,n);case 24:return An(t),s=mt(Qe),e===null?(r=xo(),r===null&&(r=ze,u=ho(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),t.memoizedState={parent:s,cache:r},yo(t),Ha(t,Qe,r)):((e.lanes&n)!==0&&(vo(e,t),cl(t,null,null,n),ol()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Ha(t,Qe,s)):(s=u.cache,Ha(t,Qe,s),s!==r.cache&&mo(t,[Qe],n,!0))),lt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Sa(e){e.flags|=4}function zf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vm(t)){if(t=It.current,t!==null&&((Ae&4194048)===Ae?sa!==null:(Ae&62914560)!==Ae&&(Ae&536870912)===0||t!==sa))throw il=go,vd;e.flags|=8192}}function zi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vn():536870912,e.lanes|=t,ws|=t)}function xl(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Zx(e,t,n){var s=t.pendingProps;switch(oo(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ba(Qe),Re(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fs(t)?Sa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,hd())),Be(t),null;case 26:return n=t.memoizedState,e===null?(Sa(t),n!==null?(Be(t),zf(t,n)):(Be(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Sa(t),Be(t),zf(t,n)):(Be(t),t.flags&=-16777217):(e.memoizedProps!==s&&Sa(t),Be(t),t.flags&=-16777217),null;case 27:Hn(t),n=K.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Sa(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Be(t),null}e=ce.current,Fs(t)?fd(t):(e=zm(r,s,n),t.stateNode=e,Sa(t))}return Be(t),null;case 5:if(Hn(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Sa(t);else{if(!s){if(t.stateNode===null)throw Error(o(166));return Be(t),null}if(e=ce.current,Fs(t))fd(t);else{switch(r=Ki(K.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(n,{is:s.is}):r.createElement(n)}}e[ft]=t,e[vt]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(rt(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Sa(t)}}return Be(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Sa(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(o(166));if(e=K.current,Fs(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=gt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Rm(e.nodeValue,n)),e||En(t)}else e=Ki(e).createTextNode(s),e[ft]=t,t.stateNode=e}return Be(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Fs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(o(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));r[ft]=t}else el(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),r=!1}else r=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(wa(t),t):(wa(t),null)}if(wa(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var u=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),zi(t,t.updateQueue),Be(t),null;case 4:return Re(),e===null&&jc(t.stateNode.containerInfo),Be(t),null;case 10:return ba(t.type),Be(t),null;case 19:if(se(Ke),r=t.memoizedState,r===null)return Be(t),null;if(s=(t.flags&128)!==0,u=r.rendering,u===null)if(s)xl(r,!1);else{if(Oe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Di(e),u!==null){for(t.flags|=128,xl(r,!1),e=u.updateQueue,t.updateQueue=e,zi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ud(n,e),n=n.sibling;return F(Ke,Ke.current&1|2),t.child}e=e.sibling}r.tail!==null&&_t()>Bi&&(t.flags|=128,s=!0,xl(r,!1),t.lanes=4194304)}else{if(!s)if(e=Di(u),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,zi(t,e),xl(r,!0),r.tail===null&&r.tailMode==="hidden"&&!u.alternate&&!Me)return Be(t),null}else 2*_t()-r.renderingStartTime>Bi&&n!==536870912&&(t.flags|=128,s=!0,xl(r,!1),t.lanes=4194304);r.isBackwards?(u.sibling=t.child,t.child=u):(e=r.last,e!==null?e.sibling=u:t.child=u,r.last=u)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=_t(),t.sibling=null,e=Ke.current,F(Ke,s?e&1|2:e&1),t):(Be(t),null);case 22:case 23:return wa(t),No(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&zi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&se(Tn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ba(Qe),Be(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Xx(e,t){switch(oo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ba(Qe),Re(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hn(t),null;case 13:if(wa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));el()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return se(Ke),null;case 4:return Re(),null;case 10:return ba(t.type),null;case 22:case 23:return wa(t),No(),e!==null&&se(Tn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ba(Qe),null;case 25:return null;default:return null}}function Pf(e,t){switch(oo(t),t.tag){case 3:ba(Qe),Re();break;case 26:case 27:case 5:Hn(t);break;case 4:Re();break;case 13:wa(t);break;case 19:se(Ke);break;case 10:ba(t.type);break;case 22:case 23:wa(t),No(),e!==null&&se(Tn);break;case 24:ba(Qe)}}function gl(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var u=n.create,x=n.inst;s=u(),x.destroy=s}n=n.next}while(n!==r)}}catch(v){qe(t,t.return,v)}}function Ya(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var x=s.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,r=t;var w=n,D=v;try{D()}catch(O){qe(r,w,O)}}}s=s.next}while(s!==u)}}catch(O){qe(t,t.return,O)}}function Hf(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ed(t,n)}catch(s){qe(e,e.return,s)}}}function Bf(e,t,n){n.props=Rn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){qe(e,t,s)}}function yl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){qe(e,t,r)}}function la(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){qe(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){qe(e,t,r)}else n.current=null}function If(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){qe(e,e.return,r)}}function Jo(e,t,n){try{var s=e.stateNode;p0(s,e.type,n,t),s[vt]=t}catch(r){qe(e,e.return,r)}}function $f(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&en(e.type)||e.tag===4}function Wo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$f(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&en(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Qi));else if(s!==4&&(s===27&&en(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Fo(e,t,n),e=e.sibling;e!==null;)Fo(e,t,n),e=e.sibling}function Pi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&en(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Pi(e,t,n),e=e.sibling;e!==null;)Pi(e,t,n),e=e.sibling}function Of(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);rt(t,s,n),t[ft]=e,t[vt]=n}catch(u){qe(e,e.return,u)}}var Ea=!1,Ve=!1,ec=!1,Gf=typeof WeakSet=="function"?WeakSet:Set,et=null;function Qx(e,t){if(e=e.containerInfo,Sc=ar,e=ed(e),Jr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var x=0,v=-1,w=-1,D=0,O=0,Z=e,q=null;t:for(;;){for(var z;Z!==n||r!==0&&Z.nodeType!==3||(v=x+r),Z!==u||s!==0&&Z.nodeType!==3||(w=x+s),Z.nodeType===3&&(x+=Z.nodeValue.length),(z=Z.firstChild)!==null;)q=Z,Z=z;for(;;){if(Z===e)break t;if(q===n&&++D===r&&(v=x),q===u&&++O===s&&(w=x),(z=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=z}n=v===-1||w===-1?null:{start:v,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ec={focusedElem:e,selectionRange:n},ar=!1,et=t;et!==null;)if(t=et,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,et=e;else for(;et!==null;){switch(t=et,u=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,r=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var ye=Rn(n.type,r,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(ye,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(pe){qe(n,n.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Tc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,et=e;break}et=t.return}}function Vf(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Za(e,n),s&4&&gl(5,n);break;case 1:if(Za(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(x){qe(n,n.return,x)}else{var r=Rn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){qe(n,n.return,x)}}s&64&&Hf(n),s&512&&yl(n,n.return);break;case 3:if(Za(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ed(e,t)}catch(x){qe(n,n.return,x)}}break;case 27:t===null&&s&4&&Of(n);case 26:case 5:Za(e,n),t===null&&s&4&&If(n),s&512&&yl(n,n.return);break;case 12:Za(e,n);break;case 13:Za(e,n),s&4&&Xf(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=s0.bind(null,n),w0(e,n))));break;case 22:if(s=n.memoizedState!==null||Ea,!s){t=t!==null&&t.memoizedState!==null||Ve,r=Ea;var u=Ve;Ea=s,(Ve=t)&&!u?Xa(e,n,(n.subtreeFlags&8772)!==0):Za(e,n),Ea=r,Ve=u}break;case 30:break;default:Za(e,n)}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,wt=!1;function Ca(e,t,n){for(n=n.child;n!==null;)Zf(e,t,n),n=n.sibling}function Zf(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 26:Ve||la(n,t),Ca(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ve||la(n,t);var s=Pe,r=wt;en(n.type)&&(Pe=n.stateNode,wt=!1),Ca(e,t,n),Al(n.stateNode),Pe=s,wt=r;break;case 5:Ve||la(n,t);case 6:if(s=Pe,r=wt,Pe=null,Ca(e,t,n),Pe=s,wt=r,Pe!==null)if(wt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(n.stateNode)}catch(u){qe(n,t,u)}else try{Pe.removeChild(n.stateNode)}catch(u){qe(n,t,u)}break;case 18:Pe!==null&&(wt?(e=Pe,Lm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ll(e)):Lm(Pe,n.stateNode));break;case 4:s=Pe,r=wt,Pe=n.stateNode.containerInfo,wt=!0,Ca(e,t,n),Pe=s,wt=r;break;case 0:case 11:case 14:case 15:Ve||Ya(2,n,t),Ve||Ya(4,n,t),Ca(e,t,n);break;case 1:Ve||(la(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Bf(n,t,s)),Ca(e,t,n);break;case 21:Ca(e,t,n);break;case 22:Ve=(s=Ve)||n.memoizedState!==null,Ca(e,t,n),Ve=s;break;default:Ca(e,t,n)}}function Xf(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ll(e)}catch(n){qe(t,t.return,n)}}function Kx(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Gf),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Gf),t;default:throw Error(o(435,e.tag))}}function tc(e,t){var n=Kx(e);t.forEach(function(s){var r=l0.bind(null,e,s);n.has(s)||(n.add(s),s.then(r,r))})}function At(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],u=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(en(v.type)){Pe=v.stateNode,wt=!1;break e}break;case 5:Pe=v.stateNode,wt=!1;break e;case 3:case 4:Pe=v.stateNode.containerInfo,wt=!0;break e}v=v.return}if(Pe===null)throw Error(o(160));Zf(u,x,r),Pe=null,wt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Qf(t,e),t=t.sibling}var Jt=null;function Qf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Tt(e),s&4&&(Ya(3,e,e.return),gl(3,e),Ya(5,e,e.return));break;case 1:At(t,e),Tt(e),s&512&&(Ve||n===null||la(n,n.return)),s&64&&Ea&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=Jt;if(At(t,e),Tt(e),s&512&&(Ve||n===null||la(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[$s]||u[ft]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),rt(u,s,n),u[ft]=e,We(u),s=u;break e;case"link":var x=Om("link","href",r).get(s+(n.href||""));if(x){for(var v=0;v<x.length;v++)if(u=x[v],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){x.splice(v,1);break t}}u=r.createElement(s),rt(u,s,n),r.head.appendChild(u);break;case"meta":if(x=Om("meta","content",r).get(s+(n.content||""))){for(v=0;v<x.length;v++)if(u=x[v],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){x.splice(v,1);break t}}u=r.createElement(s),rt(u,s,n),r.head.appendChild(u);break;default:throw Error(o(468,s))}u[ft]=e,We(u),s=u}e.stateNode=s}else Gm(r,e.type,e.stateNode);else e.stateNode=$m(r,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?Gm(r,e.type,e.stateNode):$m(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Jo(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),Tt(e),s&512&&(Ve||n===null||la(n,n.return)),n!==null&&s&4&&Jo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),Tt(e),s&512&&(Ve||n===null||la(n,n.return)),e.flags&32){r=e.stateNode;try{es(r,"")}catch(z){qe(e,e.return,z)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Jo(e,r,n!==null?n.memoizedProps:r)),s&1024&&(ec=!0);break;case 6:if(At(t,e),Tt(e),s&4){if(e.stateNode===null)throw Error(o(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(z){qe(e,e.return,z)}}break;case 3:if(Fi=null,r=Jt,Jt=Ji(t.containerInfo),At(t,e),Jt=r,Tt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(z){qe(e,e.return,z)}ec&&(ec=!1,Kf(e));break;case 4:s=Jt,Jt=Ji(e.stateNode.containerInfo),At(t,e),Tt(e),Jt=s;break;case 12:At(t,e),Tt(e);break;case 13:At(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(rc=_t()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,tc(e,s)));break;case 22:r=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,D=Ea,O=Ve;if(Ea=D||r,Ve=O||w,At(t,e),Ve=O,Ea=D,Tt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||w||Ea||Ve||kn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(u=w.stateNode,r)x=u.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=w.stateNode;var Z=w.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;v.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(z){qe(w,w.return,z)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=r?"":w.memoizedProps}catch(z){qe(w,w.return,z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,tc(e,n))));break;case 19:At(t,e),Tt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,tc(e,s)));break;case 30:break;case 21:break;default:At(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if($f(s)){n=s;break}s=s.return}if(n==null)throw Error(o(160));switch(n.tag){case 27:var r=n.stateNode,u=Wo(e);Pi(e,u,r);break;case 5:var x=n.stateNode;n.flags&32&&(es(x,""),n.flags&=-33);var v=Wo(e);Pi(e,v,x);break;case 3:case 4:var w=n.stateNode.containerInfo,D=Wo(e);Fo(e,D,w);break;default:throw Error(o(161))}}catch(O){qe(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kf(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Kf(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Za(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vf(e,t.alternate,t),t=t.sibling}function kn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ya(4,t,t.return),kn(t);break;case 1:la(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Bf(t,t.return,n),kn(t);break;case 27:Al(t.stateNode);case 26:case 5:la(t,t.return),kn(t);break;case 22:t.memoizedState===null&&kn(t);break;case 30:kn(t);break;default:kn(t)}e=e.sibling}}function Xa(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,x=u.flags;switch(u.tag){case 0:case 11:case 15:Xa(r,u,n),gl(4,u);break;case 1:if(Xa(r,u,n),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(D){qe(s,s.return,D)}if(s=u,r=s.updateQueue,r!==null){var v=s.stateNode;try{var w=r.shared.hiddenCallbacks;if(w!==null)for(r.shared.hiddenCallbacks=null,r=0;r<w.length;r++)Sd(w[r],v)}catch(D){qe(s,s.return,D)}}n&&x&64&&Hf(u),yl(u,u.return);break;case 27:Of(u);case 26:case 5:Xa(r,u,n),n&&s===null&&x&4&&If(u),yl(u,u.return);break;case 12:Xa(r,u,n);break;case 13:Xa(r,u,n),n&&x&4&&Xf(r,u);break;case 22:u.memoizedState===null&&Xa(r,u,n),yl(u,u.return);break;case 30:break;default:Xa(r,u,n)}t=t.sibling}}function ac(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&nl(n))}function nc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e))}function ia(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jf(e,t,n,s),t=t.sibling}function Jf(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:ia(e,t,n,s),r&2048&&gl(9,t);break;case 1:ia(e,t,n,s);break;case 3:ia(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e)));break;case 12:if(r&2048){ia(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,x=u.id,v=u.onPostCommit;typeof v=="function"&&v(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){qe(t,t.return,w)}}else ia(e,t,n,s);break;case 13:ia(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,x=t.alternate,t.memoizedState!==null?u._visibility&2?ia(e,t,n,s):vl(e,t):u._visibility&2?ia(e,t,n,s):(u._visibility|=2,vs(e,t,n,s,(t.subtreeFlags&10256)!==0)),r&2048&&ac(x,t);break;case 24:ia(e,t,n,s),r&2048&&nc(t.alternate,t);break;default:ia(e,t,n,s)}}function vs(e,t,n,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var u=e,x=t,v=n,w=s,D=x.flags;switch(x.tag){case 0:case 11:case 15:vs(u,x,v,w,r),gl(8,x);break;case 23:break;case 22:var O=x.stateNode;x.memoizedState!==null?O._visibility&2?vs(u,x,v,w,r):vl(u,x):(O._visibility|=2,vs(u,x,v,w,r)),r&&D&2048&&ac(x.alternate,x);break;case 24:vs(u,x,v,w,r),r&&D&2048&&nc(x.alternate,x);break;default:vs(u,x,v,w,r)}t=t.sibling}}function vl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:vl(n,s),r&2048&&ac(s.alternate,s);break;case 24:vl(n,s),r&2048&&nc(s.alternate,s);break;default:vl(n,s)}t=t.sibling}}var bl=8192;function bs(e){if(e.subtreeFlags&bl)for(e=e.child;e!==null;)Wf(e),e=e.sibling}function Wf(e){switch(e.tag){case 26:bs(e),e.flags&bl&&e.memoizedState!==null&&L0(Jt,e.memoizedState,e.memoizedProps);break;case 5:bs(e);break;case 3:case 4:var t=Jt;Jt=Ji(e.stateNode.containerInfo),bs(e),Jt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=bl,bl=16777216,bs(e),bl=t):bs(e));break;default:bs(e)}}function Ff(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,tm(s,e)}Ff(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)em(e),e=e.sibling}function em(e){switch(e.tag){case 0:case 11:case 15:jl(e),e.flags&2048&&Ya(9,e,e.return);break;case 3:jl(e);break;case 12:jl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Hi(e)):jl(e);break;default:jl(e)}}function Hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];et=s,tm(s,e)}Ff(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ya(8,t,t.return),Hi(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Hi(t));break;default:Hi(t)}e=e.sibling}}function tm(e,t){for(;et!==null;){var n=et;switch(n.tag){case 0:case 11:case 15:Ya(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:nl(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,et=s;else e:for(n=e;et!==null;){s=et;var r=s.sibling,u=s.return;if(Yf(s),s===n){et=null;break e}if(r!==null){r.return=u,et=r;break e}et=u}}}var Jx={getCacheForType:function(e){var t=mt(Qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Wx=typeof WeakMap=="function"?WeakMap:Map,ke=0,ze=null,Ee=null,Ae=0,De=0,Mt=null,Qa=!1,js=!1,sc=!1,Aa=0,Oe=0,Ka=0,Dn=0,lc=0,$t=0,ws=0,wl=null,Nt=null,ic=!1,rc=0,Bi=1/0,Ii=null,Ja=null,it=0,Wa=null,Ns=null,Ss=0,oc=0,cc=null,am=null,Nl=0,uc=null;function Rt(){if((ke&2)!==0&&Ae!==0)return Ae&-Ae;if(L.T!==null){var e=ds;return e!==0?e:gc()}return gu()}function nm(){$t===0&&($t=(Ae&536870912)===0||Me?Wl():536870912);var e=It.current;return e!==null&&(e.flags|=32),$t}function kt(e,t,n){(e===ze&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Es(e,0),Fa(e,Ae,$t,!1)),te(e,n),((ke&2)===0||e!==ze)&&(e===ze&&((ke&2)===0&&(Dn|=n),Oe===4&&Fa(e,Ae,$t,!1)),ra(e))}function sm(e,t,n){if((ke&6)!==0)throw Error(o(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||pn(e,t),r=s?t0(e,t):mc(e,t,!0),u=s;do{if(r===0){js&&!s&&Fa(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!Fx(n)){r=mc(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var v=e;r=wl;var w=v.current.memoizedState.isDehydrated;if(w&&(Es(v,x).flags|=256),x=mc(v,x,!1),x!==2){if(sc&&!w){v.errorRecoveryDisabledLanes|=u,Dn|=u,r=4;break e}u=Nt,Nt=r,u!==null&&(Nt===null?Nt=u:Nt.push.apply(Nt,u))}r=x}if(u=!1,r!==2)continue}}if(r===1){Es(e,0),Fa(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Fa(s,t,$t,!Qa);break e;case 2:Nt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(r=rc+300-_t(),10<r)){if(Fa(s,t,$t,!Qa),Gn(s,0,!0)!==0)break e;s.timeoutHandle=Um(lm.bind(null,s,n,Nt,Ii,ic,t,$t,Dn,ws,Qa,u,2,-0,0),r);break e}lm(s,n,Nt,Ii,ic,t,$t,Dn,ws,Qa,u,0,-0,0)}}break}while(!0);ra(e)}function lm(e,t,n,s,r,u,x,v,w,D,O,Z,q,z){if(e.timeoutHandle=-1,Z=t.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:_0},Wf(t),Z=q0(),Z!==null)){e.cancelPendingCommit=Z(fm.bind(null,e,t,u,n,s,r,x,v,w,O,1,q,z)),Fa(e,u,x,!D);return}fm(e,t,u,n,s,r,x,v,w)}function Fx(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],u=r.getSnapshot;r=r.value;try{if(!Et(u(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fa(e,t,n,s){t&=~lc,t&=~Dn,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-dt(r),x=1<<u;s[u]=-1,r&=~x}n!==0&&Je(e,n,t)}function $i(){return(ke&6)===0?(Sl(0),!1):!0}function dc(){if(Ee!==null){if(De===0)var e=Ee.return;else e=Ee,va=Cn=null,To(e),gs=null,hl=0,e=Ee;for(;e!==null;)Pf(e.alternate,e),e=e.return;Ee=null}}function Es(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,g0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dc(),ze=e,Ee=n=xa(e.current,null),Ae=t,De=0,Mt=null,Qa=!1,js=pn(e,t),sc=!1,ws=$t=lc=Dn=Ka=Oe=0,Nt=wl=null,ic=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-dt(s),u=1<<r;t|=e[r],s&=~u}return Aa=t,ui(),n}function im(e,t){Ne=null,L.H=Mi,t===ll||t===vi?(t=wd(),De=3):t===vd?(t=wd(),De=4):De=t===Sf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,Ee===null&&(Oe=1,_i(e,zt(t,e.current)))}function rm(){var e=L.H;return L.H=Mi,e===null?Mi:e}function om(){var e=L.A;return L.A=Jx,e}function fc(){Oe=4,Qa||(Ae&4194048)!==Ae&&It.current!==null||(js=!0),(Ka&134217727)===0&&(Dn&134217727)===0||ze===null||Fa(ze,Ae,$t,!1)}function mc(e,t,n){var s=ke;ke|=2;var r=rm(),u=om();(ze!==e||Ae!==t)&&(Ii=null,Es(e,t)),t=!1;var x=Oe;e:do try{if(De!==0&&Ee!==null){var v=Ee,w=Mt;switch(De){case 8:dc(),x=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var D=De;if(De=0,Mt=null,Cs(e,v,w,D),n&&js){x=0;break e}break;default:D=De,De=0,Mt=null,Cs(e,v,w,D)}}e0(),x=Oe;break}catch(O){im(e,O)}while(!0);return t&&e.shellSuspendCounter++,va=Cn=null,ke=s,L.H=r,L.A=u,Ee===null&&(ze=null,Ae=0,ui()),x}function e0(){for(;Ee!==null;)cm(Ee)}function t0(e,t){var n=ke;ke|=2;var s=rm(),r=om();ze!==e||Ae!==t?(Ii=null,Bi=_t()+500,Es(e,t)):js=pn(e,t);e:do try{if(De!==0&&Ee!==null){t=Ee;var u=Mt;t:switch(De){case 1:De=0,Mt=null,Cs(e,t,u,1);break;case 2:case 9:if(bd(u)){De=0,Mt=null,um(t);break}t=function(){De!==2&&De!==9||ze!==e||(De=7),ra(e)},u.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:bd(u)?(De=0,Mt=null,um(t)):(De=0,Mt=null,Cs(e,t,u,7));break;case 5:var x=null;switch(Ee.tag){case 26:x=Ee.memoizedState;case 5:case 27:var v=Ee;if(!x||Vm(x)){De=0,Mt=null;var w=v.sibling;if(w!==null)Ee=w;else{var D=v.return;D!==null?(Ee=D,Oi(D)):Ee=null}break t}}De=0,Mt=null,Cs(e,t,u,5);break;case 6:De=0,Mt=null,Cs(e,t,u,6);break;case 8:dc(),Oe=6;break e;default:throw Error(o(462))}}a0();break}catch(O){im(e,O)}while(!0);return va=Cn=null,L.H=s,L.A=r,ke=n,Ee!==null?0:(ze=null,Ae=0,ui(),Oe)}function a0(){for(;Ee!==null&&!Er();)cm(Ee)}function cm(e){var t=qf(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?Oi(e):Ee=t}function um(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Rf(n,t,t.pendingProps,t.type,void 0,Ae);break;case 11:t=Rf(n,t,t.pendingProps,t.type.render,t.ref,Ae);break;case 5:To(t);default:Pf(n,t),t=Ee=ud(t,Aa),t=qf(n,t,Aa)}e.memoizedProps=e.pendingProps,t===null?Oi(e):Ee=t}function Cs(e,t,n,s){va=Cn=null,To(t),gs=null,hl=0;var r=t.return;try{if(Vx(e,r,t,n,Ae)){Oe=1,_i(e,zt(n,e.current)),Ee=null;return}}catch(u){if(r!==null)throw Ee=r,u;Oe=1,_i(e,zt(n,e.current)),Ee=null;return}t.flags&32768?(Me||s===1?e=!0:js||(Ae&536870912)!==0?e=!1:(Qa=e=!0,(s===2||s===9||s===3||s===6)&&(s=It.current,s!==null&&s.tag===13&&(s.flags|=16384))),dm(t,e)):Oi(t)}function Oi(e){var t=e;do{if((t.flags&32768)!==0){dm(t,Qa);return}e=t.return;var n=Zx(t.alternate,t,Aa);if(n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Oe===0&&(Oe=5)}function dm(e,t){do{var n=Xx(e.alternate,e);if(n!==null){n.flags&=32767,Ee=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Ee=e;return}Ee=e=n}while(e!==null);Oe=6,Ee=null}function fm(e,t,n,s,r,u,x,v,w){e.cancelPendingCommit=null;do Gi();while(it!==0);if((ke&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=ao,st(e,n,u,x,v,w),e===ze&&(Ee=ze=null,Ae=0),Ns=t,Wa=e,Ss=n,oc=u,cc=r,am=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,i0(In,function(){return gm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,r=Y.p,Y.p=2,x=ke,ke|=4;try{Qx(e,t,n)}finally{ke=x,Y.p=r,L.T=s}}it=1,mm(),hm(),pm()}}function mm(){if(it===1){it=0;var e=Wa,t=Ns,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var s=Y.p;Y.p=2;var r=ke;ke|=4;try{Qf(t,e);var u=Ec,x=ed(e.containerInfo),v=u.focusedElem,w=u.selectionRange;if(x!==v&&v&&v.ownerDocument&&Fu(v.ownerDocument.documentElement,v)){if(w!==null&&Jr(v)){var D=w.start,O=w.end;if(O===void 0&&(O=D),"selectionStart"in v)v.selectionStart=D,v.selectionEnd=Math.min(O,v.value.length);else{var Z=v.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var z=q.getSelection(),ye=v.textContent.length,pe=Math.min(w.start,ye),Le=w.end===void 0?pe:Math.min(w.end,ye);!z.extend&&pe>Le&&(x=Le,Le=pe,pe=x);var A=Wu(v,pe),E=Wu(v,Le);if(A&&E&&(z.rangeCount!==1||z.anchorNode!==A.node||z.anchorOffset!==A.offset||z.focusNode!==E.node||z.focusOffset!==E.offset)){var k=Z.createRange();k.setStart(A.node,A.offset),z.removeAllRanges(),pe>Le?(z.addRange(k),z.extend(E.node,E.offset)):(k.setEnd(E.node,E.offset),z.addRange(k))}}}}for(Z=[],z=v;z=z.parentNode;)z.nodeType===1&&Z.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Z.length;v++){var G=Z[v];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ar=!!Sc,Ec=Sc=null}finally{ke=r,Y.p=s,L.T=n}}e.current=t,it=2}}function hm(){if(it===2){it=0;var e=Wa,t=Ns,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var s=Y.p;Y.p=2;var r=ke;ke|=4;try{Vf(e,t.alternate,t)}finally{ke=r,Y.p=s,L.T=n}}it=3}}function pm(){if(it===4||it===3){it=0,Cr();var e=Wa,t=Ns,n=Ss,s=am;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,Ns=Wa=null,xm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ja=null),Rr(n),t=t.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(fa,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=L.T,r=Y.p,Y.p=2,L.T=null;try{for(var u=e.onRecoverableError,x=0;x<s.length;x++){var v=s[x];u(v.value,{componentStack:v.stack})}}finally{L.T=t,Y.p=r}}(Ss&3)!==0&&Gi(),ra(e),r=e.pendingLanes,(n&4194090)!==0&&(r&42)!==0?e===uc?Nl++:(Nl=0,uc=e):Nl=0,Sl(0)}}function xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,nl(t)))}function Gi(e){return mm(),hm(),pm(),gm()}function gm(){if(it!==5)return!1;var e=Wa,t=oc;oc=0;var n=Rr(Ss),s=L.T,r=Y.p;try{Y.p=32>n?32:n,L.T=null,n=cc,cc=null;var u=Wa,x=Ss;if(it=0,Ns=Wa=null,Ss=0,(ke&6)!==0)throw Error(o(331));var v=ke;if(ke|=4,em(u.current),Jf(u,u.current,x,n),ke=v,Sl(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(fa,u)}catch{}return!0}finally{Y.p=r,L.T=s,xm(e,t)}}function ym(e,t,n){t=zt(n,t),t=$o(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(te(e,2),ra(e))}function qe(e,t,n){if(e.tag===3)ym(e,e,n);else for(;t!==null;){if(t.tag===3){ym(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ja===null||!Ja.has(s))){e=zt(n,e),n=wf(2),s=$a(t,n,2),s!==null&&(Nf(n,s,t,e),te(s,2),ra(s));break}}t=t.return}}function hc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Wx;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||(sc=!0,r.add(n),e=n0.bind(null,e,t,n),t.then(e,e))}function n0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(Ae&n)===n&&(Oe===4||Oe===3&&(Ae&62914560)===Ae&&300>_t()-rc?(ke&2)===0&&Es(e,0):lc|=n,ws===Ae&&(ws=0)),ra(e)}function vm(e,t){t===0&&(t=Vn()),e=rs(e,t),e!==null&&(te(e,t),ra(e))}function s0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vm(e,n)}function l0(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(t),vm(e,n)}function i0(e,t){return Ps(e,t)}var Vi=null,As=null,pc=!1,Yi=!1,xc=!1,Un=0;function ra(e){e!==As&&e.next===null&&(As===null?Vi=As=e:As=As.next=e),Yi=!0,pc||(pc=!0,o0())}function Sl(e,t){if(!xc&&Yi){xc=!0;do for(var n=!1,s=Vi;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var x=s.suspendedLanes,v=s.pingedLanes;u=(1<<31-dt(42|e)+1)-1,u&=r&~(x&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,Nm(s,u))}else u=Ae,u=Gn(s,s===ze?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||pn(s,u)||(n=!0,Nm(s,u));s=s.next}while(n);xc=!1}}function r0(){bm()}function bm(){Yi=pc=!1;var e=0;Un!==0&&(x0()&&(e=Un),Un=0);for(var t=_t(),n=null,s=Vi;s!==null;){var r=s.next,u=jm(s,t);u===0?(s.next=null,n===null?Vi=r:n.next=r,r===null&&(As=n)):(n=s,(e!==0||(u&3)!==0)&&(Yi=!0)),s=r}Sl(e)}function jm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var x=31-dt(u),v=1<<x,w=r[x];w===-1?((v&n)===0||(v&s)!==0)&&(r[x]=Mr(v,t)):w<=t&&(e.expiredLanes|=v),u&=~v}if(t=ze,n=Ae,n=Gn(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Bn(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||pn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Bn(s),Rr(n)){case 2:case 8:n=Zl;break;case 32:n=In;break;case 268435456:n=Xl;break;default:n=In}return s=wm.bind(null,e),n=Ps(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Bn(s),e.callbackPriority=2,e.callbackNode=null,2}function wm(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gi()&&e.callbackNode!==n)return null;var s=Ae;return s=Gn(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(sm(e,s,t),jm(e,_t()),e.callbackNode!=null&&e.callbackNode===n?wm.bind(null,e):null)}function Nm(e,t){if(Gi())return null;sm(e,t,!0)}function o0(){y0(function(){(ke&6)!==0?Ps(Hs,r0):bm()})}function gc(){return Un===0&&(Un=Wl()),Un}function Sm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ni(""+e)}function Em(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function c0(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var u=Sm((r[vt]||null).action),x=s.submitter;x&&(t=(t=x[vt]||null)?Sm(t.formAction):x.getAttribute("formAction"),t!==null&&(u=t,x=null));var v=new ri("action","action",null,s,r);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Un!==0){var w=x?Em(r,x):new FormData(r);zo(n,{pending:!0,data:w,method:r.method,action:u},null,w)}}else typeof u=="function"&&(v.preventDefault(),w=x?Em(r,x):new FormData(r),zo(n,{pending:!0,data:w,method:r.method,action:u},u,w))},currentTarget:r}]})}}for(var yc=0;yc<to.length;yc++){var vc=to[yc],u0=vc.toLowerCase(),d0=vc[0].toUpperCase()+vc.slice(1);Kt(u0,"on"+d0)}Kt(nd,"onAnimationEnd"),Kt(sd,"onAnimationIteration"),Kt(ld,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(Tx,"onTransitionRun"),Kt(Mx,"onTransitionStart"),Kt(Rx,"onTransitionCancel"),Kt(id,"onTransitionEnd"),Jn("onMouseEnter",["mouseout","mouseover"]),Jn("onMouseLeave",["mouseout","mouseover"]),Jn("onPointerEnter",["pointerout","pointerover"]),Jn("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Cm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var x=s.length-1;0<=x;x--){var v=s[x],w=v.instance,D=v.currentTarget;if(v=v.listener,w!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=D;try{u(r)}catch(O){Ui(O)}r.currentTarget=null,u=w}else for(x=0;x<s.length;x++){if(v=s[x],w=v.instance,D=v.currentTarget,v=v.listener,w!==u&&r.isPropagationStopped())break e;u=v,r.currentTarget=D;try{u(r)}catch(O){Ui(O)}r.currentTarget=null,u=w}}}}function Ce(e,t){var n=t[kr];n===void 0&&(n=t[kr]=new Set);var s=e+"__bubble";n.has(s)||(Am(t,e,2,!1),n.add(s))}function bc(e,t,n){var s=0;t&&(s|=4),Am(n,e,s,t)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[Zi]){e[Zi]=!0,vu.forEach(function(n){n!=="selectionchange"&&(f0.has(n)||bc(n,!1,e),bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zi]||(t[Zi]=!0,bc("selectionchange",!1,t))}}function Am(e,t,n,s){switch(Jm(t)){case 2:var r=H0;break;case 8:r=B0;break;default:r=Lc}n=r.bind(null,t,n,e),r=void 0,!$r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function wc(e,t,n,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var x=s.tag;if(x===3||x===4){var v=s.stateNode.containerInfo;if(v===r)break;if(x===4)for(x=s.return;x!==null;){var w=x.tag;if((w===3||w===4)&&x.stateNode.containerInfo===r)return;x=x.return}for(;v!==null;){if(x=Xn(v),x===null)return;if(w=x.tag,w===5||w===6||w===26||w===27){s=u=x;continue e}v=v.parentNode}}s=s.return}Uu(function(){var D=u,O=Br(n),Z=[];e:{var q=rd.get(e);if(q!==void 0){var z=ri,ye=e;switch(e){case"keypress":if(li(n)===0)break e;case"keydown":case"keyup":z=ix;break;case"focusin":ye="focus",z=Yr;break;case"focusout":ye="blur",z=Yr;break;case"beforeblur":case"afterblur":z=Yr;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=qu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=cx;break;case nd:case sd:case ld:z=Jp;break;case id:z=dx;break;case"scroll":case"scrollend":z=Yp;break;case"wheel":z=mx;break;case"copy":case"cut":case"paste":z=Fp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Pu;break;case"toggle":case"beforetoggle":z=px}var pe=(t&4)!==0,Le=!pe&&(e==="scroll"||e==="scrollend"),A=pe?q!==null?q+"Capture":null:q;pe=[];for(var E=D,k;E!==null;){var G=E;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||A===null||(G=Gs(E,A),G!=null&&pe.push(Cl(E,G,k))),Le)break;E=E.return}0<pe.length&&(q=new z(q,ye,null,n,O),Z.push({event:q,listeners:pe}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",q&&n!==Hr&&(ye=n.relatedTarget||n.fromElement)&&(Xn(ye)||ye[Zn]))break e;if((z||q)&&(q=O.window===O?O:(q=O.ownerDocument)?q.defaultView||q.parentWindow:window,z?(ye=n.relatedTarget||n.toElement,z=D,ye=ye?Xn(ye):null,ye!==null&&(Le=f(ye),pe=ye.tag,ye!==Le||pe!==5&&pe!==27&&pe!==6)&&(ye=null)):(z=null,ye=D),z!==ye)){if(pe=qu,G="onMouseLeave",A="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(pe=Pu,G="onPointerLeave",A="onPointerEnter",E="pointer"),Le=z==null?q:Os(z),k=ye==null?q:Os(ye),q=new pe(G,E+"leave",z,n,O),q.target=Le,q.relatedTarget=k,G=null,Xn(O)===D&&(pe=new pe(A,E+"enter",ye,n,O),pe.target=k,pe.relatedTarget=Le,G=pe),Le=G,z&&ye)t:{for(pe=z,A=ye,E=0,k=pe;k;k=Ts(k))E++;for(k=0,G=A;G;G=Ts(G))k++;for(;0<E-k;)pe=Ts(pe),E--;for(;0<k-E;)A=Ts(A),k--;for(;E--;){if(pe===A||A!==null&&pe===A.alternate)break t;pe=Ts(pe),A=Ts(A)}pe=null}else pe=null;z!==null&&Tm(Z,q,z,pe,!1),ye!==null&&Le!==null&&Tm(Z,Le,ye,pe,!0)}}e:{if(q=D?Os(D):window,z=q.nodeName&&q.nodeName.toLowerCase(),z==="select"||z==="input"&&q.type==="file")var oe=Yu;else if(Gu(q))if(Zu)oe=Ex;else{oe=Nx;var Se=wx}else z=q.nodeName,!z||z.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?D&&Pr(D.elementType)&&(oe=Yu):oe=Sx;if(oe&&(oe=oe(e,D))){Vu(Z,oe,n,O);break e}Se&&Se(e,q,D),e==="focusout"&&D&&q.type==="number"&&D.memoizedProps.value!=null&&zr(q,"number",q.value)}switch(Se=D?Os(D):window,e){case"focusin":(Gu(Se)||Se.contentEditable==="true")&&(ss=Se,Wr=D,Ws=null);break;case"focusout":Ws=Wr=ss=null;break;case"mousedown":Fr=!0;break;case"contextmenu":case"mouseup":case"dragend":Fr=!1,td(Z,n,O);break;case"selectionchange":if(Ax)break;case"keydown":case"keyup":td(Z,n,O)}var ue;if(Xr)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ns?$u(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(Hu&&n.locale!=="ko"&&(ns||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ns&&(ue=_u()):(Pa=O,Or="value"in Pa?Pa.value:Pa.textContent,ns=!0)),Se=Xi(D,xe),0<Se.length&&(xe=new zu(xe,e,null,n,O),Z.push({event:xe,listeners:Se}),ue?xe.data=ue:(ue=Ou(n),ue!==null&&(xe.data=ue)))),(ue=gx?yx(e,n):vx(e,n))&&(xe=Xi(D,"onBeforeInput"),0<xe.length&&(Se=new zu("onBeforeInput","beforeinput",null,n,O),Z.push({event:Se,listeners:xe}),Se.data=ue)),c0(Z,e,D,n,O)}Cm(Z,t)})}function Cl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xi(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Gs(e,n),r!=null&&s.unshift(Cl(e,r,u)),r=Gs(e,t),r!=null&&s.push(Cl(e,r,u))),e.tag===3)return s;e=e.return}return[]}function Ts(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tm(e,t,n,s,r){for(var u=t._reactName,x=[];n!==null&&n!==s;){var v=n,w=v.alternate,D=v.stateNode;if(v=v.tag,w!==null&&w===s)break;v!==5&&v!==26&&v!==27||D===null||(w=D,r?(D=Gs(n,u),D!=null&&x.unshift(Cl(n,D,w))):r||(D=Gs(n,u),D!=null&&x.push(Cl(n,D,w)))),n=n.return}x.length!==0&&e.push({event:t,listeners:x})}var m0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function Mm(e){return(typeof e=="string"?e:""+e).replace(m0,`
`).replace(h0,"")}function Rm(e,t){return t=Mm(t),Mm(e)===t}function Qi(){}function _e(e,t,n,s,r,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||es(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&es(e,""+s);break;case"className":ei(e,"class",s);break;case"tabIndex":ei(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(e,n,s);break;case"style":ku(e,s,u);break;case"data":if(t!=="object"){ei(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ni(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&_e(e,t,"name",r.name,r,null),_e(e,t,"formEncType",r.formEncType,r,null),_e(e,t,"formMethod",r.formMethod,r,null),_e(e,t,"formTarget",r.formTarget,r,null)):(_e(e,t,"encType",r.encType,r,null),_e(e,t,"method",r.method,r,null),_e(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=ni(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=Qi);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=ni(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),Fl(e,"popover",s);break;case"xlinkActuate":ha(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ha(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ha(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ha(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ha(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ha(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ha(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ha(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ha(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fl(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Gp.get(n)||n,Fl(e,n,s))}}function Nc(e,t,n,s,r,u){switch(n){case"style":ku(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(o(60));e.innerHTML=n}}break;case"children":typeof s=="string"?es(e,s):(typeof s=="number"||typeof s=="bigint")&&es(e,""+s);break;case"onScroll":s!=null&&Ce("scroll",e);break;case"onScrollEnd":s!=null&&Ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Qi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bu.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),u=e[vt]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Fl(e,n,s)}}}function rt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var s=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var x=n[u];if(x!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:_e(e,t,u,x,n,null)}}r&&_e(e,t,"srcSet",n.srcSet,n,null),s&&_e(e,t,"src",n.src,n,null);return;case"input":Ce("invalid",e);var v=u=x=r=null,w=null,D=null;for(s in n)if(n.hasOwnProperty(s)){var O=n[s];if(O!=null)switch(s){case"name":r=O;break;case"type":x=O;break;case"checked":w=O;break;case"defaultChecked":D=O;break;case"value":u=O;break;case"defaultValue":v=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,t));break;default:_e(e,t,s,O,n,null)}}Au(e,u,v,w,D,x,r,!1),ti(e);return;case"select":Ce("invalid",e),s=x=u=null;for(r in n)if(n.hasOwnProperty(r)&&(v=n[r],v!=null))switch(r){case"value":u=v;break;case"defaultValue":x=v;break;case"multiple":s=v;default:_e(e,t,r,v,n,null)}t=u,n=x,e.multiple=!!s,t!=null?Fn(e,!!s,t,!1):n!=null&&Fn(e,!!s,n,!0);return;case"textarea":Ce("invalid",e),u=r=s=null;for(x in n)if(n.hasOwnProperty(x)&&(v=n[x],v!=null))switch(x){case"value":s=v;break;case"defaultValue":r=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(o(91));break;default:_e(e,t,x,v,n,null)}Mu(e,s,r,u),ti(e);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(s=n[w],s!=null))switch(w){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:_e(e,t,w,s,n,null)}return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(s=0;s<El.length;s++)Ce(El[s],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(s=n[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:_e(e,t,D,s,n,null)}return;default:if(Pr(t)){for(O in n)n.hasOwnProperty(O)&&(s=n[O],s!==void 0&&Nc(e,t,O,s,n,void 0));return}}for(v in n)n.hasOwnProperty(v)&&(s=n[v],s!=null&&_e(e,t,v,s,n,null))}function p0(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,x=null,v=null,w=null,D=null,O=null;for(z in n){var Z=n[z];if(n.hasOwnProperty(z)&&Z!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":w=Z;default:s.hasOwnProperty(z)||_e(e,t,z,null,s,Z)}}for(var q in s){var z=s[q];if(Z=n[q],s.hasOwnProperty(q)&&(z!=null||Z!=null))switch(q){case"type":u=z;break;case"name":r=z;break;case"checked":D=z;break;case"defaultChecked":O=z;break;case"value":x=z;break;case"defaultValue":v=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(137,t));break;default:z!==Z&&_e(e,t,q,z,s,Z)}}qr(e,x,v,w,D,O,u,r);return;case"select":z=x=v=q=null;for(u in n)if(w=n[u],n.hasOwnProperty(u)&&w!=null)switch(u){case"value":break;case"multiple":z=w;default:s.hasOwnProperty(u)||_e(e,t,u,null,s,w)}for(r in s)if(u=s[r],w=n[r],s.hasOwnProperty(r)&&(u!=null||w!=null))switch(r){case"value":q=u;break;case"defaultValue":v=u;break;case"multiple":x=u;default:u!==w&&_e(e,t,r,u,s,w)}t=v,n=x,s=z,q!=null?Fn(e,!!n,q,!1):!!s!=!!n&&(t!=null?Fn(e,!!n,t,!0):Fn(e,!!n,n?[]:"",!1));return;case"textarea":z=q=null;for(v in n)if(r=n[v],n.hasOwnProperty(v)&&r!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:_e(e,t,v,null,s,r)}for(x in s)if(r=s[x],u=n[x],s.hasOwnProperty(x)&&(r!=null||u!=null))switch(x){case"value":q=r;break;case"defaultValue":z=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(o(91));break;default:r!==u&&_e(e,t,x,r,s,u)}Tu(e,q,z);return;case"option":for(var ye in n)if(q=n[ye],n.hasOwnProperty(ye)&&q!=null&&!s.hasOwnProperty(ye))switch(ye){case"selected":e.selected=!1;break;default:_e(e,t,ye,null,s,q)}for(w in s)if(q=s[w],z=n[w],s.hasOwnProperty(w)&&q!==z&&(q!=null||z!=null))switch(w){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:_e(e,t,w,q,s,z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in n)q=n[pe],n.hasOwnProperty(pe)&&q!=null&&!s.hasOwnProperty(pe)&&_e(e,t,pe,null,s,q);for(D in s)if(q=s[D],z=n[D],s.hasOwnProperty(D)&&q!==z&&(q!=null||z!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:_e(e,t,D,q,s,z)}return;default:if(Pr(t)){for(var Le in n)q=n[Le],n.hasOwnProperty(Le)&&q!==void 0&&!s.hasOwnProperty(Le)&&Nc(e,t,Le,void 0,s,q);for(O in s)q=s[O],z=n[O],!s.hasOwnProperty(O)||q===z||q===void 0&&z===void 0||Nc(e,t,O,q,s,z);return}}for(var A in n)q=n[A],n.hasOwnProperty(A)&&q!=null&&!s.hasOwnProperty(A)&&_e(e,t,A,null,s,q);for(Z in s)q=s[Z],z=n[Z],!s.hasOwnProperty(Z)||q===z||q==null&&z==null||_e(e,t,Z,q,s,z)}var Sc=null,Ec=null;function Ki(e){return e.nodeType===9?e:e.ownerDocument}function km(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ac=null;function x0(){var e=window.event;return e&&e.type==="popstate"?e===Ac?!1:(Ac=e,!0):(Ac=null,!1)}var Um=typeof setTimeout=="function"?setTimeout:void 0,g0=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,y0=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(v0)}:Um;function v0(e){setTimeout(function(){throw e})}function en(e){return e==="head"}function Lm(e,t){var n=t,s=0,r=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"){if(0<s&&8>s){n=s;var x=e.ownerDocument;if(n&1&&Al(x.documentElement),n&2&&Al(x.body),n&4)for(n=x.head,Al(n),x=n.firstChild;x;){var v=x.nextSibling,w=x.nodeName;x[$s]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&x.rel.toLowerCase()==="stylesheet"||n.removeChild(x),x=v}}if(r===0){e.removeChild(u),Ll(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:s=n.charCodeAt(0)-48;else s=0;n=u}while(n);Ll(t)}function Tc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tc(n),Dr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function b0(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[$s])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function j0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Wt(e.nextSibling),e===null))return null;return e}function Mc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function w0(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Rc=null;function qm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function zm(e,t,n){switch(t=Ki(n),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Al(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dr(e)}var Ot=new Map,Pm=new Set;function Ji(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ta=Y.d;Y.d={f:N0,r:S0,D:E0,C:C0,L:A0,m:T0,X:R0,S:M0,M:k0};function N0(){var e=Ta.f(),t=$i();return e||t}function S0(e){var t=Qn(e);t!==null&&t.tag===5&&t.type==="form"?nf(t):Ta.r(e)}var Ms=typeof document>"u"?null:document;function Hm(e,t,n){var s=Ms;if(s&&typeof t=="string"&&t){var r=qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Pm.has(r)||(Pm.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),rt(t,"link",e),We(t),s.head.appendChild(t)))}}function E0(e){Ta.D(e),Hm("dns-prefetch",e,null)}function C0(e,t){Ta.C(e,t),Hm("preconnect",e,t)}function A0(e,t,n){Ta.L(e,t,n);var s=Ms;if(s&&e&&t){var r='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qt(n.imageSizes)+'"]')):r+='[href="'+qt(e)+'"]';var u=r;switch(t){case"style":u=Rs(e);break;case"script":u=ks(e)}Ot.has(u)||(e=y({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ot.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Tl(u))||t==="script"&&s.querySelector(Ml(u))||(t=s.createElement("link"),rt(t,"link",e),We(t),s.head.appendChild(t)))}}function T0(e,t){Ta.m(e,t);var n=Ms;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ks(e)}if(!Ot.has(u)&&(e=y({rel:"modulepreload",href:e},t),Ot.set(u,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ml(u)))return}s=n.createElement("link"),rt(s,"link",e),We(s),n.head.appendChild(s)}}}function M0(e,t,n){Ta.S(e,t,n);var s=Ms;if(s&&e){var r=Kn(s).hoistableStyles,u=Rs(e);t=t||"default";var x=r.get(u);if(!x){var v={loading:0,preload:null};if(x=s.querySelector(Tl(u)))v.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ot.get(u))&&kc(e,n);var w=x=s.createElement("link");We(w),rt(w,"link",e),w._p=new Promise(function(D,O){w.onload=D,w.onerror=O}),w.addEventListener("load",function(){v.loading|=1}),w.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Wi(x,t,s)}x={type:"stylesheet",instance:x,count:1,state:v},r.set(u,x)}}}function R0(e,t){Ta.X(e,t);var n=Ms;if(n&&e){var s=Kn(n).hoistableScripts,r=ks(e),u=s.get(r);u||(u=n.querySelector(Ml(r)),u||(e=y({src:e,async:!0},t),(t=Ot.get(r))&&Dc(e,t),u=n.createElement("script"),We(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function k0(e,t){Ta.M(e,t);var n=Ms;if(n&&e){var s=Kn(n).hoistableScripts,r=ks(e),u=s.get(r);u||(u=n.querySelector(Ml(r)),u||(e=y({src:e,async:!0,type:"module"},t),(t=Ot.get(r))&&Dc(e,t),u=n.createElement("script"),We(u),rt(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function Bm(e,t,n,s){var r=(r=K.current)?Ji(r):null;if(!r)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Rs(n.href),n=Kn(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Rs(n.href);var u=Kn(r).hoistableStyles,x=u.get(e);if(x||(r=r.ownerDocument||r,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,x),(u=r.querySelector(Tl(e)))&&!u._p&&(x.instance=u,x.state.loading=5),Ot.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ot.set(e,n),u||D0(r,e,n,x.state))),t&&s===null)throw Error(o(528,""));return x}if(t&&s!==null)throw Error(o(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ks(n),n=Kn(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Rs(e){return'href="'+qt(e)+'"'}function Tl(e){return'link[rel="stylesheet"]['+e+"]"}function Im(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function D0(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),rt(t,"link",n),We(t),e.head.appendChild(t))}function ks(e){return'[src="'+qt(e)+'"]'}function Ml(e){return"script[async]"+e}function $m(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(n.href)+'"]');if(s)return t.instance=s,We(s),s;var r=y({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),We(s),rt(s,"style",r),Wi(s,n.precedence,e),t.instance=s;case"stylesheet":r=Rs(n.href);var u=e.querySelector(Tl(r));if(u)return t.state.loading|=4,t.instance=u,We(u),u;s=Im(n),(r=Ot.get(r))&&kc(s,r),u=(e.ownerDocument||e).createElement("link"),We(u);var x=u;return x._p=new Promise(function(v,w){x.onload=v,x.onerror=w}),rt(u,"link",s),t.state.loading|=4,Wi(u,n.precedence,e),t.instance=u;case"script":return u=ks(n.src),(r=e.querySelector(Ml(u)))?(t.instance=r,We(r),r):(s=n,(r=Ot.get(u))&&(s=y({},n),Dc(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),We(r),rt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Wi(s,n.precedence,e));return t.instance}function Wi(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,x=0;x<s.length;x++){var v=s[x];if(v.dataset.precedence===t)u=v;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function kc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fi=null;function Om(e,t,n){if(Fi===null){var s=new Map,r=Fi=new Map;r.set(n,s)}else r=Fi,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var u=n[r];if(!(u[$s]||u[ft]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var x=u.getAttribute(t)||"";x=e+x;var v=s.get(x);v?v.push(u):s.set(x,[u])}}return s}function Gm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function U0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Rl=null;function _0(){}function L0(e,t,n){if(Rl===null)throw Error(o(475));var s=Rl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=Rs(n.href),u=e.querySelector(Tl(r));if(u){e=u._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=er.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=u,We(u);return}u=e.ownerDocument||e,n=Im(n),(r=Ot.get(r))&&kc(n,r),u=u.createElement("link"),We(u);var x=u;x._p=new Promise(function(v,w){x.onload=v,x.onerror=w}),rt(u,"link",n),t.instance=u}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=er.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function q0(){if(Rl===null)throw Error(o(475));var e=Rl;return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function er(){if(this.count--,this.count===0){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tr=null;function Uc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tr=new Map,t.forEach(z0,e),tr=null,er.call(e))}function z0(e,t){if(!(t.state.loading&4)){var n=tr.get(e);if(n)var s=n.get(null);else{n=new Map,tr.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var x=r[u];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(n.set(x.dataset.precedence,x),s=x)}s&&n.set(null,s)}r=t.instance,x=r.getAttribute("data-precedence"),u=n.get(x)||s,u===s&&n.set(null,r),n.set(x,r),this.count++,s=er.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var kl={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function P0(e,t,n,s,r,u,x,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=X(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=X(0),this.hiddenUpdates=X(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Ym(e,t,n,s,r,u,x,v,w,D,O,Z){return e=new P0(e,t,n,x,v,w,D,Z),t=1,u===!0&&(t|=24),u=Ct(3,null,null,t),e.current=u,u.stateNode=e,t=ho(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},yo(u),e}function Zm(e){return e?(e=os,e):os}function Xm(e,t,n,s,r,u){r=Zm(r),s.context===null?s.context=r:s.pendingContext=r,s=Ia(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=$a(e,s,t),n!==null&&(kt(n,e,t),rl(n,e,t))}function Qm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function _c(e,t){Qm(e,t),(e=e.alternate)&&Qm(e,t)}function Km(e){if(e.tag===13){var t=rs(e,67108864);t!==null&&kt(t,e,67108864),_c(e,67108864)}}var ar=!0;function H0(e,t,n,s){var r=L.T;L.T=null;var u=Y.p;try{Y.p=2,Lc(e,t,n,s)}finally{Y.p=u,L.T=r}}function B0(e,t,n,s){var r=L.T;L.T=null;var u=Y.p;try{Y.p=8,Lc(e,t,n,s)}finally{Y.p=u,L.T=r}}function Lc(e,t,n,s){if(ar){var r=qc(s);if(r===null)wc(e,t,s,nr,n),Wm(e,s);else if($0(r,e,t,n,s))s.stopPropagation();else if(Wm(e,s),t&4&&-1<I0.indexOf(e)){for(;r!==null;){var u=Qn(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var x=ma(u.pendingLanes);if(x!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var w=1<<31-dt(x);v.entanglements[1]|=w,x&=~w}ra(u),(ke&6)===0&&(Bi=_t()+500,Sl(0))}}break;case 13:v=rs(u,2),v!==null&&kt(v,u,2),$i(),_c(u,2)}if(u=qc(s),u===null&&wc(e,t,s,nr,n),u===r)break;r=u}r!==null&&s.stopPropagation()}else wc(e,t,s,null,n)}}function qc(e){return e=Br(e),zc(e)}var nr=null;function zc(e){if(nr=null,e=Xn(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return nr=e,null}function Jm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case Hs:return 2;case Zl:return 8;case In:case Tr:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var Pc=!1,tn=null,an=null,nn=null,Dl=new Map,Ul=new Map,sn=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Wm(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":Dl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function _l(e,t,n,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=Qn(t),t!==null&&Km(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function $0(e,t,n,s,r){switch(t){case"focusin":return tn=_l(tn,e,t,n,s,r),!0;case"dragenter":return an=_l(an,e,t,n,s,r),!0;case"mouseover":return nn=_l(nn,e,t,n,s,r),!0;case"pointerover":var u=r.pointerId;return Dl.set(u,_l(Dl.get(u)||null,e,t,n,s,r)),!0;case"gotpointercapture":return u=r.pointerId,Ul.set(u,_l(Ul.get(u)||null,e,t,n,s,r)),!0}return!1}function Fm(e){var t=Xn(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Lp(e.priority,function(){if(n.tag===13){var s=Rt();s=xn(s);var r=rs(n,s);r!==null&&kt(r,n,s),_c(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Hr=s,n.target.dispatchEvent(s),Hr=null}else return t=Qn(n),t!==null&&Km(t),e.blockedOn=n,!1;t.shift()}return!0}function eh(e,t,n){sr(e)&&n.delete(t)}function O0(){Pc=!1,tn!==null&&sr(tn)&&(tn=null),an!==null&&sr(an)&&(an=null),nn!==null&&sr(nn)&&(nn=null),Dl.forEach(eh),Ul.forEach(eh)}function lr(e,t){e.blockedOn===t&&(e.blockedOn=null,Pc||(Pc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,O0)))}var ir=null;function th(e){ir!==e&&(ir=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ir===e&&(ir=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(zc(s||n)===null)continue;break}var u=Qn(n);u!==null&&(e.splice(t,3),t-=3,zo(u,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function Ll(e){function t(w){return lr(w,e)}tn!==null&&lr(tn,e),an!==null&&lr(an,e),nn!==null&&lr(nn,e),Dl.forEach(t),Ul.forEach(t);for(var n=0;n<sn.length;n++){var s=sn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<sn.length&&(n=sn[0],n.blockedOn===null);)Fm(n),n.blockedOn===null&&sn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],x=r[vt]||null;if(typeof u=="function")x||th(n);else if(x){var v=null;if(u&&u.hasAttribute("formAction")){if(r=u,x=u[vt]||null)v=x.formAction;else if(zc(r)!==null)continue}else v=x.action;typeof v=="function"?n[s+1]=v:(n.splice(s,3),s-=3),th(n)}}}function Hc(e){this._internalRoot=e}rr.prototype.render=Hc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var n=t.current,s=Rt();Xm(n,s,e,t,null,null)},rr.prototype.unmount=Hc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xm(e.current,2,null,e,null,null),$i(),t[Zn]=null}};function rr(e){this._internalRoot=e}rr.prototype.unstable_scheduleHydration=function(e){if(e){var t=gu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sn.length&&t!==0&&t<sn[n].priority;n++);sn.splice(n,0,e),n===0&&Fm(e)}};var ah=i.version;if(ah!=="19.1.1")throw Error(o(527,ah,"19.1.1"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=p(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var G0={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!or.isDisabled&&or.supportsFiber)try{fa=or.inject(G0),nt=or}catch{}}return zl.createRoot=function(e,t){if(!d(e))throw Error(o(299));var n=!1,s="",r=yf,u=vf,x=bf,v=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Ym(e,1,!1,null,null,n,s,r,u,x,v,null),e[Zn]=t.current,jc(e),new Hc(t)},zl.hydrateRoot=function(e,t,n){if(!d(e))throw Error(o(299));var s=!1,r="",u=yf,x=vf,v=bf,w=null,D=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(x=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks),n.formState!==void 0&&(D=n.formState)),t=Ym(e,1,!0,t,n??null,s,r,u,x,v,w,D),t.context=Zm(null),n=t.current,s=Rt(),s=xn(s),r=Ia(s),r.callback=null,$a(n,r,s),n=s,t.current.lanes=n,te(t,n),ra(t),e[Zn]=t.current,jc(e),new rr(t)},zl.version="19.1.1",zl}var fh;function eg(){if(fh)return $c.exports;fh=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),$c.exports=F0(),$c.exports}var tg=eg();/**
 * react-router v7.9.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mh="popstate";function ag(l={}){function i(o,d){let{pathname:f,search:m,hash:h}=o.location;return Kc("",{pathname:f,search:m,hash:h},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function c(o,d){return typeof d=="string"?d:Il(d)}return sg(i,c,null,l)}function He(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function Qt(l,i){if(!l){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function ng(){return Math.random().toString(36).substring(2,10)}function hh(l,i){return{usr:l.state,key:l.key,idx:i}}function Kc(l,i,c=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof i=="string"?_s(i):i,state:c,key:i&&i.key||o||ng()}}function Il({pathname:l="/",search:i="",hash:c=""}){return i&&i!=="?"&&(l+=i.charAt(0)==="?"?i:"?"+i),c&&c!=="#"&&(l+=c.charAt(0)==="#"?c:"#"+c),l}function _s(l){let i={};if(l){let c=l.indexOf("#");c>=0&&(i.hash=l.substring(c),l=l.substring(0,c));let o=l.indexOf("?");o>=0&&(i.search=l.substring(o),l=l.substring(0,o)),l&&(i.pathname=l)}return i}function sg(l,i,c,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,m=d.history,h="POP",p=null,g=y();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function y(){return(m.state||{idx:null}).idx}function j(){h="POP";let T=y(),S=T==null?null:T-g;g=T,p&&p({action:h,location:R.location,delta:S})}function C(T,S){h="PUSH";let _=Kc(R.location,T,S);g=y()+1;let I=hh(_,g),ee=R.createHref(_);try{m.pushState(I,"",ee)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;d.location.assign(ee)}f&&p&&p({action:h,location:R.location,delta:1})}function M(T,S){h="REPLACE";let _=Kc(R.location,T,S);g=y();let I=hh(_,g),ee=R.createHref(_);m.replaceState(I,"",ee),f&&p&&p({action:h,location:R.location,delta:0})}function H(T){return lg(T)}let R={get action(){return h},get location(){return l(d,m)},listen(T){if(p)throw new Error("A history only accepts one active listener");return d.addEventListener(mh,j),p=T,()=>{d.removeEventListener(mh,j),p=null}},createHref(T){return i(d,T)},createURL:H,encodeLocation(T){let S=H(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:C,replace:M,go(T){return m.go(T)}};return R}function lg(l,i=!1){let c="http://localhost";typeof window<"u"&&(c=window.location.origin!=="null"?window.location.origin:window.location.href),He(c,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:Il(l);return o=o.replace(/ $/,"%20"),!i&&o.startsWith("//")&&(o=c+o),new URL(o,c)}function zh(l,i,c="/"){return ig(l,i,c,!1)}function ig(l,i,c,o){let d=typeof i=="string"?_s(i):i,f=La(d.pathname||"/",c);if(f==null)return null;let m=Ph(l);rg(m);let h=null;for(let p=0;h==null&&p<m.length;++p){let g=yg(f);h=xg(m[p],g,o)}return h}function Ph(l,i=[],c=[],o="",d=!1){let f=(m,h,p=d,g)=>{let y={relativePath:g===void 0?m.path||"":g,caseSensitive:m.caseSensitive===!0,childrenIndex:h,route:m};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(o)&&p)return;He(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length)}let j=Ua([o,y.relativePath]),C=c.concat(y);m.children&&m.children.length>0&&(He(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${j}".`),Ph(m.children,i,C,j,p)),!(m.path==null&&!m.index)&&i.push({path:j,score:hg(j,m.index),routesMeta:C})};return l.forEach((m,h)=>{if(m.path===""||!m.path?.includes("?"))f(m,h);else for(let p of Hh(m.path))f(m,h,!0,p)}),i}function Hh(l){let i=l.split("/");if(i.length===0)return[];let[c,...o]=i,d=c.endsWith("?"),f=c.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let m=Hh(o.join("/")),h=[];return h.push(...m.map(p=>p===""?f:[f,p].join("/"))),d&&h.push(...m),h.map(p=>l.startsWith("/")&&p===""?"/":p)}function rg(l){l.sort((i,c)=>i.score!==c.score?c.score-i.score:pg(i.routesMeta.map(o=>o.childrenIndex),c.routesMeta.map(o=>o.childrenIndex)))}var og=/^:[\w-]+$/,cg=3,ug=2,dg=1,fg=10,mg=-2,ph=l=>l==="*";function hg(l,i){let c=l.split("/"),o=c.length;return c.some(ph)&&(o+=mg),i&&(o+=ug),c.filter(d=>!ph(d)).reduce((d,f)=>d+(og.test(f)?cg:f===""?dg:fg),o)}function pg(l,i){return l.length===i.length&&l.slice(0,-1).every((o,d)=>o===i[d])?l[l.length-1]-i[i.length-1]:0}function xg(l,i,c=!1){let{routesMeta:o}=l,d={},f="/",m=[];for(let h=0;h<o.length;++h){let p=o[h],g=h===o.length-1,y=f==="/"?i:i.slice(f.length)||"/",j=xr({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),C=p.route;if(!j&&g&&c&&!o[o.length-1].route.index&&(j=xr({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!j)return null;Object.assign(d,j.params),m.push({params:d,pathname:Ua([f,j.pathname]),pathnameBase:wg(Ua([f,j.pathnameBase])),route:C}),j.pathnameBase!=="/"&&(f=Ua([f,j.pathnameBase]))}return m}function xr(l,i){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[c,o]=gg(l.path,l.caseSensitive,l.end),d=i.match(c);if(!d)return null;let f=d[0],m=f.replace(/(.)\/+$/,"$1"),h=d.slice(1);return{params:o.reduce((g,{paramName:y,isOptional:j},C)=>{if(y==="*"){let H=h[C]||"";m=f.slice(0,f.length-H.length).replace(/(.)\/+$/,"$1")}const M=h[C];return j&&!M?g[y]=void 0:g[y]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:m,pattern:l}}function gg(l,i=!1,c=!0){Qt(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,p)=>(o.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(o.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):c?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,i?void 0:"i"),o]}function yg(l){try{return l.split("/").map(i=>decodeURIComponent(i).replace(/\//g,"%2F")).join("/")}catch(i){return Qt(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${i}).`),l}}function La(l,i){if(i==="/")return l;if(!l.toLowerCase().startsWith(i.toLowerCase()))return null;let c=i.endsWith("/")?i.length-1:i.length,o=l.charAt(c);return o&&o!=="/"?null:l.slice(c)||"/"}function vg(l,i="/"){let{pathname:c,search:o="",hash:d=""}=typeof l=="string"?_s(l):l;return{pathname:c?c.startsWith("/")?c:bg(c,i):i,search:Ng(o),hash:Sg(d)}}function bg(l,i){let c=i.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?c.length>1&&c.pop():d!=="."&&c.push(d)}),c.length>1?c.join("/"):"/"}function Yc(l,i,c,o){return`Cannot include a '${l}' character in a manually specified \`to.${i}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${c}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jg(l){return l.filter((i,c)=>c===0||i.route.path&&i.route.path.length>0)}function su(l){let i=jg(l);return i.map((c,o)=>o===i.length-1?c.pathname:c.pathnameBase)}function lu(l,i,c,o=!1){let d;typeof l=="string"?d=_s(l):(d={...l},He(!d.pathname||!d.pathname.includes("?"),Yc("?","pathname","search",d)),He(!d.pathname||!d.pathname.includes("#"),Yc("#","pathname","hash",d)),He(!d.search||!d.search.includes("#"),Yc("#","search","hash",d)));let f=l===""||d.pathname==="",m=f?"/":d.pathname,h;if(m==null)h=c;else{let j=i.length-1;if(!o&&m.startsWith("..")){let C=m.split("/");for(;C[0]==="..";)C.shift(),j-=1;d.pathname=C.join("/")}h=j>=0?i[j]:"/"}let p=vg(d,h),g=m&&m!=="/"&&m.endsWith("/"),y=(f||m===".")&&c.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Ua=l=>l.join("/").replace(/\/\/+/g,"/"),wg=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),Ng=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Sg=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function Eg(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}var Bh=["POST","PUT","PATCH","DELETE"];new Set(Bh);var Cg=["GET",...Bh];new Set(Cg);var Ls=b.createContext(null);Ls.displayName="DataRouter";var vr=b.createContext(null);vr.displayName="DataRouterState";b.createContext(!1);var Ih=b.createContext({isTransitioning:!1});Ih.displayName="ViewTransition";var Ag=b.createContext(new Map);Ag.displayName="Fetchers";var Tg=b.createContext(null);Tg.displayName="Await";var ea=b.createContext(null);ea.displayName="Navigation";var Vl=b.createContext(null);Vl.displayName="Location";var ta=b.createContext({outlet:null,matches:[],isDataRoute:!1});ta.displayName="Route";var iu=b.createContext(null);iu.displayName="RouteError";function Mg(l,{relative:i}={}){He(qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:c,navigator:o}=b.useContext(ea),{hash:d,pathname:f,search:m}=Yl(l,{relative:i}),h=f;return c!=="/"&&(h=f==="/"?c:Ua([c,f])),o.createHref({pathname:h,search:m,hash:d})}function qs(){return b.useContext(Vl)!=null}function ct(){return He(qs(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Vl).location}var $h="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oh(l){b.useContext(ea).static||b.useLayoutEffect(l)}function at(){let{isDataRoute:l}=b.useContext(ta);return l?$g():Rg()}function Rg(){He(qs(),"useNavigate() may be used only in the context of a <Router> component.");let l=b.useContext(Ls),{basename:i,navigator:c}=b.useContext(ea),{matches:o}=b.useContext(ta),{pathname:d}=ct(),f=JSON.stringify(su(o)),m=b.useRef(!1);return Oh(()=>{m.current=!0}),b.useCallback((p,g={})=>{if(Qt(m.current,$h),!m.current)return;if(typeof p=="number"){c.go(p);return}let y=lu(p,JSON.parse(f),d,g.relative==="path");l==null&&i!=="/"&&(y.pathname=y.pathname==="/"?i:Ua([i,y.pathname])),(g.replace?c.replace:c.push)(y,g.state,g)},[i,c,f,d,l])}b.createContext(null);function Gh(){let{matches:l}=b.useContext(ta),i=l[l.length-1];return i?i.params:{}}function Yl(l,{relative:i}={}){let{matches:c}=b.useContext(ta),{pathname:o}=ct(),d=JSON.stringify(su(c));return b.useMemo(()=>lu(l,JSON.parse(d),o,i==="path"),[l,d,o,i])}function kg(l,i){return Vh(l,i)}function Vh(l,i,c,o,d){He(qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=b.useContext(ea),{matches:m}=b.useContext(ta),h=m[m.length-1],p=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",j=h&&h.route;{let _=j&&j.path||"";Yh(g,!j||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let C=ct(),M;if(i){let _=typeof i=="string"?_s(i):i;He(y==="/"||_.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${_.pathname}" was given in the \`location\` prop.`),M=_}else M=C;let H=M.pathname||"/",R=H;if(y!=="/"){let _=y.replace(/^\//,"").split("/");R="/"+H.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=zh(l,{pathname:R});Qt(j||T!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Qt(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=qg(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},p,_.params),pathname:Ua([y,f.encodeLocation?f.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?y:Ua([y,f.encodeLocation?f.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),m,c,o,d);return i&&S?b.createElement(Vl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},S):S}function Dg(){let l=Ig(),i=Eg(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),c=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",l),m=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:f},"ErrorBoundary")," or"," ",b.createElement("code",{style:f},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},i),c?b.createElement("pre",{style:d},c):null,m)}var Ug=b.createElement(Dg,null),_g=class extends b.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,i){return i.location!==l.location||i.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:i.error,location:i.location,revalidation:l.revalidation||i.revalidation}}componentDidCatch(l,i){this.props.unstable_onError?this.props.unstable_onError(l,i):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?b.createElement(ta.Provider,{value:this.props.routeContext},b.createElement(iu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Lg({routeContext:l,match:i,children:c}){let o=b.useContext(Ls);return o&&o.static&&o.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=i.route.id),b.createElement(ta.Provider,{value:l},c)}function qg(l,i=[],c=null,o=null,d=null){if(l==null){if(!c)return null;if(c.errors)l=c.matches;else if(i.length===0&&!c.initialized&&c.matches.length>0)l=c.matches;else return null}let f=l,m=c?.errors;if(m!=null){let g=f.findIndex(y=>y.route.id&&m?.[y.route.id]!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,g+1))}let h=!1,p=-1;if(c)for(let g=0;g<f.length;g++){let y=f[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:j,errors:C}=c,M=y.route.loader&&!j.hasOwnProperty(y.route.id)&&(!C||C[y.route.id]===void 0);if(y.route.lazy||M){h=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((g,y,j)=>{let C,M=!1,H=null,R=null;c&&(C=m&&y.route.id?m[y.route.id]:void 0,H=y.route.errorElement||Ug,h&&(p<0&&j===0?(Yh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,R=null):p===j&&(M=!0,R=y.route.hydrateFallbackElement||null)));let T=i.concat(f.slice(0,j+1)),S=()=>{let _;return C?_=H:M?_=R:y.route.Component?_=b.createElement(y.route.Component,null):y.route.element?_=y.route.element:_=g,b.createElement(Lg,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:c!=null},children:_})};return c&&(y.route.ErrorBoundary||y.route.errorElement||j===0)?b.createElement(_g,{location:c.location,revalidation:c.revalidation,component:H,error:C,children:S(),routeContext:{outlet:null,matches:T,isDataRoute:!0},unstable_onError:o}):S()},null)}function ru(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zg(l){let i=b.useContext(Ls);return He(i,ru(l)),i}function Pg(l){let i=b.useContext(vr);return He(i,ru(l)),i}function Hg(l){let i=b.useContext(ta);return He(i,ru(l)),i}function ou(l){let i=Hg(l),c=i.matches[i.matches.length-1];return He(c.route.id,`${l} can only be used on routes that contain a unique "id"`),c.route.id}function Bg(){return ou("useRouteId")}function Ig(){let l=b.useContext(iu),i=Pg("useRouteError"),c=ou("useRouteError");return l!==void 0?l:i.errors?.[c]}function $g(){let{router:l}=zg("useNavigate"),i=ou("useNavigate"),c=b.useRef(!1);return Oh(()=>{c.current=!0}),b.useCallback(async(d,f={})=>{Qt(c.current,$h),c.current&&(typeof d=="number"?l.navigate(d):await l.navigate(d,{fromRouteId:i,...f}))},[l,i])}var xh={};function Yh(l,i,c){!i&&!xh[l]&&(xh[l]=!0,Qt(!1,c))}b.memo(Og);function Og({routes:l,future:i,state:c,unstable_onError:o}){return Vh(l,void 0,c,o,i)}function Gg({to:l,replace:i,state:c,relative:o}){He(qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=b.useContext(ea);Qt(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=b.useContext(ta),{pathname:m}=ct(),h=at(),p=lu(l,su(f),m,o==="path"),g=JSON.stringify(p);return b.useEffect(()=>{h(JSON.parse(g),{replace:i,state:c,relative:o})},[h,g,o,i,c]),null}function ot(l){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vg({basename:l="/",children:i=null,location:c,navigationType:o="POP",navigator:d,static:f=!1}){He(!qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=l.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:m,navigator:d,static:f,future:{}}),[m,d,f]);typeof c=="string"&&(c=_s(c));let{pathname:p="/",search:g="",hash:y="",state:j=null,key:C="default"}=c,M=b.useMemo(()=>{let H=La(p,m);return H==null?null:{location:{pathname:H,search:g,hash:y,state:j,key:C},navigationType:o}},[m,p,g,y,j,C,o]);return Qt(M!=null,`<Router basename="${m}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:b.createElement(ea.Provider,{value:h},b.createElement(Vl.Provider,{children:i,value:M}))}function Yg({children:l,location:i}){return kg(Jc(l),i)}function Jc(l,i=[]){let c=[];return b.Children.forEach(l,(o,d)=>{if(!b.isValidElement(o))return;let f=[...i,d];if(o.type===b.Fragment){c.push.apply(c,Jc(o.props.children,f));return}He(o.type===ot,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=Jc(o.props.children,f)),c.push(m)}),c}var fr="get",mr="application/x-www-form-urlencoded";function br(l){return l!=null&&typeof l.tagName=="string"}function Zg(l){return br(l)&&l.tagName.toLowerCase()==="button"}function Xg(l){return br(l)&&l.tagName.toLowerCase()==="form"}function Qg(l){return br(l)&&l.tagName.toLowerCase()==="input"}function Kg(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Jg(l,i){return l.button===0&&(!i||i==="_self")&&!Kg(l)}function Wc(l=""){return new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((i,c)=>{let o=l[c];return i.concat(Array.isArray(o)?o.map(d=>[c,d]):[[c,o]])},[]))}function Wg(l,i){let c=Wc(l);return i&&i.forEach((o,d)=>{c.has(d)||i.getAll(d).forEach(f=>{c.append(d,f)})}),c}var cr=null;function Fg(){if(cr===null)try{new FormData(document.createElement("form"),0),cr=!1}catch{cr=!0}return cr}var ey=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Zc(l){return l!=null&&!ey.has(l)?(Qt(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mr}"`),null):l}function ty(l,i){let c,o,d,f,m;if(Xg(l)){let h=l.getAttribute("action");o=h?La(h,i):null,c=l.getAttribute("method")||fr,d=Zc(l.getAttribute("enctype"))||mr,f=new FormData(l)}else if(Zg(l)||Qg(l)&&(l.type==="submit"||l.type==="image")){let h=l.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=l.getAttribute("formaction")||h.getAttribute("action");if(o=p?La(p,i):null,c=l.getAttribute("formmethod")||h.getAttribute("method")||fr,d=Zc(l.getAttribute("formenctype"))||Zc(h.getAttribute("enctype"))||mr,f=new FormData(h,l),!Fg()){let{name:g,type:y,value:j}=l;if(y==="image"){let C=g?`${g}.`:"";f.append(`${C}x`,"0"),f.append(`${C}y`,"0")}else g&&f.append(g,j)}}else{if(br(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');c=fr,o=null,d=mr,m=l}return f&&d==="text/plain"&&(m=f,f=void 0),{action:o,method:c.toLowerCase(),encType:d,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cu(l,i){if(l===!1||l===null||typeof l>"u")throw new Error(i)}function ay(l,i,c){let o=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o.pathname==="/"?o.pathname=`_root.${c}`:i&&La(o.pathname,i)==="/"?o.pathname=`${i.replace(/\/$/,"")}/_root.${c}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${c}`,o}async function ny(l,i){if(l.id in i)return i[l.id];try{let c=await import(l.module);return i[l.id]=c,c}catch(c){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(c),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sy(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function ly(l,i,c){let o=await Promise.all(l.map(async d=>{let f=i.routes[d.route.id];if(f){let m=await ny(f,c);return m.links?m.links():[]}return[]}));return cy(o.flat(1).filter(sy).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function gh(l,i,c,o,d,f){let m=(p,g)=>c[g]?p.route.id!==c[g].route.id:!0,h=(p,g)=>c[g].pathname!==p.pathname||c[g].route.path?.endsWith("*")&&c[g].params["*"]!==p.params["*"];return f==="assets"?i.filter((p,g)=>m(p,g)||h(p,g)):f==="data"?i.filter((p,g)=>{let y=o.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(m(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let j=p.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:c[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function iy(l,i,{includeHydrateFallback:c}={}){return ry(l.map(o=>{let d=i.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),c&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function ry(l){return[...new Set(l)]}function oy(l){let i={},c=Object.keys(l).sort();for(let o of c)i[o]=l[o];return i}function cy(l,i){let c=new Set;return new Set(i),l.reduce((o,d)=>{let f=JSON.stringify(oy(d));return c.has(f)||(c.add(f),o.push({key:f,link:d})),o},[])}function Zh(){let l=b.useContext(Ls);return cu(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function uy(){let l=b.useContext(vr);return cu(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var uu=b.createContext(void 0);uu.displayName="FrameworkContext";function Xh(){let l=b.useContext(uu);return cu(l,"You must render this element inside a <HydratedRouter> element"),l}function dy(l,i){let c=b.useContext(uu),[o,d]=b.useState(!1),[f,m]=b.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:j}=i,C=b.useRef(null);b.useEffect(()=>{if(l==="render"&&m(!0),l==="viewport"){let R=S=>{S.forEach(_=>{m(_.isIntersecting)})},T=new IntersectionObserver(R,{threshold:.5});return C.current&&T.observe(C.current),()=>{T.disconnect()}}},[l]),b.useEffect(()=>{if(o){let R=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(R)}}},[o]);let M=()=>{d(!0)},H=()=>{d(!1),m(!1)};return c?l!=="intent"?[f,C,{}]:[f,C,{onFocus:Pl(h,M),onBlur:Pl(p,H),onMouseEnter:Pl(g,M),onMouseLeave:Pl(y,H),onTouchStart:Pl(j,M)}]:[!1,C,{}]}function Pl(l,i){return c=>{l&&l(c),c.defaultPrevented||i(c)}}function fy({page:l,...i}){let{router:c}=Zh(),o=b.useMemo(()=>zh(c.routes,l,c.basename),[c.routes,l,c.basename]);return o?b.createElement(hy,{page:l,matches:o,...i}):null}function my(l){let{manifest:i,routeModules:c}=Xh(),[o,d]=b.useState([]);return b.useEffect(()=>{let f=!1;return ly(l,i,c).then(m=>{f||d(m)}),()=>{f=!0}},[l,i,c]),o}function hy({page:l,matches:i,...c}){let o=ct(),{manifest:d,routeModules:f}=Xh(),{basename:m}=Zh(),{loaderData:h,matches:p}=uy(),g=b.useMemo(()=>gh(l,i,p,d,o,"data"),[l,i,p,d,o]),y=b.useMemo(()=>gh(l,i,p,d,o,"assets"),[l,i,p,d,o]),j=b.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let H=new Set,R=!1;if(i.forEach(S=>{let _=d.routes[S.route.id];!_||!_.hasLoader||(!g.some(I=>I.route.id===S.route.id)&&S.route.id in h&&f[S.route.id]?.shouldRevalidate||_.hasClientLoader?R=!0:H.add(S.route.id))}),H.size===0)return[];let T=ay(l,m,"data");return R&&H.size>0&&T.searchParams.set("_routes",i.filter(S=>H.has(S.route.id)).map(S=>S.route.id).join(",")),[T.pathname+T.search]},[m,h,o,d,g,i,l,f]),C=b.useMemo(()=>iy(y,d),[y,d]),M=my(y);return b.createElement(b.Fragment,null,j.map(H=>b.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...c})),C.map(H=>b.createElement("link",{key:H,rel:"modulepreload",href:H,...c})),M.map(({key:H,link:R})=>b.createElement("link",{key:H,nonce:c.nonce,...R})))}function py(...l){return i=>{l.forEach(c=>{typeof c=="function"?c(i):c!=null&&(c.current=i)})}}var Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qh&&(window.__reactRouterVersion="7.9.0")}catch{}function xy({basename:l,children:i,window:c}){let o=b.useRef();o.current==null&&(o.current=ag({window:c,v5Compat:!0}));let d=o.current,[f,m]=b.useState({action:d.action,location:d.location}),h=b.useCallback(p=>{b.startTransition(()=>m(p))},[m]);return b.useLayoutEffect(()=>d.listen(h),[d,h]),b.createElement(Vg,{basename:l,children:i,location:f.location,navigationType:f.action,navigator:d})}var Kh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=b.forwardRef(function({onClick:i,discover:c="render",prefetch:o="none",relative:d,reloadDocument:f,replace:m,state:h,target:p,to:g,preventScrollReset:y,viewTransition:j,...C},M){let{basename:H}=b.useContext(ea),R=typeof g=="string"&&Kh.test(g),T,S=!1;if(typeof g=="string"&&R&&(T=g,Qh))try{let ne=new URL(window.location.href),fe=g.startsWith("//")?new URL(ne.protocol+g):new URL(g),de=La(fe.pathname,H);fe.origin===ne.origin&&de!=null?g=de+fe.search+fe.hash:S=!0}catch{Qt(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Mg(g,{relative:d}),[I,ee,J]=dy(o,C),ge=by(g,{replace:m,state:h,target:p,preventScrollReset:y,relative:d,viewTransition:j});function ae(ne){i&&i(ne),ne.defaultPrevented||ge(ne)}let le=b.createElement("a",{...C,...J,href:T||_,onClick:S||f?i:ae,ref:py(M,ee),target:p,"data-discover":!R&&c==="render"?"true":void 0});return I&&!R?b.createElement(b.Fragment,null,le,b.createElement(fy,{page:_})):le});Ut.displayName="Link";var gy=b.forwardRef(function({"aria-current":i="page",caseSensitive:c=!1,className:o="",end:d=!1,style:f,to:m,viewTransition:h,children:p,...g},y){let j=Yl(m,{relative:g.relative}),C=ct(),M=b.useContext(vr),{navigator:H,basename:R}=b.useContext(ea),T=M!=null&&Ey(j)&&h===!0,S=H.encodeLocation?H.encodeLocation(j).pathname:j.pathname,_=C.pathname,I=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;c||(_=_.toLowerCase(),I=I?I.toLowerCase():null,S=S.toLowerCase()),I&&R&&(I=La(I,R)||I);const ee=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let J=_===S||!d&&_.startsWith(S)&&_.charAt(ee)==="/",ge=I!=null&&(I===S||!d&&I.startsWith(S)&&I.charAt(S.length)==="/"),ae={isActive:J,isPending:ge,isTransitioning:T},le=J?i:void 0,ne;typeof o=="function"?ne=o(ae):ne=[o,J?"active":null,ge?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let fe=typeof f=="function"?f(ae):f;return b.createElement(Ut,{...g,"aria-current":le,className:ne,ref:y,style:fe,to:m,viewTransition:h},typeof p=="function"?p(ae):p)});gy.displayName="NavLink";var yy=b.forwardRef(({discover:l="render",fetcherKey:i,navigate:c,reloadDocument:o,replace:d,state:f,method:m=fr,action:h,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:j,...C},M)=>{let H=Ny(),R=Sy(h,{relative:g}),T=m.toLowerCase()==="get"?"get":"post",S=typeof h=="string"&&Kh.test(h),_=I=>{if(p&&p(I),I.defaultPrevented)return;I.preventDefault();let ee=I.nativeEvent.submitter,J=ee?.getAttribute("formmethod")||m;H(ee||I.currentTarget,{fetcherKey:i,method:J,navigate:c,replace:d,state:f,relative:g,preventScrollReset:y,viewTransition:j})};return b.createElement("form",{ref:M,method:T,action:R,onSubmit:o?p:_,...C,"data-discover":!S&&l==="render"?"true":void 0})});yy.displayName="Form";function vy(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jh(l){let i=b.useContext(Ls);return He(i,vy(l)),i}function by(l,{target:i,replace:c,state:o,preventScrollReset:d,relative:f,viewTransition:m}={}){let h=at(),p=ct(),g=Yl(l,{relative:f});return b.useCallback(y=>{if(Jg(y,i)){y.preventDefault();let j=c!==void 0?c:Il(p)===Il(g);h(l,{replace:j,state:o,preventScrollReset:d,relative:f,viewTransition:m})}},[p,h,g,c,o,i,l,d,f,m])}function jr(l){Qt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let i=b.useRef(Wc(l)),c=b.useRef(!1),o=ct(),d=b.useMemo(()=>Wg(o.search,c.current?null:i.current),[o.search]),f=at(),m=b.useCallback((h,p)=>{const g=Wc(typeof h=="function"?h(new URLSearchParams(d)):h);c.current=!0,f("?"+g,p)},[f,d]);return[d,m]}var jy=0,wy=()=>`__${String(++jy)}__`;function Ny(){let{router:l}=Jh("useSubmit"),{basename:i}=b.useContext(ea),c=Bg();return b.useCallback(async(o,d={})=>{let{action:f,method:m,encType:h,formData:p,body:g}=ty(o,i);if(d.navigate===!1){let y=d.fetcherKey||wy();await l.fetch(y,c,d.action||f,{preventScrollReset:d.preventScrollReset,formData:p,body:g,formMethod:d.method||m,formEncType:d.encType||h,flushSync:d.flushSync})}else await l.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:p,body:g,formMethod:d.method||m,formEncType:d.encType||h,replace:d.replace,state:d.state,fromRouteId:c,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,i,c])}function Sy(l,{relative:i}={}){let{basename:c}=b.useContext(ea),o=b.useContext(ta);He(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...Yl(l||".",{relative:i})},m=ct();if(l==null){f.search=m.search;let h=new URLSearchParams(f.search),p=h.getAll("index");if(p.some(y=>y==="")){h.delete("index"),p.filter(j=>j).forEach(j=>h.append("index",j));let y=h.toString();f.search=y?`?${y}`:""}}return(!l||l===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),c!=="/"&&(f.pathname=f.pathname==="/"?c:Ua([c,f.pathname])),Il(f)}function Ey(l,{relative:i}={}){let c=b.useContext(Ih);He(c!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Jh("useViewTransitionState"),d=Yl(l,{relative:i});if(!c.isTransitioning)return!1;let f=La(c.currentLocation.pathname,o)||c.currentLocation.pathname,m=La(c.nextLocation.pathname,o)||c.nextLocation.pathname;return xr(d.pathname,m)!=null||xr(d.pathname,f)!=null}function Xc(l,i,c,o){function d(f){return f instanceof c?f:new c(function(m){m(f)})}return new(c||(c=Promise))(function(f,m){function h(y){try{g(o.next(y))}catch(j){m(j)}}function p(y){try{g(o.throw(y))}catch(j){m(j)}}function g(y){y.done?f(y.value):d(y.value).then(h,p)}g((o=o.apply(l,[])).next())})}function Cy(l,i,c,o){if(typeof i=="function"?l!==i||!o:!i.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?o:c==="a"?o.call(l):o?o.value:i.get(l)}class P{constructor(i,c,o){this.method=i,this.attribute=c,o!==void 0&&(Array.isArray(o)?this.values=o:this.values=[o])}toString(){return JSON.stringify({method:this.method,attribute:this.attribute,values:this.values})}}P.equal=(l,i)=>new P("equal",l,i).toString();P.notEqual=(l,i)=>new P("notEqual",l,i).toString();P.lessThan=(l,i)=>new P("lessThan",l,i).toString();P.lessThanEqual=(l,i)=>new P("lessThanEqual",l,i).toString();P.greaterThan=(l,i)=>new P("greaterThan",l,i).toString();P.greaterThanEqual=(l,i)=>new P("greaterThanEqual",l,i).toString();P.isNull=l=>new P("isNull",l).toString();P.isNotNull=l=>new P("isNotNull",l).toString();P.between=(l,i,c)=>new P("between",l,[i,c]).toString();P.startsWith=(l,i)=>new P("startsWith",l,i).toString();P.endsWith=(l,i)=>new P("endsWith",l,i).toString();P.select=l=>new P("select",void 0,l).toString();P.search=(l,i)=>new P("search",l,i).toString();P.orderDesc=l=>new P("orderDesc",l).toString();P.orderAsc=l=>new P("orderAsc",l).toString();P.cursorAfter=l=>new P("cursorAfter",void 0,l).toString();P.cursorBefore=l=>new P("cursorBefore",void 0,l).toString();P.limit=l=>new P("limit",void 0,l).toString();P.offset=l=>new P("offset",void 0,l).toString();P.contains=(l,i)=>new P("contains",l,i).toString();P.notContains=(l,i)=>new P("notContains",l,i).toString();P.notSearch=(l,i)=>new P("notSearch",l,i).toString();P.notBetween=(l,i,c)=>new P("notBetween",l,[i,c]).toString();P.notStartsWith=(l,i)=>new P("notStartsWith",l,i).toString();P.notEndsWith=(l,i)=>new P("notEndsWith",l,i).toString();P.createdBefore=l=>new P("createdBefore",void 0,l).toString();P.createdAfter=l=>new P("createdAfter",void 0,l).toString();P.createdBetween=(l,i)=>new P("createdBetween",void 0,[l,i]).toString();P.updatedBefore=l=>new P("updatedBefore",void 0,l).toString();P.updatedAfter=l=>new P("updatedAfter",void 0,l).toString();P.updatedBetween=(l,i)=>new P("updatedBetween",void 0,[l,i]).toString();P.or=l=>new P("or",void 0,l.map(i=>JSON.parse(i))).toString();P.and=l=>new P("and",void 0,l.map(i=>JSON.parse(i))).toString();P.distanceEqual=(l,i,c,o=!0)=>new P("distanceEqual",l,[[i,c,o]]).toString();P.distanceNotEqual=(l,i,c,o=!0)=>new P("distanceNotEqual",l,[[i,c,o]]).toString();P.distanceGreaterThan=(l,i,c,o=!0)=>new P("distanceGreaterThan",l,[[i,c,o]]).toString();P.distanceLessThan=(l,i,c,o=!0)=>new P("distanceLessThan",l,[[i,c,o]]).toString();P.intersects=(l,i)=>new P("intersects",l,[i]).toString();P.notIntersects=(l,i)=>new P("notIntersects",l,[i]).toString();P.crosses=(l,i)=>new P("crosses",l,[i]).toString();P.notCrosses=(l,i)=>new P("notCrosses",l,[i]).toString();P.overlaps=(l,i)=>new P("overlaps",l,[i]).toString();P.notOverlaps=(l,i)=>new P("notOverlaps",l,[i]).toString();P.touches=(l,i)=>new P("touches",l,[i]).toString();P.notTouches=(l,i)=>new P("notTouches",l,[i]).toString();class Q extends Error{constructor(i,c=0,o="",d=""){super(i),this.name="AppwriteException",this.message=i,this.code=c,this.type=o,this.response=d}}class Ra{constructor(){this.config={endpoint:"https://cloud.appwrite.io/v1",endpointRealtime:"",project:"",jwt:"",locale:"",session:"",devkey:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"20.0.0","X-Appwrite-Response-Format":"1.8.0"},this.realtime={socket:void 0,timeout:void 0,heartbeat:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window?.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createHeartbeat:()=>{this.realtime.heartbeat&&clearTimeout(this.realtime.heartbeat),this.realtime.heartbeat=window?.setInterval(()=>{var i;(i=this.realtime.socket)===null||i===void 0||i.send(JSON.stringify({type:"ping"}))},2e4)},createSocket:()=>{var i,c,o;if(this.realtime.channels.size<1){this.realtime.reconnect=!1,(i=this.realtime.socket)===null||i===void 0||i.close();return}const d=new URLSearchParams;d.set("project",this.config.project),this.realtime.channels.forEach(m=>{d.append("channels[]",m)});const f=this.config.endpointRealtime+"/realtime?"+d.toString();(f!==this.realtime.url||!this.realtime.socket||((c=this.realtime.socket)===null||c===void 0?void 0:c.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((o=this.realtime.socket)===null||o===void 0?void 0:o.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=f,this.realtime.socket=new WebSocket(f),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",m=>{this.realtime.reconnectAttempts=0,this.realtime.createHeartbeat()}),this.realtime.socket.addEventListener("close",m=>{var h,p,g;if(!this.realtime.reconnect||((p=(h=this.realtime)===null||h===void 0?void 0:h.lastMessage)===null||p===void 0?void 0:p.type)==="error"&&((g=this.realtime)===null||g===void 0?void 0:g.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const y=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${y/1e3} seconds.`,m.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},y)}))},onMessage:i=>{var c,o;try{const d=JSON.parse(i.data);switch(this.realtime.lastMessage=d,d.type){case"connected":const f=JSON.parse((c=window.localStorage.getItem("cookieFallback"))!==null&&c!==void 0?c:"{}"),m=f?.[`a_session_${this.config.project}`],h=d.data;m&&!h.user&&((o=this.realtime.socket)===null||o===void 0||o.send(JSON.stringify({type:"authentication",data:{session:m}})));break;case"event":let p=d.data;if(p?.channels){if(!p.channels.some(y=>this.realtime.channels.has(y)))return;this.realtime.subscriptions.forEach(y=>{p.channels.some(j=>y.channels.includes(j))&&setTimeout(()=>y.callback(p))})}break;case"pong":break;case"error":throw d.data;default:break}}catch(d){console.error(d)}},cleanUp:i=>{this.realtime.channels.forEach(c=>{i.includes(c)&&(Array.from(this.realtime.subscriptions).some(([d,f])=>f.channels.includes(c))||this.realtime.channels.delete(c))})}}}setEndpoint(i){if(!i.startsWith("http://")&&!i.startsWith("https://"))throw new Q("Invalid endpoint URL: "+i);return this.config.endpoint=i,this.config.endpointRealtime=i.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(i){if(!i.startsWith("ws://")&&!i.startsWith("wss://"))throw new Q("Invalid realtime endpoint URL: "+i);return this.config.endpointRealtime=i,this}setProject(i){return this.headers["X-Appwrite-Project"]=i,this.config.project=i,this}setJWT(i){return this.headers["X-Appwrite-JWT"]=i,this.config.jwt=i,this}setLocale(i){return this.headers["X-Appwrite-Locale"]=i,this.config.locale=i,this}setSession(i){return this.headers["X-Appwrite-Session"]=i,this.config.session=i,this}setDevKey(i){return this.headers["X-Appwrite-Dev-Key"]=i,this.config.devkey=i,this}subscribe(i,c){let o=typeof i=="string"?[i]:i;o.forEach(f=>this.realtime.channels.add(f));const d=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(d,{channels:o,callback:c}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(d),this.realtime.cleanUp(o),this.realtime.connect()}}prepareRequest(i,c,o={},d={}){if(i=i.toUpperCase(),o=Object.assign({},this.headers,o),typeof window<"u"&&window.localStorage){const m=window.localStorage.getItem("cookieFallback");m&&(o["X-Fallback-Cookies"]=m)}let f={method:i,headers:o};if(o["X-Appwrite-Dev-Key"]===void 0&&(f.credentials="include"),i==="GET")for(const[m,h]of Object.entries(Ra.flatten(d)))c.searchParams.append(m,h);else switch(o["content-type"]){case"application/json":f.body=JSON.stringify(d);break;case"multipart/form-data":const m=new FormData;for(const[h,p]of Object.entries(d))if(p instanceof File)m.append(h,p,p.name);else if(Array.isArray(p))for(const g of p)m.append(`${h}[]`,g);else m.append(h,p);f.body=m,delete o["content-type"];break}return{uri:c.toString(),options:f}}chunkedUpload(i,c,o={},d={},f){var m;return Xc(this,void 0,void 0,function*(){const[h,p]=(m=Object.entries(d).find(([j,C])=>C instanceof File))!==null&&m!==void 0?m:[];if(!p||!h)throw new Error("File not found in payload");if(p.size<=Ra.CHUNK_SIZE)return yield this.call(i,c,o,d);let g=0,y=null;for(;g<p.size;){let j=g+Ra.CHUNK_SIZE;j>=p.size&&(j=p.size),o["content-range"]=`bytes ${g}-${j-1}/${p.size}`;const C=p.slice(g,j);let M=Object.assign({},d);M[h]=new File([C],p.name),y=yield this.call(i,c,o,M),f&&typeof f=="function"&&f({$id:y.$id,progress:Math.round(j/p.size*100),sizeUploaded:j,chunksTotal:Math.ceil(p.size/Ra.CHUNK_SIZE),chunksUploaded:Math.ceil(j/Ra.CHUNK_SIZE)}),y&&y.$id&&(o["x-appwrite-id"]=y.$id),g=j}return y})}ping(){return Xc(this,void 0,void 0,function*(){return this.call("GET",new URL(this.config.endpoint+"/ping"))})}call(i,c,o={},d={},f="json"){var m,h;return Xc(this,void 0,void 0,function*(){const{uri:p,options:g}=this.prepareRequest(i,c,o,d);let y=null;const j=yield fetch(p,g);if(j.type==="opaque")throw new Q(`Invalid Origin. Register your new client (${window.location.host}) as a new Web platform on your project console dashboard`,403,"forbidden","");const C=j.headers.get("x-appwrite-warning");if(C&&C.split(";").forEach(H=>console.warn("Warning: "+H)),!((m=j.headers.get("content-type"))===null||m===void 0)&&m.includes("application/json")?y=yield j.json():f==="arrayBuffer"?y=yield j.arrayBuffer():y={message:yield j.text()},400<=j.status){let H="";throw!((h=j.headers.get("content-type"))===null||h===void 0)&&h.includes("application/json")||f==="arrayBuffer"?H=JSON.stringify(y):H=y?.message,new Q(y?.message,j.status,y?.type,H)}const M=j.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&M&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",M)),y})}static flatten(i,c=""){let o={};for(const[d,f]of Object.entries(i)){let m=c?c+"["+d+"]":d;Array.isArray(f)?o=Object.assign(Object.assign({},o),Ra.flatten(f,m)):o[m]=f}return o}}Ra.CHUNK_SIZE=1024*1024*5;class on{constructor(i){this.client=i}static flatten(i,c=""){let o={};for(const[d,f]of Object.entries(i)){let m=c?c+"["+d+"]":d;Array.isArray(f)?o=Object.assign(Object.assign({},o),on.flatten(f,m)):o[m]=f}return o}}on.CHUNK_SIZE=5*1024*1024;class Ay{constructor(i){this.client=i}get(){const i="/account",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}create(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,email:c[0],password:c[1],name:c[2]};const d=o.userId,f=o.email,m=o.password,h=o.name;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "email"');if(typeof m>"u")throw new Q('Missing required parameter: "password"');const p="/account",g={};typeof d<"u"&&(g.userId=d),typeof f<"u"&&(g.email=f),typeof m<"u"&&(g.password=m),typeof h<"u"&&(g.name=h);const y=new URL(this.client.config.endpoint+p),j={"content-type":"application/json"};return this.client.call("post",y,j,g)}updateEmail(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={email:i,password:c[0]};const d=o.email,f=o.password;if(typeof d>"u")throw new Q('Missing required parameter: "email"');if(typeof f>"u")throw new Q('Missing required parameter: "password"');const m="/account/email",h={};typeof d<"u"&&(h.email=d),typeof f<"u"&&(h.password=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("patch",p,g,h)}listIdentities(i){let c;!i||i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={queries:i};const o=c.queries,d="/account/identities",f={};typeof o<"u"&&(f.queries=o);const m=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",m,h,f)}deleteIdentity(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={identityId:i};const o=c.identityId;if(typeof o>"u")throw new Q('Missing required parameter: "identityId"');const d="/account/identities/{identityId}".replace("{identityId}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("delete",m,h,f)}createJWT(){const i="/account/jwts",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",o,d,c)}listLogs(i){let c;!i||i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={queries:i};const o=c.queries,d="/account/logs",f={};typeof o<"u"&&(f.queries=o);const m=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",m,h,f)}updateMFA(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={mfa:i};const o=c.mfa;if(typeof o>"u")throw new Q('Missing required parameter: "mfa"');const d="/account/mfa",f={};typeof o<"u"&&(f.mfa=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("patch",m,h,f)}createMfaAuthenticator(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?c=i||{}:c={type:i};const o=c.type;if(typeof o>"u")throw new Q('Missing required parameter: "type"');const d="/account/mfa/authenticators/{type}".replace("{type}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("post",m,h,f)}createMFAAuthenticator(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?c=i||{}:c={type:i};const o=c.type;if(typeof o>"u")throw new Q('Missing required parameter: "type"');const d="/account/mfa/authenticators/{type}".replace("{type}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("post",m,h,f)}updateMfaAuthenticator(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?o=i||{}:o={type:i,otp:c[0]};const d=o.type,f=o.otp;if(typeof d>"u")throw new Q('Missing required parameter: "type"');if(typeof f>"u")throw new Q('Missing required parameter: "otp"');const m="/account/mfa/authenticators/{type}".replace("{type}",d),h={};typeof f<"u"&&(h.otp=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}updateMFAAuthenticator(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?o=i||{}:o={type:i,otp:c[0]};const d=o.type,f=o.otp;if(typeof d>"u")throw new Q('Missing required parameter: "type"');if(typeof f>"u")throw new Q('Missing required parameter: "otp"');const m="/account/mfa/authenticators/{type}".replace("{type}",d),h={};typeof f<"u"&&(h.otp=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}deleteMfaAuthenticator(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?c=i||{}:c={type:i};const o=c.type;if(typeof o>"u")throw new Q('Missing required parameter: "type"');const d="/account/mfa/authenticators/{type}".replace("{type}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("delete",m,h,f)}deleteMFAAuthenticator(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"type"in i?c=i||{}:c={type:i};const o=c.type;if(typeof o>"u")throw new Q('Missing required parameter: "type"');const d="/account/mfa/authenticators/{type}".replace("{type}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("delete",m,h,f)}createMfaChallenge(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"factor"in i?c=i||{}:c={factor:i};const o=c.factor;if(typeof o>"u")throw new Q('Missing required parameter: "factor"');const d="/account/mfa/challenge",f={};typeof o<"u"&&(f.factor=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("post",m,h,f)}createMFAChallenge(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"factor"in i?c=i||{}:c={factor:i};const o=c.factor;if(typeof o>"u")throw new Q('Missing required parameter: "factor"');const d="/account/mfa/challenge",f={};typeof o<"u"&&(f.factor=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("post",m,h,f)}updateMfaChallenge(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={challengeId:i,otp:c[0]};const d=o.challengeId,f=o.otp;if(typeof d>"u")throw new Q('Missing required parameter: "challengeId"');if(typeof f>"u")throw new Q('Missing required parameter: "otp"');const m="/account/mfa/challenge",h={};typeof d<"u"&&(h.challengeId=d),typeof f<"u"&&(h.otp=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}updateMFAChallenge(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={challengeId:i,otp:c[0]};const d=o.challengeId,f=o.otp;if(typeof d>"u")throw new Q('Missing required parameter: "challengeId"');if(typeof f>"u")throw new Q('Missing required parameter: "otp"');const m="/account/mfa/challenge",h={};typeof d<"u"&&(h.challengeId=d),typeof f<"u"&&(h.otp=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}listMfaFactors(){const i="/account/mfa/factors",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}listMFAFactors(){const i="/account/mfa/factors",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}getMfaRecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}getMFARecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}createMfaRecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",o,d,c)}createMFARecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",o,d,c)}updateMfaRecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",o,d,c)}updateMFARecoveryCodes(){const i="/account/mfa/recovery-codes",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",o,d,c)}updateName(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={name:i};const o=c.name;if(typeof o>"u")throw new Q('Missing required parameter: "name"');const d="/account/name",f={};typeof o<"u"&&(f.name=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("patch",m,h,f)}updatePassword(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={password:i,oldPassword:c[0]};const d=o.password,f=o.oldPassword;if(typeof d>"u")throw new Q('Missing required parameter: "password"');const m="/account/password",h={};typeof d<"u"&&(h.password=d),typeof f<"u"&&(h.oldPassword=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("patch",p,g,h)}updatePhone(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={phone:i,password:c[0]};const d=o.phone,f=o.password;if(typeof d>"u")throw new Q('Missing required parameter: "phone"');if(typeof f>"u")throw new Q('Missing required parameter: "password"');const m="/account/phone",h={};typeof d<"u"&&(h.phone=d),typeof f<"u"&&(h.password=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("patch",p,g,h)}getPrefs(){const i="/account/prefs",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}updatePrefs(i){let c;i&&typeof i=="object"&&!Array.isArray(i)&&"prefs"in i?c=i||{}:c={prefs:i};const o=c.prefs;if(typeof o>"u")throw new Q('Missing required parameter: "prefs"');const d="/account/prefs",f={};typeof o<"u"&&(f.prefs=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("patch",m,h,f)}createRecovery(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={email:i,url:c[0]};const d=o.email,f=o.url;if(typeof d>"u")throw new Q('Missing required parameter: "email"');if(typeof f>"u")throw new Q('Missing required parameter: "url"');const m="/account/recovery",h={};typeof d<"u"&&(h.email=d),typeof f<"u"&&(h.url=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("post",p,g,h)}updateRecovery(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0],password:c[1]};const d=o.userId,f=o.secret,m=o.password;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');if(typeof m>"u")throw new Q('Missing required parameter: "password"');const h="/account/recovery",p={};typeof d<"u"&&(p.userId=d),typeof f<"u"&&(p.secret=f),typeof m<"u"&&(p.password=m);const g=new URL(this.client.config.endpoint+h),y={"content-type":"application/json"};return this.client.call("put",g,y,p)}listSessions(){const i="/account/sessions",c={},o=new URL(this.client.config.endpoint+i),d={};return this.client.call("get",o,d,c)}deleteSessions(){const i="/account/sessions",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("delete",o,d,c)}createAnonymousSession(){const i="/account/sessions/anonymous",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",o,d,c)}createEmailPasswordSession(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={email:i,password:c[0]};const d=o.email,f=o.password;if(typeof d>"u")throw new Q('Missing required parameter: "email"');if(typeof f>"u")throw new Q('Missing required parameter: "password"');const m="/account/sessions/email",h={};typeof d<"u"&&(h.email=d),typeof f<"u"&&(h.password=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("post",p,g,h)}updateMagicURLSession(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0]};const d=o.userId,f=o.secret;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');const m="/account/sessions/magic-url",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.secret=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}createOAuth2Session(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)&&"provider"in i?o=i||{}:o={provider:i,success:c[0],failure:c[1],scopes:c[2]};const d=o.provider,f=o.success,m=o.failure,h=o.scopes;if(typeof d>"u")throw new Q('Missing required parameter: "provider"');const p="/account/sessions/oauth2/{provider}".replace("{provider}",d),g={};typeof f<"u"&&(g.success=f),typeof m<"u"&&(g.failure=m),typeof h<"u"&&(g.scopes=h);const y=new URL(this.client.config.endpoint+p);g.project=this.client.config.project;for(const[j,C]of Object.entries(on.flatten(g)))y.searchParams.append(j,C);if(typeof window<"u"&&window?.location){window.location.href=y.toString();return}else return y.toString()}updatePhoneSession(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0]};const d=o.userId,f=o.secret;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');const m="/account/sessions/phone",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.secret=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}createSession(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0]};const d=o.userId,f=o.secret;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');const m="/account/sessions/token",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.secret=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("post",p,g,h)}getSession(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={sessionId:i};const o=c.sessionId;if(typeof o>"u")throw new Q('Missing required parameter: "sessionId"');const d="/account/sessions/{sessionId}".replace("{sessionId}",o),f={},m=new URL(this.client.config.endpoint+d),h={};return this.client.call("get",m,h,f)}updateSession(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={sessionId:i};const o=c.sessionId;if(typeof o>"u")throw new Q('Missing required parameter: "sessionId"');const d="/account/sessions/{sessionId}".replace("{sessionId}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("patch",m,h,f)}deleteSession(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={sessionId:i};const o=c.sessionId;if(typeof o>"u")throw new Q('Missing required parameter: "sessionId"');const d="/account/sessions/{sessionId}".replace("{sessionId}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("delete",m,h,f)}updateStatus(){const i="/account/status",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("patch",o,d,c)}createPushTarget(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={targetId:i,identifier:c[0],providerId:c[1]};const d=o.targetId,f=o.identifier,m=o.providerId;if(typeof d>"u")throw new Q('Missing required parameter: "targetId"');if(typeof f>"u")throw new Q('Missing required parameter: "identifier"');const h="/account/targets/push",p={};typeof d<"u"&&(p.targetId=d),typeof f<"u"&&(p.identifier=f),typeof m<"u"&&(p.providerId=m);const g=new URL(this.client.config.endpoint+h),y={"content-type":"application/json"};return this.client.call("post",g,y,p)}updatePushTarget(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={targetId:i,identifier:c[0]};const d=o.targetId,f=o.identifier;if(typeof d>"u")throw new Q('Missing required parameter: "targetId"');if(typeof f>"u")throw new Q('Missing required parameter: "identifier"');const m="/account/targets/{targetId}/push".replace("{targetId}",d),h={};typeof f<"u"&&(h.identifier=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}deletePushTarget(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={targetId:i};const o=c.targetId;if(typeof o>"u")throw new Q('Missing required parameter: "targetId"');const d="/account/targets/{targetId}/push".replace("{targetId}",o),f={},m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("delete",m,h,f)}createEmailToken(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,email:c[0],phrase:c[1]};const d=o.userId,f=o.email,m=o.phrase;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "email"');const h="/account/tokens/email",p={};typeof d<"u"&&(p.userId=d),typeof f<"u"&&(p.email=f),typeof m<"u"&&(p.phrase=m);const g=new URL(this.client.config.endpoint+h),y={"content-type":"application/json"};return this.client.call("post",g,y,p)}createMagicURLToken(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,email:c[0],url:c[1],phrase:c[2]};const d=o.userId,f=o.email,m=o.url,h=o.phrase;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "email"');const p="/account/tokens/magic-url",g={};typeof d<"u"&&(g.userId=d),typeof f<"u"&&(g.email=f),typeof m<"u"&&(g.url=m),typeof h<"u"&&(g.phrase=h);const y=new URL(this.client.config.endpoint+p),j={"content-type":"application/json"};return this.client.call("post",y,j,g)}createOAuth2Token(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)&&"provider"in i?o=i||{}:o={provider:i,success:c[0],failure:c[1],scopes:c[2]};const d=o.provider,f=o.success,m=o.failure,h=o.scopes;if(typeof d>"u")throw new Q('Missing required parameter: "provider"');const p="/account/tokens/oauth2/{provider}".replace("{provider}",d),g={};typeof f<"u"&&(g.success=f),typeof m<"u"&&(g.failure=m),typeof h<"u"&&(g.scopes=h);const y=new URL(this.client.config.endpoint+p);g.project=this.client.config.project;for(const[j,C]of Object.entries(on.flatten(g)))y.searchParams.append(j,C);if(typeof window<"u"&&window?.location){window.location.href=y.toString();return}else return y.toString()}createPhoneToken(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,phone:c[0]};const d=o.userId,f=o.phone;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "phone"');const m="/account/tokens/phone",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.phone=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("post",p,g,h)}createVerification(i){let c;i&&typeof i=="object"&&!Array.isArray(i)?c=i||{}:c={url:i};const o=c.url;if(typeof o>"u")throw new Q('Missing required parameter: "url"');const d="/account/verification",f={};typeof o<"u"&&(f.url=o);const m=new URL(this.client.config.endpoint+d),h={"content-type":"application/json"};return this.client.call("post",m,h,f)}updateVerification(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0]};const d=o.userId,f=o.secret;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');const m="/account/verification",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.secret=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}createPhoneVerification(){const i="/account/verification/phone",c={},o=new URL(this.client.config.endpoint+i),d={"content-type":"application/json"};return this.client.call("post",o,d,c)}updatePhoneVerification(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={userId:i,secret:c[0]};const d=o.userId,f=o.secret;if(typeof d>"u")throw new Q('Missing required parameter: "userId"');if(typeof f>"u")throw new Q('Missing required parameter: "secret"');const m="/account/verification/phone",h={};typeof d<"u"&&(h.userId=d),typeof f<"u"&&(h.secret=f);const p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("put",p,g,h)}}class Ty{constructor(i){this.client=i}listDocuments(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],queries:c[1]};const d=o.databaseId,f=o.collectionId,m=o.queries;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');const h="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",d).replace("{collectionId}",f),p={};typeof m<"u"&&(p.queries=m);const g=new URL(this.client.config.endpoint+h),y={};return this.client.call("get",g,y,p)}createDocument(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],data:c[2],permissions:c[3]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.data,p=o.permissions;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');if(typeof h>"u")throw new Q('Missing required parameter: "data"');const g="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",d).replace("{collectionId}",f),y={};typeof m<"u"&&(y.documentId=m),typeof h<"u"&&(y.data=h),typeof p<"u"&&(y.permissions=p);const j=new URL(this.client.config.endpoint+g),C={"content-type":"application/json"};return this.client.call("post",j,C,y)}getDocument(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],queries:c[2]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.queries;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');const p="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m),g={};typeof h<"u"&&(g.queries=h);const y=new URL(this.client.config.endpoint+p),j={};return this.client.call("get",y,j,g)}upsertDocument(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],data:c[2],permissions:c[3]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.data,p=o.permissions;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');if(typeof h>"u")throw new Q('Missing required parameter: "data"');const g="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m),y={};typeof h<"u"&&(y.data=h),typeof p<"u"&&(y.permissions=p);const j=new URL(this.client.config.endpoint+g),C={"content-type":"application/json"};return this.client.call("put",j,C,y)}updateDocument(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],data:c[2],permissions:c[3]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.data,p=o.permissions;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');const g="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m),y={};typeof h<"u"&&(y.data=h),typeof p<"u"&&(y.permissions=p);const j=new URL(this.client.config.endpoint+g),C={"content-type":"application/json"};return this.client.call("patch",j,C,y)}deleteDocument(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1]};const d=o.databaseId,f=o.collectionId,m=o.documentId;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');const h="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m),p={},g=new URL(this.client.config.endpoint+h),y={"content-type":"application/json"};return this.client.call("delete",g,y,p)}decrementDocumentAttribute(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],attribute:c[2],value:c[3],min:c[4]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.attribute,p=o.value,g=o.min;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');if(typeof h>"u")throw new Q('Missing required parameter: "attribute"');const y="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/decrement".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m).replace("{attribute}",h),j={};typeof p<"u"&&(j.value=p),typeof g<"u"&&(j.min=g);const C=new URL(this.client.config.endpoint+y),M={"content-type":"application/json"};return this.client.call("patch",C,M,j)}incrementDocumentAttribute(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={databaseId:i,collectionId:c[0],documentId:c[1],attribute:c[2],value:c[3],max:c[4]};const d=o.databaseId,f=o.collectionId,m=o.documentId,h=o.attribute,p=o.value,g=o.max;if(typeof d>"u")throw new Q('Missing required parameter: "databaseId"');if(typeof f>"u")throw new Q('Missing required parameter: "collectionId"');if(typeof m>"u")throw new Q('Missing required parameter: "documentId"');if(typeof h>"u")throw new Q('Missing required parameter: "attribute"');const y="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}/{attribute}/increment".replace("{databaseId}",d).replace("{collectionId}",f).replace("{documentId}",m).replace("{attribute}",h),j={};typeof p<"u"&&(j.value=p),typeof g<"u"&&(j.max=g);const C=new URL(this.client.config.endpoint+y),M={"content-type":"application/json"};return this.client.call("patch",C,M,j)}}class My{constructor(i){this.client=i}listFiles(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,queries:c[0],search:c[1]};const d=o.bucketId,f=o.queries,m=o.search;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');const h="/storage/buckets/{bucketId}/files".replace("{bucketId}",d),p={};typeof f<"u"&&(p.queries=f),typeof m<"u"&&(p.search=m);const g=new URL(this.client.config.endpoint+h),y={};return this.client.call("get",g,y,p)}createFile(i,...c){let o,d;i&&typeof i=="object"&&!Array.isArray(i)?(o=i||{},d=i?.onProgress):(o={bucketId:i,fileId:c[0],file:c[1],permissions:c[2]},d=c[3]);const f=o.bucketId,m=o.fileId,h=o.file,p=o.permissions;if(typeof f>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof m>"u")throw new Q('Missing required parameter: "fileId"');if(typeof h>"u")throw new Q('Missing required parameter: "file"');const g="/storage/buckets/{bucketId}/files".replace("{bucketId}",f),y={};typeof m<"u"&&(y.fileId=m),typeof h<"u"&&(y.file=h),typeof p<"u"&&(y.permissions=p);const j=new URL(this.client.config.endpoint+g),C={"content-type":"multipart/form-data"};return this.client.chunkedUpload("post",j,C,y,d)}getFile(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0]};const d=o.bucketId,f=o.fileId;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const m="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",d).replace("{fileId}",f),h={},p=new URL(this.client.config.endpoint+m),g={};return this.client.call("get",p,g,h)}updateFile(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0],name:c[1],permissions:c[2]};const d=o.bucketId,f=o.fileId,m=o.name,h=o.permissions;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const p="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",d).replace("{fileId}",f),g={};typeof m<"u"&&(g.name=m),typeof h<"u"&&(g.permissions=h);const y=new URL(this.client.config.endpoint+p),j={"content-type":"application/json"};return this.client.call("put",y,j,g)}deleteFile(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0]};const d=o.bucketId,f=o.fileId;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const m="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",d).replace("{fileId}",f),h={},p=new URL(this.client.config.endpoint+m),g={"content-type":"application/json"};return this.client.call("delete",p,g,h)}getFileDownload(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0],token:c[1]};const d=o.bucketId,f=o.fileId,m=o.token;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const h="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",d).replace("{fileId}",f),p={};typeof m<"u"&&(p.token=m);const g=new URL(this.client.config.endpoint+h);p.project=this.client.config.project;for(const[y,j]of Object.entries(on.flatten(p)))g.searchParams.append(y,j);return g.toString()}getFilePreview(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0],width:c[1],height:c[2],gravity:c[3],quality:c[4],borderWidth:c[5],borderColor:c[6],borderRadius:c[7],opacity:c[8],rotation:c[9],background:c[10],output:c[11],token:c[12]};const d=o.bucketId,f=o.fileId,m=o.width,h=o.height,p=o.gravity,g=o.quality,y=o.borderWidth,j=o.borderColor,C=o.borderRadius,M=o.opacity,H=o.rotation,R=o.background,T=o.output,S=o.token;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const _="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",d).replace("{fileId}",f),I={};typeof m<"u"&&(I.width=m),typeof h<"u"&&(I.height=h),typeof p<"u"&&(I.gravity=p),typeof g<"u"&&(I.quality=g),typeof y<"u"&&(I.borderWidth=y),typeof j<"u"&&(I.borderColor=j),typeof C<"u"&&(I.borderRadius=C),typeof M<"u"&&(I.opacity=M),typeof H<"u"&&(I.rotation=H),typeof R<"u"&&(I.background=R),typeof T<"u"&&(I.output=T),typeof S<"u"&&(I.token=S);const ee=new URL(this.client.config.endpoint+_);I.project=this.client.config.project;for(const[J,ge]of Object.entries(on.flatten(I)))ee.searchParams.append(J,ge);return ee.toString()}getFileView(i,...c){let o;i&&typeof i=="object"&&!Array.isArray(i)?o=i||{}:o={bucketId:i,fileId:c[0],token:c[1]};const d=o.bucketId,f=o.fileId,m=o.token;if(typeof d>"u")throw new Q('Missing required parameter: "bucketId"');if(typeof f>"u")throw new Q('Missing required parameter: "fileId"');const h="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",d).replace("{fileId}",f),p={};typeof m<"u"&&(p.token=m);const g=new URL(this.client.config.endpoint+h);p.project=this.client.config.project;for(const[y,j]of Object.entries(on.flatten(p)))g.searchParams.append(y,j);return g.toString()}}var Wh,Fh;class yt{static custom(i){return i}static unique(i=7){const c=Cy(yt,Wh,"m",Fh).call(yt);let o="";for(let d=0;d<i;d++){const f=Math.floor(Math.random()*16).toString(16);o+=f}return c+o}}Wh=yt,Fh=function(){const i=new Date,c=Math.floor(i.getTime()/1e3),o=i.getMilliseconds();return c.toString(16)+o.toString(16).padStart(5,"0")};var yh;(function(l){l.Totp="totp"})(yh||(yh={}));var vh;(function(l){l.Email="email",l.Phone="phone",l.Totp="totp",l.Recoverycode="recoverycode"})(vh||(vh={}));var bh;(function(l){l.Amazon="amazon",l.Apple="apple",l.Auth0="auth0",l.Authentik="authentik",l.Autodesk="autodesk",l.Bitbucket="bitbucket",l.Bitly="bitly",l.Box="box",l.Dailymotion="dailymotion",l.Discord="discord",l.Disqus="disqus",l.Dropbox="dropbox",l.Etsy="etsy",l.Facebook="facebook",l.Figma="figma",l.Github="github",l.Gitlab="gitlab",l.Google="google",l.Linkedin="linkedin",l.Microsoft="microsoft",l.Notion="notion",l.Oidc="oidc",l.Okta="okta",l.Paypal="paypal",l.PaypalSandbox="paypalSandbox",l.Podio="podio",l.Salesforce="salesforce",l.Slack="slack",l.Spotify="spotify",l.Stripe="stripe",l.Tradeshift="tradeshift",l.TradeshiftBox="tradeshiftBox",l.Twitch="twitch",l.Wordpress="wordpress",l.Yahoo="yahoo",l.Yammer="yammer",l.Yandex="yandex",l.Zoho="zoho",l.Zoom="zoom",l.Mock="mock"})(bh||(bh={}));var jh;(function(l){l.AvantBrowser="aa",l.AndroidWebViewBeta="an",l.GoogleChrome="ch",l.GoogleChromeIOS="ci",l.GoogleChromeMobile="cm",l.Chromium="cr",l.MozillaFirefox="ff",l.Safari="sf",l.MobileSafari="mf",l.MicrosoftEdge="ps",l.MicrosoftEdgeIOS="oi",l.OperaMini="om",l.Opera="op",l.OperaNext="on"})(jh||(jh={}));var wh;(function(l){l.AmericanExpress="amex",l.Argencard="argencard",l.Cabal="cabal",l.Cencosud="cencosud",l.DinersClub="diners",l.Discover="discover",l.Elo="elo",l.Hipercard="hipercard",l.JCB="jcb",l.Mastercard="mastercard",l.Naranja="naranja",l.TarjetaShopping="targeta-shopping",l.UnionPay="unionpay",l.Visa="visa",l.MIR="mir",l.Maestro="maestro",l.Rupay="rupay"})(wh||(wh={}));var Nh;(function(l){l.Afghanistan="af",l.Angola="ao",l.Albania="al",l.Andorra="ad",l.UnitedArabEmirates="ae",l.Argentina="ar",l.Armenia="am",l.AntiguaAndBarbuda="ag",l.Australia="au",l.Austria="at",l.Azerbaijan="az",l.Burundi="bi",l.Belgium="be",l.Benin="bj",l.BurkinaFaso="bf",l.Bangladesh="bd",l.Bulgaria="bg",l.Bahrain="bh",l.Bahamas="bs",l.BosniaAndHerzegovina="ba",l.Belarus="by",l.Belize="bz",l.Bolivia="bo",l.Brazil="br",l.Barbados="bb",l.BruneiDarussalam="bn",l.Bhutan="bt",l.Botswana="bw",l.CentralAfricanRepublic="cf",l.Canada="ca",l.Switzerland="ch",l.Chile="cl",l.China="cn",l.CoteDIvoire="ci",l.Cameroon="cm",l.DemocraticRepublicOfTheCongo="cd",l.RepublicOfTheCongo="cg",l.Colombia="co",l.Comoros="km",l.CapeVerde="cv",l.CostaRica="cr",l.Cuba="cu",l.Cyprus="cy",l.CzechRepublic="cz",l.Germany="de",l.Djibouti="dj",l.Dominica="dm",l.Denmark="dk",l.DominicanRepublic="do",l.Algeria="dz",l.Ecuador="ec",l.Egypt="eg",l.Eritrea="er",l.Spain="es",l.Estonia="ee",l.Ethiopia="et",l.Finland="fi",l.Fiji="fj",l.France="fr",l.MicronesiaFederatedStatesOf="fm",l.Gabon="ga",l.UnitedKingdom="gb",l.Georgia="ge",l.Ghana="gh",l.Guinea="gn",l.Gambia="gm",l.GuineaBissau="gw",l.EquatorialGuinea="gq",l.Greece="gr",l.Grenada="gd",l.Guatemala="gt",l.Guyana="gy",l.Honduras="hn",l.Croatia="hr",l.Haiti="ht",l.Hungary="hu",l.Indonesia="id",l.India="in",l.Ireland="ie",l.IranIslamicRepublicOf="ir",l.Iraq="iq",l.Iceland="is",l.Israel="il",l.Italy="it",l.Jamaica="jm",l.Jordan="jo",l.Japan="jp",l.Kazakhstan="kz",l.Kenya="ke",l.Kyrgyzstan="kg",l.Cambodia="kh",l.Kiribati="ki",l.SaintKittsAndNevis="kn",l.SouthKorea="kr",l.Kuwait="kw",l.LaoPeopleSDemocraticRepublic="la",l.Lebanon="lb",l.Liberia="lr",l.Libya="ly",l.SaintLucia="lc",l.Liechtenstein="li",l.SriLanka="lk",l.Lesotho="ls",l.Lithuania="lt",l.Luxembourg="lu",l.Latvia="lv",l.Morocco="ma",l.Monaco="mc",l.Moldova="md",l.Madagascar="mg",l.Maldives="mv",l.Mexico="mx",l.MarshallIslands="mh",l.NorthMacedonia="mk",l.Mali="ml",l.Malta="mt",l.Myanmar="mm",l.Montenegro="me",l.Mongolia="mn",l.Mozambique="mz",l.Mauritania="mr",l.Mauritius="mu",l.Malawi="mw",l.Malaysia="my",l.Namibia="na",l.Niger="ne",l.Nigeria="ng",l.Nicaragua="ni",l.Netherlands="nl",l.Norway="no",l.Nepal="np",l.Nauru="nr",l.NewZealand="nz",l.Oman="om",l.Pakistan="pk",l.Panama="pa",l.Peru="pe",l.Philippines="ph",l.Palau="pw",l.PapuaNewGuinea="pg",l.Poland="pl",l.FrenchPolynesia="pf",l.NorthKorea="kp",l.Portugal="pt",l.Paraguay="py",l.Qatar="qa",l.Romania="ro",l.Russia="ru",l.Rwanda="rw",l.SaudiArabia="sa",l.Sudan="sd",l.Senegal="sn",l.Singapore="sg",l.SolomonIslands="sb",l.SierraLeone="sl",l.ElSalvador="sv",l.SanMarino="sm",l.Somalia="so",l.Serbia="rs",l.SouthSudan="ss",l.SaoTomeAndPrincipe="st",l.Suriname="sr",l.Slovakia="sk",l.Slovenia="si",l.Sweden="se",l.Eswatini="sz",l.Seychelles="sc",l.Syria="sy",l.Chad="td",l.Togo="tg",l.Thailand="th",l.Tajikistan="tj",l.Turkmenistan="tm",l.TimorLeste="tl",l.Tonga="to",l.TrinidadAndTobago="tt",l.Tunisia="tn",l.Turkey="tr",l.Tuvalu="tv",l.Tanzania="tz",l.Uganda="ug",l.Ukraine="ua",l.Uruguay="uy",l.UnitedStates="us",l.Uzbekistan="uz",l.VaticanCity="va",l.SaintVincentAndTheGrenadines="vc",l.Venezuela="ve",l.Vietnam="vn",l.Vanuatu="vu",l.Samoa="ws",l.Yemen="ye",l.SouthAfrica="za",l.Zambia="zm",l.Zimbabwe="zw"})(Nh||(Nh={}));var Sh;(function(l){l.GET="GET",l.POST="POST",l.PUT="PUT",l.PATCH="PATCH",l.DELETE="DELETE",l.OPTIONS="OPTIONS",l.HEAD="HEAD"})(Sh||(Sh={}));var Eh;(function(l){l.Center="center",l.Topleft="top-left",l.Top="top",l.Topright="top-right",l.Left="left",l.Right="right",l.Bottomleft="bottom-left",l.Bottom="bottom",l.Bottomright="bottom-right"})(Eh||(Eh={}));var Ch;(function(l){l.Jpg="jpg",l.Jpeg="jpeg",l.Png="png",l.Webp="webp",l.Heic="heic",l.Avif="avif",l.Gif="gif"})(Ch||(Ch={}));const Ry="https://nyc.cloud.appwrite.io/v1",ky="68c421f100155aee655e",wr=new Ra().setEndpoint(Ry).setProject(ky),Xe=new Ay(wr),re=new Ty(wr),_a=new My(wr),fn="68c4288d002de0868cf0",ep="properties",mn="user-profiles",tp="favorites",ap="property-views",np="property-inquiries",sp="comments",lp="notifications",cn="property-images",Ft={client:wr,account:Xe,databases:re,storage:_a,databaseId:fn,propertiesCollectionId:ep,usersCollectionId:mn,favoritesCollectionId:tp,viewsCollectionId:ap,inquiriesCollectionId:np,commentsCollectionId:sp,notificationsCollectionId:lp,storageId:cn},Dy=Object.freeze(Object.defineProperty({__proto__:null,COMMENTS_COLLECTION_ID:sp,DATABASE_ID:fn,FAVORITES_COLLECTION_ID:tp,ID:yt,INQUIRIES_COLLECTION_ID:np,NOTIFICATIONS_COLLECTION_ID:lp,PROPERTIES_COLLECTION_ID:ep,Query:P,STORAGE_BUCKET_ID:cn,USERS_COLLECTION_ID:mn,VIEWS_COLLECTION_ID:ap,account:Xe,appwriteConfig:Ft,databases:re,storage:_a},Symbol.toStringTag,{value:"Module"})),qa=async l=>{try{const i=await re.listDocuments(fn,mn,[P.equal("userId",l)]);if(i.documents.length>0)return i.documents[0];const c=await Xe.get();return await re.createDocument(fn,mn,"unique()",{userId:l,firstName:c.name?.split(" ")[0]||"",lastName:c.name?.split(" ")[1]||"",phone:"",avatar:"",bio:"",isLandlord:!1,verified:!1})}catch(i){throw console.error("Error getting user profile:",i),i}},ip=async(l,i)=>{try{return await re.createDocument(fn,mn,"unique()",{userId:l,firstName:i.firstName||"",lastName:i.lastName||"",phone:i.phone||"",avatar:"",bio:"",isLandlord:!1,verified:!1})}catch(c){throw console.error("Error creating user profile:",c),c}},rp=async(l,i)=>{try{return await re.updateDocument(fn,mn,l,i)}catch(c){throw console.error("Error updating user profile:",c),c}},Uy=async l=>{try{const i=await _a.createFile(cn,"unique()",l),c=_a.getFileView(cn,i.$id);return{fileId:i.$id,fileUrl:c.href}}catch(i){throw console.error("Error uploading profile photo:",i),i}},_y=async l=>{try{await _a.deleteFile(cn,l)}catch(i){throw console.error("Error deleting profile photo:",i),i}},Ly=async(l,i)=>{try{return await Xe.updatePassword(i,l),{success:!0}}catch(c){return console.error("Error changing password:",c),{success:!1,error:c.message}}},qy=async(l,i)=>{try{return await Xe.updateEmail(l,i),{success:!0}}catch(c){return console.error("Error updating email:",c),{success:!1,error:c.message}}},zy=async l=>{try{return await Xe.updateName(l),{success:!0}}catch(i){return console.error("Error updating name:",i),{success:!1,error:i.message}}},op=async l=>{try{return await Xe.createRecovery(l,`${window.location.origin}/reset-password`)}catch(i){throw console.error("Error sending password recovery:",i),i}},cp=async(l,i,c)=>{try{return await Xe.updateRecovery(l,i,c)}catch(o){throw console.error("Error completing password recovery:",o),o}},Py=l=>{if(!l||typeof l!="string"||l.trim()==="")return console.warn("Invalid fileId provided for profile photo:",l),null;try{const i=_a.getFileView(cn,l),c=i.href||i.toString();return console.log("Generated profile photo URL:",c,"for fileId:",l),c}catch(i){return console.error("Error generating profile photo URL:",i,"fileId:",l,"bucket:",cn),null}},Hy=async l=>{try{const i=await Xe.listSessions();return{exists:!1}}catch{return{exists:!1}}},up=async l=>{try{if(!l||l.trim()==="")return{exists:!1};const i=await re.listDocuments(fn,mn,[P.equal("phone",l.trim())]);return console.log("Phone check result:",{phone:l,exists:i.documents.length>0}),{exists:i.documents.length>0}}catch(i){return console.error("Error checking phone existence:",i),{exists:!1}}},By=async()=>{try{return(await re.listDocuments(fn,mn,[P.orderDesc("$createdAt")])).documents}catch(l){return console.error("Error fetching all users:",l),[]}},dp=async()=>{try{const l=await Xe.createVerification("http://localhost:5174/verify-email");return console.log("Email verification sent:",l),{success:!0,message:"Verification email sent successfully"}}catch(l){throw console.error("Error sending email verification:",l),l}},fp=async(l,i)=>{try{const c=await Xe.updateVerification(l,i);return console.log("Email verified successfully:",c),{success:!0,message:"Email verified successfully"}}catch(c){throw console.error("Error verifying email:",c),c}},mp=async l=>{try{const i=await Xe.createPhoneToken("unique()",l);return console.log("SMS OTP sent:",i),{success:!0,userId:i.userId,message:"OTP sent to your phone number"}}catch(i){throw console.error("Error sending SMS OTP:",i),i}},Iy=async(l,i)=>{try{const c=await Xe.createSession(l,i);return console.log("Phone OTP verified successfully:",c),{success:!0,message:"Phone number verified successfully"}}catch(c){throw console.error("Error verifying phone OTP:",c),c}},pt={getUserProfile:qa,createUserProfile:ip,updateUserProfile:rp,uploadProfilePhoto:Uy,deleteProfilePhoto:_y,changePassword:Ly,updateEmail:qy,updateName:zy,sendPasswordRecovery:op,completePasswordRecovery:cp,getProfilePhotoUrl:Py,checkEmailExists:Hy,checkPhoneExists:up,getAllUsers:By,sendEmailVerification:dp,verifyEmail:fp},hp=b.createContext(),ut=()=>{const l=b.useContext(hp);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l},$y=({children:l})=>{const[i,c]=b.useState(null),[o,d]=b.useState(null),[f,m]=b.useState(!0);b.useEffect(()=>{h()},[]);const h=async()=>{try{const C=await Xe.get();if(c(C),C)try{const M=await qa(C.$id);d(M)}catch(M){console.error("Error fetching user profile:",M),d(null)}}catch{c(null),d(null)}finally{m(!1)}},j={user:i,userProfile:o,login:async(C,M)=>{try{await Xe.createEmailPasswordSession(C,M);const H=await Xe.get();try{const R=await qa(H.$id);c(H),d(R)}catch(R){console.error("Error fetching user profile:",R),d(null)}return{success:!0}}catch(H){return{success:!1,error:H.message}}},register:async(C,M,H,R)=>{try{if(console.log("Starting registration process:",{email:C,name:H,phone:R}),R&&R.trim()!==""){console.log("Checking phone existence for:",R);const I=await up(R);if(console.log("Phone check result:",I),I.exists)return{success:!1,error:"Phone number is already registered"}}console.log("Creating Appwrite account..."),await Xe.create("unique()",C,M,H),await Xe.createEmailPasswordSession(C,M);const T=await Xe.get(),S=H.split(" "),_=await ip(T.$id,{firstName:S[0]||"",lastName:S.slice(1).join(" ")||"",phone:R});c(T),d(_);try{await dp(),console.log("Email verification sent")}catch(I){console.error("Failed to send verification email:",I)}return console.log("Registration successful"),{success:!0,emailVerificationSent:!0}}catch(T){return console.error("Registration error:",T),T.message.includes("user_already_exists")||T.message.includes("email")||T.code===409?{success:!1,error:"Email is already registered"}:{success:!1,error:T.message}}},logout:async()=>{try{return await Xe.deleteSession("current"),c(null),d(null),{success:!0}}catch(C){return{success:!1,error:C.message}}},loading:f};return a.jsx(hp.Provider,{value:j,children:l})},{databaseId:oa,notificationsCollectionId:Oy}=Ft,ca=Oy,ka={async createCommentNotification(l,i,c,o,d,f,m=null){try{if(console.log("Creating notification with data:",{propertyId:l,propertyOwnerId:i,commenterId:c,commenterName:o,propertyTitle:f,commentId:m}),i===c)return console.log("Skipping notification - commenter is property owner"),{success:!0,data:null};const h={userId:i,type:"comment",title:"New Comment on Your Property",message:`${o} commented on "${f}": ${d.substring(0,100)}${d.length>100?"...":""}`,propertyId:l,commentId:m,commenterId:c,commenterName:o,isRead:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},p=await re.createDocument(oa,ca,yt.unique(),h);return console.log("Notification created successfully:",p),{success:!0,data:p}}catch(h){return console.error("Error creating comment notification:",h),{success:!1,error:h.message}}},async createReplyNotification(l,i,c,o,d,f,m,h){try{if(console.log("Creating reply notification with data:",{propertyId:l,originalCommentAuthorId:i,replierId:o,replierName:d,propertyTitle:m}),i===o)return console.log("Skipping notification - replier is original comment author"),{success:!0,data:null};const p={userId:i,type:"reply",title:"New Reply to Your Comment",message:`${d} replied to your comment on "${m}": ${f.substring(0,100)}${f.length>100?"...":""}`,propertyId:l,originalCommentId:c,commenterId:o,commenterName:d,originalComment:h.substring(0,50)+(h.length>50?"...":""),isRead:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},g=await re.createDocument(oa,ca,yt.unique(),p);return console.log("Reply notification created successfully:",g),{success:!0,data:g}}catch(p){return console.error("Error creating reply notification:",p),{success:!1,error:p.message}}},async getUserNotifications(l,i=20){try{return{success:!0,data:(await re.listDocuments(oa,ca,[P.equal("userId",l),P.orderDesc("createdAt"),P.limit(i)])).documents}}catch(c){return console.error("Error fetching notifications:",c),{success:!1,error:c.message}}},async getUnreadCount(l){try{return{success:!0,count:(await re.listDocuments(oa,ca,[P.equal("userId",l),P.equal("isRead",!1)])).documents.length}}catch(i){return console.error("Error fetching unread count:",i),{success:!1,error:i.message,count:0}}},async markAsRead(l){try{return{success:!0,data:await re.updateDocument(oa,ca,l,{isRead:!0,updatedAt:new Date().toISOString()})}}catch(i){return console.error("Error marking notification as read:",i),{success:!1,error:i.message}}},async markAllAsRead(l){try{const c=(await re.listDocuments(oa,ca,[P.equal("userId",l),P.equal("isRead",!1)])).documents.map(o=>re.updateDocument(oa,ca,o.$id,{isRead:!0,updatedAt:new Date().toISOString()}));return await Promise.all(c),{success:!0}}catch(i){return console.error("Error marking all notifications as read:",i),{success:!1,error:i.message}}},async deleteNotification(l){try{return await re.deleteDocument(oa,ca,l),{success:!0}}catch(i){return console.error("Error deleting notification:",i),{success:!1,error:i.message}}},async deleteAllNotificationsForProperty(l){try{const i=await re.listDocuments(oa,ca,[P.equal("propertyId",l)]);if(!i.documents||i.documents.length===0)return{success:!0,deletedCount:0};const c=i.documents.map(o=>re.deleteDocument(oa,ca,o.$id));return await Promise.all(c),{success:!0,deletedCount:i.documents.length}}catch(i){return console.error("Error deleting notifications for property:",i),{success:!1,error:i.message}}}},Gy=Object.freeze(Object.defineProperty({__proto__:null,notificationService:ka},Symbol.toStringTag,{value:"Module"})),pp=b.createContext(),zs=()=>{const l=b.useContext(pp);if(!l)throw new Error("useNotifications must be used within a NotificationProvider");return l},Vy=({children:l})=>{const{user:i}=ut(),[c,o]=b.useState([]),[d,f]=b.useState(0),[m,h]=b.useState(!1);b.useEffect(()=>{i?(p(),g()):(o([]),f(0))},[i]);const p=async()=>{if(i){h(!0);try{const R=await ka.getUserNotifications(i.$id);R.success?o(R.data):console.error("Failed to fetch notifications:",R.error)}catch(R){console.error("Error fetching notifications:",R)}finally{h(!1)}}},g=async()=>{if(i){console.log("Fetching unread count for user:",i.$id);try{const R=await ka.getUnreadCount(i.$id);console.log("Unread count result:",R),R.success?(f(R.count),console.log("Set unread count:",R.count)):console.error("Failed to fetch unread count:",R.error)}catch(R){console.error("Error fetching unread count:",R)}}},H={notifications:c,unreadCount:d,loading:m,markAsRead:async R=>{try{const T=await ka.markAsRead(R);T.success?(o(S=>S.map(_=>_.$id===R?{..._,isRead:!0}:_)),f(S=>Math.max(0,S-1))):console.error("Failed to mark notification as read:",T.error)}catch(T){console.error("Error marking notification as read:",T)}},markAllAsRead:async()=>{if(i)try{(await ka.markAllAsRead(i.$id)).success&&(o(T=>T.map(S=>({...S,isRead:!0}))),f(0))}catch(R){console.error("Error marking all notifications as read:",R)}},deleteNotification:async R=>{try{const T=await ka.deleteNotification(R);if(T.success){o(_=>_.filter(I=>I.$id!==R));const S=c.find(_=>_.$id===R);S&&!S.isRead&&f(_=>Math.max(0,_-1))}else console.error("Failed to delete notification:",T.error)}catch(T){console.error("Error deleting notification:",T)}},refreshNotifications:()=>{i&&(p(),g())}};return a.jsx(pp.Provider,{value:H,children:l})};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Zy=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,c,o)=>o?o.toUpperCase():c.toLowerCase()),Ah=l=>{const i=Zy(l);return i.charAt(0).toUpperCase()+i.slice(1)},xp=(...l)=>l.filter((i,c,o)=>!!i&&i.trim()!==""&&o.indexOf(i)===c).join(" ").trim(),Xy=l=>{for(const i in l)if(i.startsWith("aria-")||i==="role"||i==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=b.forwardRef(({color:l="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:m,...h},p)=>b.createElement("svg",{ref:p,...Qy,width:i,height:i,stroke:l,strokeWidth:o?Number(c)*24/Number(i):c,className:xp("lucide",d),...!f&&!Xy(h)&&{"aria-hidden":"true"},...h},[...m.map(([g,y])=>b.createElement(g,y)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(l,i)=>{const c=b.forwardRef(({className:o,...d},f)=>b.createElement(Ky,{ref:f,iconNode:i,className:xp(`lucide-${Yy(Ah(l))}`,`lucide-${l}`,o),...d}));return c.displayName=Ah(l),c};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Wy=he("arrow-left",Jy);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M10 4 8 6",key:"1rru8s"}],["path",{d:"M17 19v2",key:"ts1sot"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"M7 19v2",key:"12npes"}],["path",{d:"M9 5 7.621 3.621A2.121 2.121 0 0 0 4 5v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5",key:"14ym8i"}]],gp=he("bath",Fy);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],yp=he("bed",ev);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],gr=he("bell",tv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Fc=he("calendar",av);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],sv=he("camera",nv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iv=he("chart-column",lv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ov=he("check-check",rv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hr=he("check",cv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],eu=he("chevron-left",uv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],tu=he("chevron-right",dv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],un=he("circle-alert",fv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hn=he("circle-check-big",mv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],pv=he("circle-x",hv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hl=he("copy",xv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Th=he("crown",gv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vv=he("database",yv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],jv=he("ellipsis-vertical",bv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dn=he("eye-off",wv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xt=he("eye",Nv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ev=he("funnel",Sv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],au=he("grid-3x3",Cv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],rn=he("heart",Av);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Ds=he("house",Tv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Rv=he("list",Mv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qn=he("lock",kv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],vp=he("log-in",Dv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],_v=he("log-out",Uv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ln=he("mail",Lv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Pn=he("map-pin",qv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Pv=he("megaphone",zv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Bv=he("menu",Hv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Us=he("message-circle",Iv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],du=he("navigation",$v);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Da=he("phone",Ov);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],Mh=he("pin",Gv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_n=he("plus",Vv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Zv=he("refresh-cw",Yv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Qv=he("reply",Xv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jv=he("save",Kv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],yr=he("search",Wv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],eb=he("send",Fv);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rh=he("settings",tb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],nb=he("share-2",ab);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bp=he("square-pen",sb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],jp=he("square",lb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],rb=he("test-tube",ib);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],fu=he("trash-2",ob);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],wp=he("triangle-alert",cb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Np=he("upload",ub);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zn=he("user",db);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mb=he("users",fb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Dt=he("x",hb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],kh=he("zoom-in",pb);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],gb=he("zoom-out",xb),yb=({title:l,showBack:i=!1,showNotifications:c=!0,showDashboard:o=!0,showMenu:d=!1,onMenuClick:f,onNotificationClick:m,onDashboardClick:h,unreadCount:p=0})=>{const g=at(),y=ct(),j=()=>{g(-1)},C=()=>{if(l)return l;switch(y.pathname){case"/":return"Zentro";case"/properties":return"Properties";case"/add-property":return"Add Property";case"/profile":return"Profile";case"/login":return"Sign In";case"/register":return"Sign Up";default:return"Zentro"}};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"status-bar"}),a.jsx("header",{className:"app-header",children:a.jsxs("div",{className:"relative flex items-center justify-between w-full",children:[a.jsxs("div",{className:"flex items-center space-x-3 z-10",children:[y.pathname==="/"&&a.jsx("img",{src:"./assets/logo-for-app.png",alt:"Zentro Logo",className:"w-8 h-8"}),i?a.jsx("button",{onClick:j,className:"touch-target p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Go back",children:a.jsx(Wy,{className:"w-6 h-6 text-gray-700"})}):d?a.jsx("button",{onClick:f,className:"touch-target p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Open menu",children:a.jsx(Bv,{className:"w-6 h-6 text-gray-700"})}):null]}),a.jsx("div",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 max-w-[60%]",children:y.pathname==="/"?a.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"Zentro"}):a.jsx("h1",{className:"text-lg font-semibold text-gray-800 truncate text-center px-2",children:C()})}),a.jsxs("div",{className:"flex items-center space-x-1 z-10",children:[o&&a.jsx("button",{onClick:h,className:"touch-target p-2 rounded-full hover:bg-gray-100 transition-colors","aria-label":"Dashboard",children:a.jsx(iv,{className:"w-6 h-6 text-gray-700"})}),c&&a.jsxs("button",{onClick:m,className:"touch-target p-2 rounded-full hover:bg-gray-100 transition-colors relative","aria-label":"Notifications",children:[a.jsx(gr,{className:"w-6 h-6 text-gray-700"}),p>0&&a.jsx("span",{className:"absolute top-1 right-1 min-w-[16px] h-4 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-medium px-1",children:p>99?"99+":p})})]})]})]})})]})},vb=()=>{const l=ct(),i=[{path:"/",icon:Ds,label:"Home",exact:!0},{path:"/properties",icon:yr,label:"Search"},{path:"/property/new",icon:_n,label:"Add"},{path:"/favorites",icon:rn,label:"Favorites"},{path:"/profile",icon:zn,label:"Profile"}],c=(o,d=!1)=>d?l.pathname===o:l.pathname.startsWith(o);return a.jsx("nav",{className:"bottom-nav",children:i.map(o=>{const d=o.icon,f=c(o.path,o.exact);return a.jsxs(Ut,{to:o.path,className:`bottom-nav-item ${f?"active":""}`,children:[a.jsx(d,{className:"bottom-nav-icon",strokeWidth:f?2.5:2}),a.jsx("span",{className:"bottom-nav-label",children:o.label})]},o.path)})})},bb=({onComplete:l})=>{const[i,c]=b.useState(!1),[o,d]=b.useState(!1);return b.useEffect(()=>{const f=setTimeout(()=>{c(!0)},200),m=setTimeout(()=>{d(!0)},800),h=setTimeout(()=>{l()},2500);return()=>{clearTimeout(f),clearTimeout(m),clearTimeout(h)}},[l]),a.jsx("div",{className:"fixed inset-0 bg-white flex flex-col items-center justify-center z-50",children:a.jsxs("div",{className:`flex flex-col items-center transition-all duration-800 ease-out ${i?"opacity-100 transform translate-y-0":"opacity-0 transform translate-y-4"}`,children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:"./assets/logo-for-app.png",alt:"Zentro Logo",className:"w-20 h-20 object-contain"})}),a.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Zentro"}),a.jsx("p",{className:"text-gray-500 text-sm mb-8",children:"Find Your Perfect Home"}),a.jsx("div",{className:`transition-all duration-500 ${o?"opacity-100":"opacity-0"}`,children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"w-6 h-6 border-2 border-gray-200 border-t-blue-600 rounded-full animate-spin mb-3"}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),a.jsx("p",{className:"text-gray-400 text-xs mt-3",children:"Loading..."})]})})]})})},jb=()=>{const{pathname:l}=ct();return b.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[l]),null},wb=()=>{const[l,i]=b.useState([]),[c,o]=b.useState([]),{user:d}=ut();b.useEffect(()=>{f();const p=JSON.parse(localStorage.getItem("dismissedNotifications")||"[]");o(p)},[d]);const f=async()=>{try{if(d){const p=await ka.getUserNotifications(d.$id);i(Array.isArray(p)?p:[])}else i([])}catch(p){console.error("Error loading notifications:",p),i([])}},m=p=>{const g=[...c,p];o(g),localStorage.setItem("dismissedNotifications",JSON.stringify(g))},h=(Array.isArray(l)?l:[]).filter(p=>!c.includes(p.$id));return h.length===0?null:a.jsx("div",{className:"container-responsive py-4",children:a.jsx("div",{className:"space-y-2",children:h.map(p=>a.jsx("div",{className:`relative px-4 py-3 rounded-lg shadow-sm border-l-4 ${p.type==="announcement"?"bg-blue-50 border-blue-400 text-blue-800":"bg-yellow-50 border-yellow-400 text-yellow-800"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:p.type==="announcement"?a.jsx(Pv,{className:"h-5 w-5"}):a.jsx(gr,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:p.title}),a.jsx("p",{className:"mt-1 text-sm opacity-90",children:p.message}),a.jsx("p",{className:"mt-2 text-xs opacity-75",children:new Date(p.createdAt).toLocaleDateString()})]})]}),a.jsx("button",{onClick:()=>m(p.$id),className:"flex-shrink-0 ml-4 p-1 rounded-full hover:bg-black hover:bg-opacity-10 transition-colors","aria-label":"Dismiss notification",children:a.jsx(Dt,{className:"h-4 w-4"})})]})},p.$id))})})},Nb=({onClose:l})=>{const[i,c]=b.useState(!1),o=b.useRef(null),d=at(),{user:f}=ut(),{notifications:m,unreadCount:h,loading:p,markAsRead:g,markAllAsRead:y,deleteNotification:j,fetchNotifications:C}=zs(),M=async S=>{S.isRead||await g(S.$id),(S.type==="comment"||S.type==="reply")&&S.propertyId?(c(!0),setTimeout(()=>{S.type==="reply"&&S.originalCommentId?d(`/property/${S.propertyId}?commentId=${S.originalCommentId}`):S.type==="comment"&&S.commentId?d(`/property/${S.propertyId}?commentId=${S.commentId}`):d(`/property/${S.propertyId}#comments`),l&&l(),c(!1)},1500)):l&&l()},H=async()=>{await y()},R=async(S,_)=>{S.stopPropagation(),await j(_)},T=S=>{const _=new Date(S),ee=Math.floor((new Date-_)/1e3);return ee<60?"Just now":ee<3600?`${Math.floor(ee/60)}m ago`:ee<86400?`${Math.floor(ee/3600)}h ago`:`${Math.floor(ee/86400)}d ago`};return a.jsx("div",{className:"relative",ref:o,children:a.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50 max-h-96 overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[h>0&&a.jsxs("button",{onClick:H,className:"text-xs text-blue-600 hover:text-blue-800 flex items-center space-x-1",title:"Mark all as read",children:[a.jsx(ov,{className:"h-3 w-3"}),a.jsx("span",{children:"Mark all read"})]}),a.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:a.jsx(Dt,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"max-h-80 overflow-y-auto relative",children:[p?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})}):m.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(gr,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),a.jsx("p",{className:"text-sm",children:"No notifications yet"})]}):a.jsx("div",{className:"divide-y divide-gray-100",children:m.map(S=>a.jsx("div",{onClick:()=>M(S),className:`px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors duration-200 ${S.isRead?"":"bg-blue-50"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`flex-shrink-0 mt-1 ${S.type==="comment"||S.type==="reply"?"text-blue-500":"text-gray-400"}`,children:S.type==="comment"||S.type==="reply"?a.jsx(Us,{className:"h-4 w-4"}):a.jsx(gr,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:`text-sm font-medium ${S.isRead?"text-gray-700":"text-gray-900"}`,children:S.title}),a.jsx("p",{className:`text-xs mt-1 ${S.isRead?"text-gray-500":"text-gray-700"}`,children:S.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:T(S.createdAt)})]}),a.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!S.isRead&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full",title:"Unread"}),a.jsx("button",{onClick:_=>R(_,S.$id),className:"text-gray-400 hover:text-red-500 transition-colors duration-200 p-1",title:"Delete notification",children:a.jsx(fu,{className:"h-3 w-3"})})]})]})})]})},S.$id))}),i&&a.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-95 flex items-center justify-center z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center mb-3",children:[a.jsx(Us,{className:"w-8 h-8 text-blue-600 mr-3"}),a.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})]}),a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Taking you to comments..."})]})})]}),m.length>0&&a.jsx("div",{className:"px-4 py-3 border-t border-gray-200 bg-gray-50",children:a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:[m.length," notification",m.length!==1?"s":""]})})]})})},Sb="modulepreload",Eb=function(l){return"/market/"+l},Dh={},pr=function(i,c,o){let d=Promise.resolve();if(c&&c.length>0){let g=function(y){return Promise.all(y.map(j=>Promise.resolve(j).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};var m=g;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");d=g(c.map(y=>{if(y=Eb(y),y in Dh)return;Dh[y]=!0;const j=y.endsWith(".css"),C=j?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${C}`))return;const M=document.createElement("link");if(M.rel=j?"stylesheet":Sb,j||(M.as="script"),M.crossOrigin="",M.href=y,p&&M.setAttribute("nonce",p),document.head.appendChild(M),j)return new Promise((H,R)=>{M.addEventListener("load",H),M.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function f(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return d.then(h=>{for(const p of h||[])p.status==="rejected"&&f(p.reason);return i().catch(f)})},{databaseId:Ie,propertiesCollectionId:St,favoritesCollectionId:Ma,storageId:Qc}=Ft,Zt={async createProperty(l){try{return{success:!0,data:await re.createDocument(Ie,St,yt.unique(),l)}}catch(i){return{success:!1,error:i.message}}},async getProperties(l={}){try{const i=[];if(l.minPrice&&i.push(P.greaterThanEqual("price",l.minPrice)),l.maxPrice&&i.push(P.lessThanEqual("price",l.maxPrice)),l.propertyType&&i.push(P.equal("propertyType",l.propertyType)),l.bedrooms&&i.push(P.equal("bedrooms",l.bedrooms)),l.location&&i.push(P.contains("location",l.location)),l.status&&i.push(P.equal("status",l.status)),l.listingType&&l.listingType.length>0&&l.listingType.length===1&&i.push(P.equal("listingType",l.listingType[0])),l.sortBy)switch(l.sortBy){case"price-low":i.push(P.orderAsc("price"));break;case"price-high":i.push(P.orderDesc("price"));break;case"newest":i.push(P.orderDesc("$createdAt"));break;default:i.push(P.orderDesc("$createdAt"))}return l.limit&&i.push(P.limit(l.limit)),l.offset&&i.push(P.offset(l.offset)),{success:!0,data:await re.listDocuments(Ie,St,i)}}catch(i){return{success:!1,error:i.message}}},async getProperty(l){try{return{success:!0,data:await re.getDocument(Ie,St,l)}}catch(i){return{success:!1,error:i.message}}},async updateProperty(l,i){try{return{success:!0,data:await re.updateDocument(Ie,St,l,i)}}catch(c){return{success:!1,error:c.message}}},async deleteProperty(l){try{const{commentService:i}=await pr(async()=>{const{commentService:f}=await Promise.resolve().then(()=>Ob);return{commentService:f}},[]),c=await i.deleteAllCommentsForProperty(l);c.success?console.log(`Deleted ${c.deletedCount} comments for property ${l}`):console.warn("Failed to delete comments for property:",c.error);const{notificationService:o}=await pr(async()=>{const{notificationService:f}=await Promise.resolve().then(()=>Gy);return{notificationService:f}},void 0),d=await o.deleteAllNotificationsForProperty(l);return d.success?console.log(`Deleted ${d.deletedCount} notifications for property ${l}`):console.warn("Failed to delete notifications for property:",d.error),await re.deleteDocument(Ie,St,l),{success:!0,deletedComments:c.deletedCount||0,deletedNotifications:d.deletedCount||0}}catch(i){return{success:!1,error:i.message}}},async uploadImages(l){try{const i=l.map(o=>_a.createFile(Qc,yt.unique(),o));return{success:!0,data:await Promise.all(i)}}catch(i){return{success:!1,error:i.message}}},getImageUrl(l){return _a.getFileView(Qc,l)},async deleteImage(l){try{return await _a.deleteFile(Qc,l),{success:!0}}catch(i){return{success:!1,error:i.message}}},async getFeaturedProperties(l=6){try{return{success:!0,data:await re.listDocuments(Ie,St,[P.limit(l),P.orderDesc("$createdAt")])}}catch(i){return{success:!1,error:i.message}}},async searchProperties(l,i=null){try{const c=l.trim().toLowerCase().split(/\s+/).filter(f=>f.length>0);if(c.length===0)return{success:!0,data:await re.listDocuments(Ie,St,[P.limit(100)])};const o=await re.listDocuments(Ie,St,[P.limit(1e3)]);let d=o.documents||[];if(d=d.filter(f=>c.every(m=>[f.title||"",f.description||"",f.location||"",f.address||"",f.city||"",f.state||"",f.neighborhood||""].join(" ").toLowerCase().includes(m))),i&&i.latitude&&i.longitude){const{calculateDistance:f}=await pr(async()=>{const{calculateDistance:m}=await Promise.resolve().then(()=>Vb);return{calculateDistance:m}},void 0);d=d.map(m=>{if(m.latitude&&m.longitude){const h=f(i.latitude,i.longitude,m.latitude,m.longitude);return{...m,distance:h}}return{...m,distance:null}}),d.sort((m,h)=>{const p=this.calculateRelevanceScore(m,l),g=this.calculateRelevanceScore(h,l);return Math.abs(p-g)<.1?m.distance===null&&h.distance===null?0:m.distance===null?1:h.distance===null?-1:m.distance-h.distance:g-p})}else d.sort((f,m)=>{const h=this.calculateRelevanceScore(f,l);return this.calculateRelevanceScore(m,l)-h});return{success:!0,data:{...o,documents:d}}}catch(c){return{success:!1,error:c.message}}},calculateRelevanceScore(l,i){const c=i.trim().toLowerCase().split(/\s+/).filter(d=>d.length>0);let o=0;return c.forEach(d=>{let f=0;l.title&&l.title.toLowerCase().includes(d)&&(f+=l.title.toLowerCase()===d?10:5),l.location&&l.location.toLowerCase().includes(d)&&(f+=l.location.toLowerCase()===d?8:4),l.city&&l.city.toLowerCase().includes(d)&&(f+=l.city.toLowerCase()===d?7:3),l.address&&l.address.toLowerCase().includes(d)&&(f+=l.address.toLowerCase()===d?6:2),l.neighborhood&&l.neighborhood.toLowerCase().includes(d)&&(f+=l.neighborhood.toLowerCase()===d?5:2),l.state&&l.state.toLowerCase().includes(d)&&(f+=l.state.toLowerCase()===d?4:1),l.description&&l.description.toLowerCase().includes(d)&&(f+=1),o+=f}),o+=c.length*.5,o},async getUserFavorites(l){try{const i=await re.listDocuments(Ie,Ma,[P.equal("userId",l)]);if(i.documents.length===0)return{success:!0,data:{documents:[],total:0}};const c=await re.listDocuments(Ie,St),o=i.documents.map(f=>f.propertyId),d=c.documents.filter(f=>o.includes(f.$id)).map(f=>({...f,isFavorited:!0}));return{success:!0,data:{documents:d,total:d.length}}}catch(i){return{success:!1,error:i.message}}},async addToFavorites(l,i){try{return(await re.listDocuments(Ie,Ma,[P.equal("userId",l),P.equal("propertyId",i)])).documents.length>0?{success:!1,error:"Property already in favorites"}:{success:!0,data:await re.createDocument(Ie,Ma,yt.unique(),{userId:l,propertyId:i})}}catch(c){return{success:!1,error:c.message}}},async removeFromFavorites(l,i){try{const c=await re.listDocuments(Ie,Ma,[P.equal("userId",l),P.equal("propertyId",i)]);return c.documents.length===0?{success:!1,error:"Property not in favorites"}:(await re.deleteDocument(Ie,Ma,c.documents[0].$id),{success:!0})}catch(c){return{success:!1,error:c.message}}},async toggleFavorite(l,i){try{const c=await re.listDocuments(Ie,Ma,[P.equal("userId",l),P.equal("propertyId",i)]);if(c.documents.length>0)return await re.deleteDocument(Ie,Ma,c.documents[0].$id),{success:!0,isFavorited:!1};{const o=await re.createDocument(Ie,Ma,yt.unique(),{userId:l,propertyId:i});return{success:!0,isFavorited:!0}}}catch(c){return{success:!1,error:c.message}}},async isFavorited(l,i){try{return{success:!0,isFavorited:(await re.listDocuments(Ie,Ma,[P.equal("userId",l),P.equal("propertyId",i)])).documents.length>0}}catch(c){return{success:!1,error:c.message}}},async getUserProperties(l){try{return{success:!0,data:await re.listDocuments(Ie,St,[P.equal("ownerId",l),P.orderDesc("$createdAt")])}}catch(i){return{success:!1,error:i.message}}},async incrementPropertyViews(l){try{const i=await re.getDocument(Ie,St,l);if(!i)return{success:!1,error:"Property not found"};const o=(i.views||0)+1;return{success:!0,data:await re.updateDocument(Ie,St,l,{views:o}),views:o}}catch(i){return i.message.includes("views")||i.message.includes("attribute")?(console.warn("Views field may not exist in database. Please add views attribute to properties collection."),{success:!1,error:"Views field not configured in database",needsSetup:!0}):(console.error("Error incrementing property views:",i),{success:!1,error:i.message})}},async updatePropertyStatus(l,i){try{return{success:!0,data:await re.updateDocument(Ie,St,l,{status:i})}}catch(c){return console.error("Error updating property status:",c),{success:!1,error:c.message}}},async searchPropertiesNearZipCode(l,i=50){try{const c=await re.listDocuments(Ie,St,[P.limit(1e3)]);let o=c.documents||[];return o=o.filter(d=>d.zipCode),o=o.map(d=>{const f=this.calculateZipCodeProximity(l,d.zipCode);return{...d,zipCodeDistance:f}}),o.sort((d,f)=>d.zipCodeDistance-f.zipCodeDistance),i&&(o=o.slice(0,i)),{success:!0,data:{...c,documents:o}}}catch(c){return console.error("Error searching properties near zip code:",c),{success:!1,error:c.message}}},calculateZipCodeProximity(l,i){const c=l.replace(/\D/g,"").substring(0,5),o=i.replace(/\D/g,"").substring(0,5);if(c.length!==5||o.length!==5)return 999999;if(c===o)return 0;const d=parseInt(c),f=parseInt(o);return Math.abs(d-f)}},{createProperty:Cb,getProperties:Ab,getProperty:Sp,updateProperty:Tb,uploadImages:Ep,getFeaturedProperties:Uh,searchProperties:Mb,searchPropertiesNearZipCode:Rb,getUserProperties:kb,updatePropertyStatus:Db}=Zt,{databaseId:Gt,viewsCollectionId:_h,inquiriesCollectionId:Bl}=Ft,mu={async trackView(l,i=null){try{const c={propertyId:l,userId:i||"anonymous",timestamp:new Date().toISOString(),userAgent:navigator.userAgent,ip:"client-side"};return{success:!0,data:await re.createDocument(Gt,_h,yt.unique(),c)}}catch(c){return console.error("Error tracking view:",c),{success:!1,error:c.message}}},async getPropertyViews(l){try{const i=await re.listDocuments(Gt,_h,[P.equal("propertyId",l)]);return{success:!0,count:i.total,data:i}}catch(i){return console.error("Error getting property views:",i),{success:!1,error:i.message,count:0}}},async getUserPropertiesViews(l){try{const i=await re.listDocuments(Gt,Ft.propertiesCollectionId,[P.equal("ownerId",l)]);if(!i.documents.length)return{success:!0,totalViews:0,properties:[]};const c=i.documents.reduce((d,f)=>d+(f.views||0),0),o=i.documents.map(d=>({propertyId:d.$id,views:d.views||0}));return{success:!0,totalViews:c,properties:o}}catch(i){return console.error("Error getting user properties views:",i),{success:!1,error:i.message,totalViews:0}}},async trackInquiry(l,i,c){try{const o={propertyId:l,userId:i,...c,timestamp:new Date().toISOString(),status:"new"};return{success:!0,data:await re.createDocument(Gt,Bl,yt.unique(),o)}}catch(o){return console.error("Error tracking inquiry:",o),{success:!1,error:o.message}}},async getPropertyInquiries(l){try{const i=await re.listDocuments(Gt,Bl,[P.equal("propertyId",l)]);return{success:!0,count:i.total,data:i}}catch(i){return console.error("Error getting property inquiries:",i),{success:!1,error:i.message,count:0}}},async getUserPropertiesInquiries(l){try{const i=await re.listDocuments(Gt,Ft.propertiesCollectionId,[P.equal("ownerId",l)]);if(!i.documents.length)return{success:!0,totalInquiries:0,properties:[]};const o=i.documents.map(m=>m.$id).map(async m=>{const h=await re.listDocuments(Gt,Bl,[P.equal("propertyId",m)]);return{propertyId:m,inquiries:h.total}}),d=await Promise.all(o);return{success:!0,totalInquiries:d.reduce((m,h)=>m+h.inquiries,0),properties:d}}catch(i){return console.error("Error getting user properties inquiries:",i),{success:!1,error:i.message,totalInquiries:0}}},async getUserInquiries(l){try{return{success:!0,data:await re.listDocuments(Gt,Bl,[P.equal("userId",l)])}}catch(i){return console.error("Error getting user inquiries:",i),{success:!1,error:i.message}}},async updateInquiryStatus(l,i){try{return{success:!0,data:await re.updateDocument(Gt,Bl,l,{status:i})}}catch(c){return console.error("Error updating inquiry status:",c),{success:!1,error:c.message}}},async getTotalPropertiesCount(){try{return{success:!0,count:(await re.listDocuments(Gt,Ft.propertiesCollectionId,[P.limit(1)])).total}}catch(l){return console.error("Error getting total properties count:",l),l.code===401||l.message.includes("unauthorized")||l.message.includes("permission")?{success:!0,count:250,source:"public_fallback",error:l.message}:{success:!1,error:l.message,count:0}}},async getTotalUsersCount(){try{return{success:!0,count:(await re.listDocuments(Gt,Ft.usersCollectionId,[P.limit(1)])).total,source:"user_profiles"}}catch(l){return console.error("Error getting total users count:",l),l.code===401||l.message.includes("unauthorized")||l.message.includes("permission")?{success:!0,count:150,source:"public_fallback",error:l.message}:{success:!0,count:0,source:"error_fallback",error:l.message}}},async getUniqueCitiesCount(){try{const l=await re.listDocuments(Gt,Ft.propertiesCollectionId,[P.limit(1e3)]),i=new Set;return l.documents.forEach(c=>{if(c.location){const o=c.location.split(",");if(o.length>=2){const d=o[o.length-2].trim();d&&i.add(d)}else if(o.length===1){const d=o[0].trim();d&&i.add(d)}}}),{success:!0,count:i.size}}catch(l){return console.error("Error getting unique cities count:",l),l.code===401||l.message.includes("unauthorized")||l.message.includes("permission")?{success:!0,count:25,source:"public_fallback",error:l.message}:{success:!1,error:l.message,count:0}}},async getAllStatistics(){try{const[l,i,c]=await Promise.all([this.getTotalPropertiesCount(),this.getTotalUsersCount(),this.getUniqueCitiesCount()]);return{success:!0,data:{totalProperties:l.success?l.count:0,totalUsers:i.success?i.count:0,totalCities:c.success?c.count:0}}}catch(l){return console.error("Error getting all statistics:",l),{success:!1,error:l.message,data:{totalProperties:0,totalUsers:0,totalCities:0}}}}},{databaseId:Vt,commentsCollectionId:Yt}=Ft,ua={async createComment(l){try{const i=await re.createDocument(Vt,Yt,yt.unique(),{...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});if(l.propertyOwnerId&&l.userId!==l.propertyOwnerId){console.log("Attempting to create notification for comment:",l);try{const c=await ka.createCommentNotification(l.propertyId,l.propertyOwnerId,l.userId,l.userName||"Someone",l.content,l.propertyTitle||"your property",i.$id);console.log("Notification creation result:",c)}catch(c){console.error("Error creating notification:",c)}}else console.log("Skipping notification creation:",{hasPropertyOwnerId:!!l.propertyOwnerId,isDifferentUser:l.userId!==l.propertyOwnerId});return{success:!0,data:i}}catch(i){return console.error("Error creating comment:",i),{success:!1,error:i.message}}},async getPropertyComments(l){try{return{success:!0,data:(await re.listDocuments(Vt,Yt,[P.equal("propertyId",l),P.isNull("parentCommentId"),P.orderDesc("createdAt")])).documents}}catch(i){return console.error("Error fetching comments:",i),{success:!1,error:i.message}}},async getCommentReplies(l){try{return{success:!0,data:(await re.listDocuments(Vt,Yt,[P.equal("parentCommentId",l),P.orderAsc("createdAt")])).documents}}catch(i){return console.error("Error fetching replies:",i),{success:!1,error:i.message}}},async updateComment(l,i){try{return{success:!0,data:await re.updateDocument(Vt,Yt,l,{...i,updatedAt:new Date().toISOString()})}}catch(c){return console.error("Error updating comment:",c),{success:!1,error:c.message}}},async deleteComment(l){try{return await re.deleteDocument(Vt,Yt,l),{success:!0}}catch(i){return console.error("Error deleting comment:",i),{success:!1,error:i.message}}},async pinComment(l,i,c){try{return c!==i?{success:!1,error:"Only property owners can pin comments"}:{success:!0,data:await re.updateDocument(Vt,Yt,l,{pinned:!0,pinnedAt:new Date().toISOString(),updatedAt:new Date().toISOString()})}}catch(o){return console.error("Error pinning comment:",o),{success:!1,error:o.message}}},async unpinComment(l,i,c){try{return c!==i?{success:!1,error:"Only property owners can unpin comments"}:{success:!0,data:await re.updateDocument(Vt,Yt,l,{pinned:!1,pinnedAt:null,updatedAt:new Date().toISOString()})}}catch(o){return console.error("Error unpinning comment:",o),{success:!1,error:o.message}}},async createReply(l){try{const i=await re.createDocument(Vt,Yt,yt.unique(),{...l,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()});if(l.replyToCommentId&&l.userId)try{const c=await re.getDocument(Vt,Yt,l.replyToCommentId);c.userId!==l.userId&&(console.log("Creating reply notification for comment author:",c.userId),await ka.createReplyNotification(l.propertyId,c.userId,c.$id,l.userId,l.userName||"Someone",l.content,l.propertyTitle||"a property",c.content))}catch(c){console.error("Error creating reply notification:",c)}return{success:!0,data:i}}catch(i){return console.error("Error creating reply:",i),{success:!1,error:i.message}}},async deleteAllCommentsForProperty(l){try{const i=await re.listDocuments(Vt,Yt,[P.equal("propertyId",l)]);if(!i.documents||i.documents.length===0)return{success:!0,deletedCount:0};const c=i.documents.map(o=>re.deleteDocument(Vt,Yt,o.$id));return await Promise.all(c),{success:!0,deletedCount:i.documents.length}}catch(i){return console.error("Error deleting comments for property:",i),{success:!1,error:i.message}}},async getPropertyCommentsWithReplies(l){try{const i=await re.listDocuments(Vt,Yt,[P.equal("propertyId",l),P.orderDesc("createdAt")]);if(!i.documents)return{success:!0,data:[]};const c=i.documents,o=[...new Set(c.map(h=>h.userId))],d={};await Promise.all(o.map(async h=>{try{const p=await qa(h);d[h]=p}catch(p){console.warn(`Failed to fetch profile for user ${h}:`,p),d[h]=null}}));const f=(h=null)=>c.filter(p=>p.parentCommentId===h).sort((p,g)=>h?new Date(p.createdAt)-new Date(g.createdAt):p.pinned&&!g.pinned?-1:!p.pinned&&g.pinned?1:new Date(g.createdAt)-new Date(p.createdAt)).map(p=>({...p,userProfile:d[p.userId],replies:f(p.$id)}));return{success:!0,data:f()}}catch(i){return console.error("Error fetching comments with replies:",i),{success:!1,error:i.message}}}},{createComment:Ub,getPropertyComments:_b,getCommentReplies:Lb,updateComment:qb,deleteComment:zb,deleteAllCommentsForProperty:Pb,pinComment:Hb,unpinComment:Bb,createReply:Ib,getPropertyCommentsWithReplies:$b}=ua,Ob=Object.freeze(Object.defineProperty({__proto__:null,commentService:ua,createComment:Ub,createReply:Ib,deleteAllCommentsForProperty:Pb,deleteComment:zb,getCommentReplies:Lb,getPropertyComments:_b,getPropertyCommentsWithReplies:$b,pinComment:Hb,unpinComment:Bb,updateComment:qb},Symbol.toStringTag,{value:"Module"})),Cp="https://geocode.maps.co",Ap="68c7bf6a4f3bb696953885wtbf619fa",Tp=async l=>{try{if(!l||l.trim()==="")return{success:!1,error:"Address is required"};const i=encodeURIComponent(l.trim()),c=`${Cp}/search?q=${i}&api_key=${Ap}&limit=1&format=json`,o=await fetch(c);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const d=await o.json();if(!d||d.length===0)return{success:!1,error:"No location found for the provided address"};const f=d[0];return{success:!0,data:{latitude:parseFloat(f.lat),longitude:parseFloat(f.lon),display_name:f.display_name,place_name:Mp(f.display_name)}}}catch(i){return console.error("Geocoding error:",i),{success:!1,error:i.message||"Failed to geocode address"}}},Gb=async(l,i)=>{try{if(!l||!i)return{success:!1,error:"Latitude and longitude are required"};const c=`${Cp}/reverse?lat=${l}&lon=${i}&api_key=${Ap}&format=json`,o=await fetch(c);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const d=await o.json();return!d||!d.display_name?{success:!1,error:"No address found for the provided coordinates"}:{success:!0,data:{address:d.display_name,city:d.address?.city||d.address?.town||d.address?.village||"Unknown",country:d.address?.country||"Unknown",place_name:Mp(d.display_name)}}}catch(c){return console.error("Reverse geocoding error:",c),{success:!1,error:c.message||"Failed to reverse geocode coordinates"}}},Mp=l=>{if(!l)return"Unknown Location";const i=l.split(",").map(c=>c.trim());return i.length>=2?i.slice(0,2).join(", "):i[0]||"Unknown Location"},hu=(l,i,c,o)=>{const f=ur(c-l),m=ur(o-i),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(ur(l))*Math.cos(ur(c))*Math.sin(m/2)*Math.sin(m/2),g=6371*(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)));return Math.round(g*100)/100},ur=l=>l*(Math.PI/180),pu=()=>new Promise((l,i)=>{if(!navigator.geolocation){i(new Error("Geolocation is not supported by this browser"));return}navigator.geolocation.getCurrentPosition(c=>{l({latitude:c.coords.latitude,longitude:c.coords.longitude})},c=>{let o="Unable to retrieve location";switch(c.code){case c.PERMISSION_DENIED:o="Location access denied by user";break;case c.POSITION_UNAVAILABLE:o="Location information unavailable";break;case c.TIMEOUT:o="Location request timed out";break}i(new Error(o))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),Rp=async(l,i)=>{try{const c=await Gb(l,i);return c.success?c.data.place_name:`${l.toFixed(4)}, ${i.toFixed(4)}`}catch(c){return console.error("Error getting place name:",c),`${l.toFixed(4)}, ${i.toFixed(4)}`}},xu=(l,i,c)=>l.map(o=>{if(o.latitude&&o.longitude){const d=hu(i,c,o.latitude,o.longitude);return{...o,distance:d}}return{...o,distance:null}}).sort((o,d)=>o.distance===null&&d.distance===null?0:o.distance===null?1:d.distance===null?-1:o.distance-d.distance),kp=l=>l==null?"Distance unknown":l<1?`${Math.round(l*1e3)}m away`:`${l}km away`,Vb=Object.freeze(Object.defineProperty({__proto__:null,calculateDistance:hu,formatDistance:kp,getCurrentLocation:pu,getPlaceNameFromCoordinates:Rp,sortPropertiesByDistance:xu},Symbol.toStringTag,{value:"Module"})),Dp=l=>{if(!l)return"Date not available";const i=new Date(l),c={weekday:"long",year:"numeric",month:"short",day:"numeric"};return i.toLocaleDateString("en-US",c)},$l=({property:l,onFavoriteToggle:i,size:c="normal",distance:o=null,showActions:d=!1,onEdit:f,onDelete:m})=>{const{user:h}=ut(),[p,g]=b.useState(l.isFavorited||!1),[y,j]=b.useState(!1),[C,M]=b.useState(null),[H,R]=b.useState(!1),[T,S]=b.useState(0),[_,I]=b.useState([]),[ee,J]=b.useState(!1),[ge,ae]=b.useState(null),[le,ne]=b.useState(!1);b.useEffect(()=>{(async()=>{if(h&&l.$id)try{const W=await Zt.isFavorited(h.$id,l.$id);W.success&&g(W.isFavorited)}catch(W){console.error("Error checking favorite status:",W)}})()},[h,l.$id]),b.useEffect(()=>{(async()=>{if(l.ownerId)try{R(!0);const W=await pt.getUserProfile(l.ownerId);M(W)}catch(W){console.error("Error loading owner profile:",W),M(null)}finally{R(!1)}})()},[l.ownerId]),b.useEffect(()=>{(async()=>{if(l.latitude&&l.longitude&&!ge&&!le){const W=/^-?\d+\.\d+,\s*-?\d+\.\d+$/.test(l.address?.trim());if(!(l.address&&!W&&l.address.length>10))try{ne(!0);const Y=await Rp(l.latitude,l.longitude);ae(Y)}catch(Y){console.error("Error loading place name:",Y)}finally{ne(!1)}}})()},[l.latitude,l.longitude,l.address,ge,le]),b.useEffect(()=>{(async()=>{if(d&&l.$id)try{J(!0);const W=await ua.getPropertyCommentsWithReplies(l.$id);W.success&&(S(W.data.length),I(W.data.slice(0,2)))}catch(W){console.error("Error loading comments:",W)}finally{J(!1)}})()},[l.$id,d]);const fe=async $=>{if($.preventDefault(),$.stopPropagation(),!h){console.log("User must be logged in to favorite properties");return}j(!0);try{const W=await Zt.toggleFavorite(h.$id,l.$id);W.success?(g(W.isFavorited),i&&i(l.$id,W.isFavorited)):console.error("Error toggling favorite:",W.error)}catch(W){console.error("Error toggling favorite:",W)}finally{j(!1)}},de=$=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format($),ve=$=>$?Zt.getImageUrl($):"/api/placeholder/400/300",U=l.images&&l.images.length>0?ve(l.images[0]):"https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80";return a.jsx("div",{className:`card group hover:shadow-xl transition-all duration-300 transform hover:scale-[1.02] ${c==="small"?"max-w-sm w-full":c==="square"?"aspect-square w-full max-w-xs mx-auto":""} touch-manipulation`,children:a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:fe,disabled:y,className:"absolute top-4 right-4 p-3 bg-white rounded-full shadow-lg hover:shadow-xl transition-all duration-200 group/heart z-10 backdrop-blur-sm hover:scale-110 active:scale-95 touch-manipulation",children:a.jsx(rn,{className:`h-5 w-5 transition-colors duration-200 ${p?"text-red-500 fill-current":"text-gray-400 group-hover/heart:text-red-500"}`})}),a.jsxs(Ut,{to:`/property/${l.$id}`,className:"block",children:[a.jsxs("div",{className:`relative overflow-hidden rounded-t-xl ${c==="small"?"h-44":c==="square"?"h-36":"h-52"}`,children:[a.jsx("img",{src:U,alt:l.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy",onError:$=>{$.target.src="https://images.unsplash.com/photo-1560518883-ce09059eeffa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1000&q=80"}}),a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx("span",{className:`px-3 py-1.5 text-xs font-bold rounded-full shadow-md backdrop-blur-sm ${l.listingType==="sale"?"bg-green-500/90 text-white":"bg-blue-500/90 text-white"}`,children:l.listingType==="sale"?"FOR SALE":"FOR RENT"})}),l.status!=="available"&&a.jsx("div",{className:"absolute top-4 left-28",children:a.jsx("span",{className:`px-3 py-1.5 text-xs font-bold rounded-full shadow-md backdrop-blur-sm ${l.status==="rented"?"bg-red-500/90 text-white":l.status==="pending"?"bg-yellow-500/90 text-white":"bg-gray-500/90 text-white"}`,children:l.status==="rented"?l.listingType==="sale"?"SOLD":"RENTED":l.status.toUpperCase()})}),l.featured&&a.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2",children:a.jsx("span",{className:"px-3 py-1.5 text-xs font-bold rounded-full bg-yellow-400 text-yellow-900 shadow-md backdrop-blur-sm animate-pulse",children:" FEATURED"})})]}),a.jsxs("div",{className:`${c==="small"?"p-4":c==="square"?"p-3":"p-5"}`,children:[a.jsx("div",{className:`flex items-center justify-between ${c==="small"||c==="square"?"mb-2":"mb-3"}`,children:a.jsxs("h3",{className:`font-bold text-gray-900 ${c==="small"?"text-xl":c==="square"?"text-lg":"text-2xl"}`,children:[de(l.price),l.listingType==="rent"&&a.jsx("span",{className:"text-base font-medium text-gray-500 ml-1",children:"/mo"})]})}),a.jsx("h4",{className:`font-semibold text-gray-800 line-clamp-2 leading-tight ${c==="small"?"text-lg mb-2":c==="square"?"text-base mb-2":"text-xl mb-3"}`,children:l.title}),a.jsxs("div",{className:`flex items-start justify-between text-gray-600 ${c==="small"?"mb-3":c==="square"?"mb-2":"mb-4"}`,children:[a.jsxs("div",{className:"flex items-start flex-1 min-w-0",children:[a.jsx(Pn,{className:"h-5 w-5 mr-2 flex-shrink-0 mt-0.5 text-gray-400"}),a.jsx("span",{className:"text-sm line-clamp-2 leading-relaxed",children:le?"Loading location...":ge||l.address||"Location not specified"})]}),o!==null&&a.jsxs("div",{className:"flex items-center ml-3 text-blue-600 bg-blue-50 px-2 py-1 rounded-full",children:[a.jsx(du,{className:"h-3 w-3 mr-1"}),a.jsx("span",{className:"text-xs font-semibold",children:kp(o)})]})]}),a.jsxs("div",{className:`flex items-center text-gray-600 ${c==="small"||c==="square"?"mb-2":"mb-3"}`,children:[a.jsx("div",{className:"w-6 h-6 bg-gray-100 rounded-full flex items-center justify-center mr-2 flex-shrink-0",children:a.jsx(zn,{className:"h-3 w-3 text-gray-500"})}),H?a.jsx("span",{className:"text-sm text-gray-400",children:"Loading owner..."}):C?a.jsxs("span",{className:"text-sm font-medium",children:[C.firstName," ",C.lastName]}):a.jsx("span",{className:"text-sm text-gray-400",children:"Owner information unavailable"})]}),a.jsxs("div",{className:`flex items-center text-gray-500 ${c==="small"?"mb-3":c==="square"?"mb-2":"mb-4"}`,children:[a.jsx(Fc,{className:"h-5 w-5 mr-2 flex-shrink-0"}),a.jsxs("span",{className:"text-sm",children:["Posted ",Dp(l.$createdAt||l.createdAt)]})]}),a.jsxs("div",{className:`flex items-center justify-between text-sm text-gray-600 ${c==="small"?"mb-3":c==="square"?"mb-2":"mb-4"}`,children:[a.jsxs("div",{className:`flex items-center ${c==="small"?"space-x-3":c==="square"?"space-x-2":"space-x-5"}`,children:[a.jsxs("div",{className:"flex items-center bg-gray-50 px-2 py-1 rounded-lg",children:[a.jsx(yp,{className:`mr-1.5 text-gray-500 ${c==="square"?"h-3 w-3":"h-4 w-4"}`}),a.jsx("span",{className:`font-medium ${c==="square"?"text-xs":""}`,children:l.bedrooms})]}),a.jsxs("div",{className:"flex items-center bg-gray-50 px-2 py-1 rounded-lg",children:[a.jsx(gp,{className:`mr-1.5 text-gray-500 ${c==="square"?"h-3 w-3":"h-4 w-4"}`}),a.jsx("span",{className:`font-medium ${c==="square"?"text-xs":""}`,children:l.bathrooms})]}),c!=="small"&&c!=="square"&&a.jsxs("div",{className:"flex items-center bg-gray-50 px-2 py-1 rounded-lg",children:[a.jsx(jp,{className:"h-4 w-4 mr-1.5 text-gray-500"}),a.jsx("span",{className:"font-medium",children:l.area?.toLocaleString()})]})]}),d&&a.jsxs("div",{className:"flex items-center text-purple-600",children:[a.jsx(Xt,{className:`mr-1 ${c==="square"?"h-3 w-3":"h-4 w-4"}`}),a.jsxs("span",{className:`font-medium ${c==="square"?"text-xs":""}`,children:[l.views||0," views",!l.views&&l.views!==0&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(setup needed)"})]})]})]}),c!=="small"&&a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsx("span",{className:"capitalize",children:l.propertyType}),l.yearBuilt&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fc,{className:"h-3 w-3 mr-1"}),a.jsxs("span",{children:["Built ",l.yearBuilt]})]})]}),c!=="small"&&l.description&&a.jsx("p",{className:"text-sm text-gray-600 mt-2 line-clamp-2",children:l.description}),d&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Us,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"text-sm text-gray-600",children:ee?"Loading...":`${T} comment${T!==1?"s":""}`})]}),_.length>0&&a.jsxs("div",{className:"space-y-1 mb-2",children:[_.map($=>a.jsxs("div",{className:"text-xs text-gray-500 bg-gray-50 rounded p-2",children:[a.jsxs("span",{className:"font-medium",children:[$.userName,":"]}),a.jsx("span",{className:"ml-1 line-clamp-1",children:$.content})]},$.$id)),T>2&&a.jsxs("div",{className:"text-xs text-blue-600",children:["+",T-2," more comment",T-2!==1?"s":""]})]})]})]})]}),d&&a.jsxs("div",{className:`flex items-center justify-between border-t border-gray-100 ${c==="square"?"mt-1 pt-1 px-2 pb-2":"mt-3 pt-3 px-3 pb-3"}`,children:[a.jsxs("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),f&&f()},className:`flex items-center gap-1 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors duration-200 ${c==="square"?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:[a.jsx(bp,{className:c==="square"?"w-3 h-3":"w-4 h-4"}),"Edit"]}),a.jsxs("button",{onClick:$=>{$.preventDefault(),$.stopPropagation(),m&&m()},className:`flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors duration-200 ${c==="square"?"px-2 py-1 text-xs":"px-3 py-1.5 text-sm"}`,children:[a.jsx(fu,{className:c==="square"?"w-3 h-3":"w-4 h-4"}),"Delete"]})]})]})})},Nr=({children:l,onRefresh:i,disabled:c=!1})=>{const[o,d]=b.useState(!1),[f,m]=b.useState(!1),[h,p]=b.useState(0),[g,y]=b.useState(0),[j,C]=b.useState(!1),M=b.useRef(null),H=80,R=120,T=()=>M.current?M.current.scrollTop===0:!1,S=ne=>{c||f||T()&&(C(!0),y(ne.touches[0].clientY))},_=b.useCallback(ne=>{if(c||f||!j)return;const de=ne.touches[0].clientY-g;if(de>0&&T()){ne.preventDefault();const ve=Math.min(de*.5,R);p(ve),d(ve>20)}},[c,f,j,g]),I=()=>{c||f||!j||(C(!1),h>=H?(m(!0),d(!1),p(0),i&&Promise.resolve(i()).finally(()=>{m(!1)})):(d(!1),p(0)))},ee=ne=>{c||f||T()&&(C(!0),y(ne.clientY))},J=ne=>{if(c||f||!j)return;const de=ne.clientY-g;if(de>0&&T()){const ve=Math.min(de*.5,R);p(ve),d(ve>20)}},ge=()=>{c||f||!j||(C(!1),h>=H?(m(!0),d(!1),p(0),i&&Promise.resolve(i()).finally(()=>{m(!1)})):(d(!1),p(0)))};b.useEffect(()=>{if(j)return document.addEventListener("mousemove",J),document.addEventListener("mouseup",ge),()=>{document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",ge)}},[j,g,h]),b.useEffect(()=>{const ne=M.current;if(!ne)return;const fe={passive:!1};return ne.addEventListener("touchmove",_,fe),()=>{ne.removeEventListener("touchmove",_,fe)}},[_]);const ae=Math.min(h/H,1),le=o||f;return a.jsxs("div",{className:"relative h-full overflow-hidden",children:[a.jsx("div",{className:`absolute top-0 left-0 right-0 z-10 flex items-center justify-center transition-all duration-300 ${le?"opacity-100":"opacity-0"}`,style:{height:le?"60px":"0px",transform:`translateY(${o?h-60:f?0:-60}px)`},children:a.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full p-3 shadow-lg border border-gray-200",children:a.jsx(Zv,{className:`w-6 h-6 text-blue-600 transition-transform duration-300 ${f?"animate-spin":""}`,style:{transform:o?`rotate(${ae*360}deg)`:""}})})}),a.jsx("div",{ref:M,className:"h-full overflow-auto",style:{transform:o?`translateY(${Math.min(h,60)}px)`:"",transition:o?"none":"transform 0.3s ease-out"},onTouchStart:S,onTouchEnd:I,onMouseDown:ee,children:l}),f&&a.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500 animate-pulse"})]})},Yb=()=>{const[l,i]=b.useState("Initializing fresh debug component..."),[c,o]=b.useState(null),[d,f]=b.useState({}),[m,h]=b.useState({});return b.useEffect(()=>{setTimeout(async()=>{try{console.log("DatabaseDebugNew: Starting fresh connection test..."),i("Loading configuration...");const g={endpoint:"https://nyc.cloud.appwrite.io/v1",projectId:"68c421f100155aee655e",databaseId:"68c4288d002de0868cf0",propertiesCollection:"properties",mode:"production",prod:!0,dev:!1};h(g),console.log("DatabaseDebugNew: Environment variables:",g);const y={endpoint:"https://nyc.cloud.appwrite.io/v1",projectId:"68c421f100155aee655e",databaseId:"68c4288d002de0868cf0",propertiesCollection:"properties"};f(y),console.log("DatabaseDebugNew: Configuration:",y),i("Importing Appwrite modules...");const{databases:j}=await pr(async()=>{const{databases:M}=await Promise.resolve().then(()=>Dy);return{databases:M}},void 0);console.log("DatabaseDebugNew: Imported databases:",j),i("Testing database connection...");const C=await j.listDocuments(y.databaseId,y.propertiesCollection);console.log("DatabaseDebugNew: Connection successful!",C),i(` Fresh test successful! Found ${C.documents.length} properties`),o(null)}catch(g){console.error("DatabaseDebugNew: Connection error details:",{message:g.message,stack:g.stack,name:g.name,code:g.code,type:g.type}),o(g.message||"Unknown error occurred"),i(" Fresh test failed")}},200)},[]),a.jsxs("div",{className:"fixed top-4 right-4 bg-white border border-gray-300 rounded-lg shadow-lg p-4 max-w-md z-50",children:[a.jsx("h3",{className:"text-lg font-bold mb-2 text-blue-600",children:"Database Debug (Fresh)"}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-700",children:"Status:"}),a.jsx("p",{className:"text-sm",children:l})]}),c&&a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-semibold text-red-600",children:"Error:"}),a.jsx("p",{className:"text-sm text-red-500",children:c})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-700",children:"Environment Variables:"}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"MODE:"})," ",m.mode]}),a.jsxs("p",{children:[a.jsx("strong",{children:"PROD:"})," ",m.prod?.toString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"DEV:"})," ",m.dev?.toString()]}),a.jsxs("p",{children:[a.jsx("strong",{children:"VITE_APPWRITE_ENDPOINT:"})," ",m.endpoint||"undefined"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"VITE_APPWRITE_PROJECT_ID:"})," ",m.projectId||"undefined"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"VITE_APPWRITE_DATABASE_ID:"})," ",m.databaseId||"undefined"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"VITE_APPWRITE_PROPERTIES_COLLECTION_ID:"})," ",m.propertiesCollection||"undefined"]})]})]}),a.jsxs("div",{className:"mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-700",children:"Actual Config Used:"}),a.jsxs("div",{className:"text-xs space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Endpoint:"})," ",d.endpoint]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Project ID:"})," ",d.projectId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Database ID:"})," ",d.databaseId]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Collection:"})," ",d.propertiesCollection]})]})]})]})},Zb=()=>{const[l,i]=b.useState({currentDomain:"",isLocalhost:!1,isGitHubPages:!1,appwriteEndpoint:"",projectId:"",testResult:null,error:null});return b.useEffect(()=>{(async()=>{const o=window.location.hostname,d=o==="localhost"||o==="127.0.0.1",f=o.includes("github.io"),m="https://nyc.cloud.appwrite.io/v1",h="68c421f100155aee655e";i(p=>({...p,currentDomain:o,isLocalhost:d,isGitHubPages:f,appwriteEndpoint:m,projectId:h}));try{console.log(" Testing Appwrite connection...");const p=await fetch(`${m}/health`,{method:"GET",headers:{"X-Appwrite-Project":h}});if(p.ok){const g=await p.json();i(y=>({...y,testResult:"SUCCESS: Appwrite endpoint is reachable",error:null})),console.log(" Appwrite health check passed:",g)}else throw new Error(`HTTP ${p.status}: ${p.statusText}`)}catch(p){console.error(" Appwrite connection failed:",p),i(g=>({...g,testResult:null,error:`CORS Error: ${p.message}`}))}})()},[]),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-4",children:" CORS Diagnostics"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Current Domain:"})," ",l.currentDomain]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Environment:"}),l.isLocalhost&&a.jsx("span",{className:"text-green-600 ml-2",children:" Localhost"}),l.isGitHubPages&&a.jsx("span",{className:"text-blue-600 ml-2",children:" GitHub Pages"}),!l.isLocalhost&&!l.isGitHubPages&&a.jsx("span",{className:"text-gray-600 ml-2",children:" Other"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("strong",{children:"Appwrite Endpoint:"})," ",l.appwriteEndpoint]}),a.jsxs("div",{children:[a.jsx("strong",{children:"Project ID:"})," ",l.projectId]})]}),a.jsxs("div",{className:"mt-4 p-3 rounded border",children:[a.jsx("strong",{children:"Connection Test:"}),l.testResult&&a.jsxs("div",{className:"text-green-600 mt-1",children:[" ",l.testResult]}),l.error&&a.jsxs("div",{className:"text-red-600 mt-1",children:[" ",l.error]}),!l.testResult&&!l.error&&a.jsx("div",{className:"text-gray-600 mt-1",children:" Testing..."})]}),l.isGitHubPages&&l.error&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded",children:[a.jsx("strong",{className:"text-yellow-800",children:" Solution:"}),a.jsxs("p",{className:"text-yellow-700 mt-1",children:["Add ",a.jsx("code",{children:"parishkritomg.github.io"})," to your Appwrite project's platform settings:"]}),a.jsxs("ol",{className:"text-yellow-700 mt-2 ml-4 list-decimal",children:[a.jsx("li",{children:"Go to Appwrite Console  Settings  Platforms"}),a.jsxs("li",{children:["Add Web Platform with hostname: ",a.jsx("code",{children:"parishkritomg.github.io"})]}),a.jsx("li",{children:"Save and redeploy your app"})]})]})]})]})},Xb=()=>{const l=at(),{user:i}=ut(),{refreshNotifications:c}=zs(),[o,d]=b.useState([]),[f,m]=b.useState(!0),[h,p]=b.useState({totalProperties:0,totalUsers:0,totalCities:0}),[g,y]=b.useState(!0),j=async()=>{try{const R=await mu.getAllStatistics();R.success?p({totalProperties:R.data.totalProperties,totalUsers:R.data.totalUsers,totalCities:R.data.totalCities}):(console.error("Error loading statistics:",R.error),p({totalProperties:0,totalUsers:0,totalCities:0}))}catch(R){console.error("Error loading statistics:",R),p({totalProperties:0,totalUsers:0,totalCities:0})}finally{y(!1)}};b.useEffect(()=>{C(),j()},[]);const C=async()=>{try{m(!0);const R=await Uh();R.success?d(R.data.documents||[]):(console.error("Error loading featured properties:",R.error),d([]))}catch(R){console.error("Error loading featured properties:",R),d([])}finally{m(!1)}},M=async(R,T)=>{try{const S=await Uh();S.success&&d(S.data.documents||[])}catch(S){console.error("Error refreshing featured properties:",S)}},H=async()=>{await Promise.all([C(),j()]),i&&c()};return a.jsxs(Nr,{onRefresh:H,children:[a.jsxs("div",{className:"min-h-screen",children:[a.jsxs("section",{className:"relative bg-gradient-to-r from-primary-600 to-primary-800 text-white overflow-hidden min-h-[60vh] flex items-center",style:{backgroundImage:"url(./assets/hero.jpg)",backgroundSize:"cover",backgroundPosition:"center",animation:"heroZoom 20s ease-in-out infinite alternate",transform:"translateZ(0)"},children:[a.jsx("div",{className:"absolute inset-0 bg-black opacity-50"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/30 to-purple-600/30 animate-pulse"}),a.jsx("div",{className:"relative w-full max-w-7xl mx-auto px-6 sm:px-8 lg:px-12 py-16 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 sm:mb-6 leading-tight",children:"Find Your Perfect Property"}),a.jsx("p",{className:"text-lg sm:text-xl md:text-2xl mb-8 sm:mb-10 text-blue-100 max-w-3xl mx-auto leading-relaxed",children:"Discover amazing properties in your desired location"}),a.jsx("div",{className:"max-w-2xl mx-auto px-4",children:a.jsxs("div",{className:"flex flex-col gap-4 justify-center items-stretch",children:[a.jsxs("button",{onClick:()=>l("/properties"),className:"app-button w-full",children:[a.jsx(yr,{className:"w-5 h-5 mr-3"}),"Find Your Dream Home"]}),i?a.jsxs("div",{className:"flex items-center justify-center text-white/90",children:[a.jsx(zn,{className:"w-5 h-5 mr-3"}),a.jsxs("span",{className:"text-base font-medium truncate",children:["Hey, ",i.name||i.email.split("@")[0]]})]}):a.jsxs("button",{onClick:()=>l("/login"),className:"app-button-secondary w-full",children:[a.jsx(vp,{className:"w-5 h-5 mr-3"}),"Sign In to Continue"]})]})})]})})]}),a.jsx("section",{className:"py-8 bg-gradient-to-r from-blue-50 to-indigo-50",children:a.jsx("div",{className:"px-4",children:a.jsxs("div",{className:"flex justify-center space-x-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-blue-500 rounded-full mb-2",children:a.jsx(Ds,{className:"h-5 w-5 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g?a.jsx("div",{className:"animate-pulse bg-gray-300 h-6 w-12 mx-auto rounded"}):`${(h.totalProperties||0).toLocaleString()}`}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Properties"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-green-500 rounded-full mb-2",children:a.jsx(mb,{className:"h-5 w-5 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g?a.jsx("div",{className:"animate-pulse bg-gray-300 h-6 w-12 mx-auto rounded"}):`${(h.totalUsers||0).toLocaleString()}`}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Users"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-10 h-10 bg-purple-500 rounded-full mb-2",children:a.jsx(Pn,{className:"h-5 w-5 text-white"})}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:g?a.jsx("div",{className:"animate-pulse bg-gray-300 h-6 w-12 mx-auto rounded"}):`${(h.totalCities||0).toLocaleString()}`}),a.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Cities"})]})]})})}),a.jsx("section",{className:"py-6",children:a.jsxs("div",{className:"px-4",children:[a.jsxs("div",{className:"text-left mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Featured Properties"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Handpicked premium properties"})]}),f?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,T)=>a.jsxs("div",{className:"card animate-pulse",children:[a.jsx("div",{className:"h-48 bg-gray-300 rounded-t-xl"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded mb-2 w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]},T))}):o.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(R=>a.jsx($l,{property:R,onFavoriteToggle:M},R.$id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-gray-500 text-lg",children:"No featured properties available at the moment."})}),a.jsx("div",{className:"text-center mt-12",children:a.jsx("button",{onClick:()=>l("/properties"),className:"btn-primary",children:"View All Properties"})})]})}),a.jsx("section",{className:"py-16 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How It Works"}),a.jsx("p",{className:"text-xl text-gray-600",children:"Find your perfect property in three simple steps"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-blue-100 rounded-full mx-auto mb-4",children:a.jsx(yr,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"1. Search"}),a.jsx("p",{className:"text-gray-600",children:"Use our advanced search filters to find properties that match your criteria"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mx-auto mb-4",children:a.jsx(Xt,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"2. Explore"}),a.jsx("p",{className:"text-gray-600",children:"View detailed property information, photos, and virtual tours"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center w-16 h-16 bg-purple-100 rounded-full mx-auto mb-4",children:a.jsx(rn,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"3. Connect"}),a.jsx("p",{className:"text-gray-600",children:"Contact property managers directly and schedule viewings"})]})]})]})}),a.jsx("section",{className:"py-16 bg-primary-600",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[a.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Ready to Find Your Dream Home?"}),a.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Join thousands of satisfied customers who found their perfect property with us"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx("button",{onClick:()=>l("/properties"),className:"bg-white text-primary-600 hover:bg-gray-100 font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Browse Properties"}),a.jsx("button",{onClick:()=>{l(i?"/dashboard":"/register")},className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 font-medium py-3 px-6 rounded-lg transition-colors duration-200",children:"Get Started"})]})]})})]}),a.jsx(Zb,{}),a.jsx(Yb,{})]})},Qb=()=>{const[l]=jr(),i=at(),{user:c}=ut(),{refreshNotifications:o}=zs(),[d,f]=b.useState([]),[m,h]=b.useState(!0),[p,g]=b.useState(""),[y,j]=b.useState({type:"",listingType:[],minPrice:"",maxPrice:"",sortBy:"newest"}),[C,M]=b.useState(null),[H,R]=b.useState(!1),[T,S]=b.useState("grid"),[_,I]=b.useState(1),[ee,J]=b.useState(!1),[ge,ae]=b.useState(null),[le,ne]=b.useState(!1),fe=12,de=l.get("owner"),ve=l.get("search");b.useEffect(()=>{ve&&ve!==p&&g(ve);const B=l.get("type"),K=l.get("listingType"),me=l.get("minPrice"),be=l.get("maxPrice"),Re=l.get("sortBy");(B||K||me||be||Re)&&j(xt=>({...xt,type:B||xt.type,listingType:K?K.split(","):xt.listingType,minPrice:me||xt.minPrice,maxPrice:be||xt.maxPrice,sortBy:Re||xt.sortBy}))},[ve,l]);const U=b.useCallback(async()=>{try{h(!0);let B;if(de)B=await kb(de);else{const K={limit:fe,offset:(_-1)*fe,sortBy:y.sortBy==="nearest"?"newest":y.sortBy};y.type&&(K.propertyType=y.type),y.listingType&&y.listingType.length>0&&(K.listingType=y.listingType),y.minPrice&&(K.minPrice=parseInt(y.minPrice)),y.maxPrice&&(K.maxPrice=parseInt(y.maxPrice)),B=await Ab(K)}if(B.success){let K=B.data.documents||[];if(y.sortBy==="nearest"&&C){const me=K.filter(Re=>Re.latitude&&Re.longitude),be=K.filter(Re=>!Re.latitude||!Re.longitude);me.length===0&&be.length>0?(addNotification("Properties don't have location coordinates yet. Distance sorting is not available.","warning"),j(Re=>({...Re,sortBy:"newest"})),K=be):(K=[...xu(me,C.latitude,C.longitude),...be],be.length>0&&addNotification(`Showing ${me.length} properties by distance. ${be.length} properties don't have location data.`,"info"))}f(K)}else console.error("Error loading properties:",B.error),f([])}catch(B){console.error("Error loading properties:",B),f([])}finally{h(!1)}},[de,_,y,C,fe]),$=b.useCallback(async()=>{if(!p.trim()){U();return}try{h(!0);const B=await Mb(p,y.sortBy==="nearest"?C:null);if(B.success){let K=B.data.documents||[];y.type&&(K=K.filter(me=>me.propertyType===y.type)),y.listingType&&y.listingType.length>0&&(K=K.filter(me=>y.listingType.includes(me.listingType))),y.minPrice&&(K=K.filter(me=>(me.price||0)>=parseInt(y.minPrice))),y.maxPrice&&(K=K.filter(me=>(me.price||0)<=parseInt(y.maxPrice))),f(K)}else console.error("Error searching properties:",B.error),f([]);I(1)}catch(B){console.error("Error searching properties:",B),f([])}finally{h(!1)}},[p,y,C,U]);b.useEffect(()=>{p.trim()?$():U()},[_,y,de,p,$,U]),b.useEffect(()=>{de?W():ae(null)},[de]);const W=async()=>{if(de)try{ne(!0);const B=await qa(de);ae(B)}catch(B){console.error("Error loading owner profile:",B),ae(null)}finally{ne(!1)}},L=async()=>{try{R(!0);const B=prompt("Enter your zip code to find nearby properties:");if(!B){addNotification("Zip code is required to find nearby properties.","error");return}if(!/^\d{5}(-\d{4})?$/.test(B.trim())){addNotification("Please enter a valid 5-digit zip code.","error");return}const me=await Rb(B.trim());if(me.success)f(me.data.documents),setTotalPages(1),I(1),j(be=>({...be,sortBy:"zipcode"})),addNotification(`Found ${me.data.documents.length} properties near zip code ${B}. Results sorted by proximity.`,"success");else throw new Error(me.error||"Failed to search properties by zip code")}catch(B){console.error("Zip code search error:",B),addNotification("Unable to search properties by zip code. Please try again.","error"),j(K=>({...K,sortBy:"newest"}))}finally{R(!1)}},Y=async B=>{B.preventDefault();const K=new URLSearchParams(l);p.trim()?K.set("search",p.trim()):K.delete("search"),i(`${window.location.pathname}?${K.toString()}`,{replace:!0})},ie=(B,K)=>{j(me=>({...me,[B]:K})),I(1)},je=()=>{j({type:"",listingType:[],minPrice:"",maxPrice:"",sortBy:"newest"}),g(""),I(1);const B=new URLSearchParams(l);B.delete("search"),window.history.replaceState({},"",`${window.location.pathname}?${B.toString()}`)},N=Math.ceil(d.length/fe),V=(_-1)*fe,se=V+fe,F=d.slice(V,se),ce=async()=>{I(1),p.trim()?await $():await U(),de&&await W(),c&&o()};return a.jsx(Nr,{onRefresh:ce,children:a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsx("div",{children:de&&ge?a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["Properties by ",ge.firstName," ",ge.lastName]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[d.length," ",d.length===1?"property":"properties"," available"]})]}):de&&le?a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Properties"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Loading owner information..."})]}):a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Properties"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find your perfect property"})]})}),a.jsx("form",{onSubmit:Y,className:"flex-1 max-w-md",children:a.jsxs("div",{className:"relative",children:[a.jsx(yr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx("input",{type:"text",placeholder:"Search by property name, location, city...",value:p,onChange:B=>g(B.target.value),className:"input pl-10"}),p&&C&&y.sortBy==="nearest"&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("span",{className:"text-xs text-green-600 bg-green-50 px-2 py-1 rounded-full",children:" Sorted by proximity"})})]})})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[a.jsx("div",{className:`lg:w-64 ${ee?"block":"hidden lg:block"}`,children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),a.jsx("button",{onClick:je,className:"text-sm text-blue-600 hover:text-blue-700",children:"Clear All"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Property Type"}),a.jsxs("select",{value:y.type,onChange:B=>ie("type",B.target.value),className:"input",children:[a.jsx("option",{value:"",children:"All Types"}),a.jsx("option",{value:"apartment",children:"Apartment"}),a.jsx("option",{value:"house",children:"House"}),a.jsx("option",{value:"condo",children:"Condo"}),a.jsx("option",{value:"studio",children:"Studio"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Listing Type"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y.listingType.includes("rent"),onChange:B=>{const K=B.target.checked?[...y.listingType,"rent"]:y.listingType.filter(me=>me!=="rent");ie("listingType",K)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"For Rent"})]}),a.jsxs("label",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",checked:y.listingType.includes("sale"),onChange:B=>{const K=B.target.checked?[...y.listingType,"sale"]:y.listingType.filter(me=>me!=="sale");ie("listingType",K)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"For Sale"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price Range"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("input",{type:"number",placeholder:"Min Price",value:y.minPrice,onChange:B=>ie("minPrice",B.target.value),className:"input",min:"0"}),a.jsx("input",{type:"number",placeholder:"Max Price",value:y.maxPrice,onChange:B=>ie("maxPrice",B.target.value),className:"input",min:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zip Code Search"}),a.jsxs("button",{onClick:L,disabled:H,className:`w-full btn-secondary flex items-center justify-center gap-2 ${y.sortBy==="zipcode"?"bg-blue-100 border-blue-300 text-blue-700":""}`,children:[a.jsx(du,{className:"w-4 h-4"}),H?"Searching...":"Near You"]}),y.sortBy==="zipcode"&&a.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Showing properties sorted by zip code proximity"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),a.jsxs("select",{value:y.sortBy,onChange:B=>ie("sortBy",B.target.value),className:"input",children:[a.jsx("option",{value:"newest",children:"Newest First"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),C&&a.jsx("option",{value:"nearest",children:"Nearest to Me"})]})]})]})]})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>J(!ee),className:"lg:hidden btn-secondary flex items-center gap-2",children:[a.jsx(Ev,{className:"w-4 h-4"}),"Filters"]}),a.jsxs("p",{className:"text-gray-600",children:[d.length," properties found"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>S("grid"),className:`p-2 rounded-lg ${T==="grid"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(au,{className:"w-5 h-5"})}),a.jsx("button",{onClick:()=>S("list"),className:`p-2 rounded-lg ${T==="list"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:a.jsx(Rv,{className:"w-5 h-5"})})]})]}),m?a.jsx("div",{className:"flex justify-center items-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):F.length>0?a.jsx("div",{className:T==="grid"?"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6":"space-y-6",children:F.map(B=>a.jsx($l,{property:B,viewMode:T,distance:y.sortBy==="nearest"&&C?B.distance:null},B.$id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties found"}),a.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters."})]}),N>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-8",children:[a.jsx("button",{onClick:()=>I(B=>Math.max(B-1,1)),disabled:_===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(eu,{className:"w-5 h-5"})}),[...Array(N)].map((B,K)=>{const me=K+1;return a.jsx("button",{onClick:()=>I(me),className:`px-3 py-2 rounded-lg ${_===me?"bg-blue-600 text-white":"border border-gray-300 hover:bg-gray-50"}`,children:me},me)}),a.jsx("button",{onClick:()=>I(B=>Math.min(B+1,N)),disabled:_===N,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:a.jsx(tu,{className:"w-5 h-5"})})]})]})]})})]})})},Up=({comment:l,propertyOwnerId:i,onReply:c,onEdit:o,onDelete:d,onReplySubmit:f,level:m=0})=>{const{user:h}=ut(),[p,g]=b.useState(!1),[y,j]=b.useState(""),[C,M]=b.useState(!1),[H,R]=b.useState(!1),[T,S]=b.useState(!1),[_,I]=b.useState(l.content),[ee,J]=b.useState(!1),[ge,ae]=b.useState(null),[le,ne]=b.useState(!1),fe=l.userId===i,de=h&&l.userId===h.$id,ve=h&&h.$id===i,U=de,$=de,W=ve&&!l.parentCommentId;b.useEffect(()=>{(async()=>{if(h)try{const K=await pt.getUserProfile(h.$id);ae(K)}catch(K){console.warn("Failed to load current user profile:",K)}})()},[h]);const L=B=>{const K=new Date(B),me=new Date,be=(me-K)/(1e3*60*60);if(be<1){const Re=Math.floor((me-K)/6e4);return Re<=1?"Just now":`${Re} minutes ago`}else{if(be<24)return`${Math.floor(be)} hours ago`;{const Re=Math.floor(be/24);return Re===1?"Yesterday":Re<7?`${Re} days ago`:K.toLocaleDateString()}}},Y=B=>{const K=["from-blue-500 to-blue-600","from-blue-400 to-blue-500","from-indigo-500 to-blue-600","from-cyan-500 to-blue-500","from-blue-600 to-indigo-600","from-slate-500 to-blue-600"],me=B?B.charCodeAt(0)%K.length:0;return K[me]},ie=async B=>{if(B.preventDefault(),!(!y.trim()||!h)){M(!0);try{const K={content:y.trim(),userId:h.$id,userName:h.name||h.email,propertyId:l.propertyId,parentCommentId:l.parentCommentId||l.$id,replyToCommentId:l.$id},me=await ua.createReply(K);me.success&&(j(""),g(!1),f&&f(me.data))}catch(K){console.error("Error submitting reply:",K)}finally{M(!1)}}},je=async B=>{if(B.preventDefault(),!!_.trim()){J(!0);try{(await ua.updateComment(l.$id,{content:_.trim()})).success&&(S(!1),o&&o(l.$id,_.trim()))}catch(K){console.error("Error updating comment:",K)}finally{J(!1)}}},N=async()=>{if(!(!W||le)){ne(!0);try{const B=l.pinned?await ua.unpinComment(l.$id,i,h.$id):await ua.pinComment(l.$id,i,h.$id);B.success?(l.pinned=!l.pinned,l.pinnedAt=l.pinned?new Date().toISOString():null,R(!1)):console.error("Error toggling pin:",B.error)}catch(B){console.error("Error toggling pin:",B)}finally{ne(!1)}}},V=async()=>{if(window.confirm("Are you sure you want to delete this comment?"))try{(await ua.deleteComment(l.$id)).success&&d&&d(l.$id)}catch(B){console.error("Error deleting comment:",B)}},F=Math.min(m,5),ce=F>0?`ml-${Math.min(F*4,16)} border-l-2 border-gray-200 pl-4`:"";return a.jsxs("div",{className:ce,children:[a.jsxs("div",{id:`comment-${l.$id}`,className:`bg-white rounded-lg shadow-sm border p-3 mb-2 transition-colors duration-300 ${l.pinned?"border-blue-300 bg-blue-50/30 shadow-md":"border-gray-200"} ${F>0?"bg-gray-50/50":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsxs("div",{className:"relative",children:[l.userProfile?.avatar?a.jsx("img",{src:pt.getProfilePhotoUrl(l.userProfile.avatar),alt:l.userName||"User",className:"w-6 h-6 rounded-full object-cover border-2 border-white shadow-sm",onError:B=>{B.target.style.display="none",B.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:`w-6 h-6 bg-gradient-to-br ${Y(l.userName)} rounded-full flex items-center justify-center text-white font-medium text-xs ${l.userProfile?.avatar?"hidden":""}`,children:l.userName?l.userName.charAt(0).toUpperCase():"U"}),fe&&a.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-amber-500 rounded-full flex items-center justify-center",children:a.jsx(Th,{className:"w-1.5 h-1.5 text-white"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-gray-900",children:l.userName||"Anonymous"}),fe&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-700 text-xs font-medium rounded",children:[a.jsx(Th,{className:"w-3 h-3"}),"Owner"]}),l.pinned&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-medium rounded",children:[a.jsx(Mh,{className:"w-3 h-3"}),"Pinned"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[a.jsx("span",{children:L(l.createdAt)}),l.updatedAt!==l.createdAt&&a.jsx("span",{className:"text-blue-500",children:"(edited)"})]})]})]}),(U||$||W)&&a.jsxs("div",{className:"relative",children:[a.jsx("button",{onClick:()=>R(!H),className:"p-1 text-gray-400 hover:text-blue-500 rounded transition-colors",children:a.jsx(jv,{className:"w-4 h-4"})}),H&&a.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg py-1 z-10 min-w-[100px]",children:[U&&a.jsxs("button",{onClick:()=>{S(!0),R(!1)},className:"w-full px-3 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[a.jsx(bp,{className:"w-3 h-3"}),"Edit"]}),W&&a.jsxs("button",{onClick:()=>{N(),R(!1)},disabled:le,className:"w-full px-3 py-2 text-left text-sm text-blue-600 hover:bg-blue-50 flex items-center gap-2 disabled:opacity-50",children:[a.jsx(Mh,{className:"w-3 h-3"}),le?"Processing...":l.pinned?"Unpin":"Pin"]}),$&&a.jsxs("button",{onClick:()=>{V(),R(!1)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(fu,{className:"w-3 h-3"}),"Delete"]})]})]})]}),T?a.jsxs("form",{onSubmit:je,className:"mb-3",children:[a.jsx("textarea",{value:_,onChange:B=>I(B.target.value),className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,required:!0}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{type:"submit",disabled:ee||!_.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 text-sm font-medium",children:ee?"Saving...":"Save"}),a.jsx("button",{type:"button",onClick:()=>{S(!1),I(l.content)},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm font-medium",children:"Cancel"})]})]}):a.jsx("div",{className:"mb-3",children:a.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:l.content})}),!T&&h&&a.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-100",children:[a.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium text-sm transition-colors",children:[a.jsx(Qv,{className:"w-4 h-4"}),"Reply"]}),l.replies&&l.replies.length>0&&a.jsxs("span",{className:"text-sm text-gray-500",children:[l.replies.length," ",l.replies.length===1?"reply":"replies"]})]}),p&&h&&a.jsxs("form",{onSubmit:ie,className:"mt-4 border-t border-gray-100 pt-4",children:[m>0&&a.jsxs("div",{className:"mb-3 text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded-lg",children:[a.jsxs("span",{className:"font-medium",children:["Replying to ",l.userProfile?.name||l.userName||"User"]}),a.jsx("span",{className:"ml-2 text-gray-500",children:'"'}),a.jsx("span",{className:"text-gray-700 italic",children:l.content.length>50?l.content.substring(0,50)+"...":l.content}),a.jsx("span",{className:"text-gray-500",children:'"'})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[ge?.avatar?a.jsx("img",{src:pt.getProfilePhotoUrl(ge.avatar),alt:h.name||"User",className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:B=>{B.target.style.display="none",B.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${Y(h.name)} rounded-full flex items-center justify-center text-white font-medium text-sm ${ge?.avatar?"hidden":""}`,children:h.name?h.name.charAt(0).toUpperCase():"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:y,onChange:B=>j(B.target.value),className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2,placeholder:"Write a reply...",required:!0}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx("button",{type:"submit",disabled:C||!y.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-sm font-medium",children:C?"Posting...":"Reply"}),a.jsx("button",{type:"button",onClick:()=>{g(!1),j("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 text-sm font-medium",children:"Cancel"})]})]})]})]})]}),l.replies&&l.replies.length>0&&a.jsx("div",{className:"space-y-0",children:l.replies.map(B=>a.jsx(Up,{comment:B,propertyOwnerId:i,onReply:c,onEdit:o,onDelete:d,onReplySubmit:f,level:m+1},B.$id))})]})},Kb=({propertyId:l,propertyOwnerId:i,propertyTitle:c,onCommentSubmit:o})=>{const{user:d}=ut(),[f,m]=b.useState(""),[h,p]=b.useState(!1),[g,y]=b.useState(null);b.useEffect(()=>{(async()=>{if(d)try{const H=await pt.getUserProfile(d.$id);y(H)}catch(H){console.warn("Failed to load user profile:",H)}})()},[d]);const j=M=>{if(!M)return"from-blue-500 to-blue-600";const H=["from-blue-500 to-blue-600","from-blue-400 to-blue-500","from-indigo-500 to-blue-600","from-cyan-500 to-blue-500","from-blue-600 to-indigo-600","from-slate-500 to-blue-600"],R=M.charCodeAt(0)%H.length;return H[R]},C=async M=>{if(M.preventDefault(),!(!f.trim()||!d)){p(!0);try{const H={content:f.trim(),userId:d.$id,userName:d.name||d.email,propertyId:l,propertyOwnerId:i,propertyTitle:c,parentCommentId:null},R=await ua.createComment(H);R.success?(m(""),o&&o(R.data)):(console.error("Comment submission failed:",R.error),alert("Failed to submit comment: "+R.error))}catch(H){console.error("Error submitting comment:",H),alert("Error submitting comment: "+H.message)}finally{p(!1)}}};return d?a.jsx("form",{onSubmit:C,className:"bg-white border border-gray-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[g?.avatar?a.jsx("img",{src:pt.getProfilePhotoUrl(g.avatar),alt:d.name||"User",className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:M=>{M.target.style.display="none",M.target.nextSibling.style.display="flex"}}):null,a.jsx("div",{className:`w-8 h-8 bg-gradient-to-br ${j(d.name)} rounded-full flex items-center justify-center text-white font-medium text-sm ${g?.avatar?"hidden":""}`,children:d.name?d.name.charAt(0).toUpperCase():"U"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("textarea",{value:f,onChange:M=>m(M.target.value),className:"w-full p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"Share your thoughts about this property...",required:!0}),a.jsx("div",{className:"flex justify-end mt-3",children:a.jsxs("button",{type:"submit",disabled:h||!f.trim(),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:[a.jsx(eb,{className:"w-4 h-4"}),h?"Posting...":"Post Comment"]})})]})]})}):a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:[a.jsx(vp,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to leave a comment"}),a.jsx("button",{onClick:()=>window.location.href="/login",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Log In"})]})},Jb=()=>{const{id:l}=Gh(),i=at(),c=ct(),{user:o}=ut(),{refreshNotifications:d}=zs(),[f,m]=b.useState(null),[h,p]=b.useState(!0),[g,y]=b.useState(0),[j,C]=b.useState(!1),[M,H]=b.useState(!1),[R,T]=b.useState(null),[S,_]=b.useState(!1),[I,ee]=b.useState(1),[J,ge]=b.useState(!1),[ae,le]=b.useState(!1),[ne,fe]=b.useState(!1),[de,ve]=b.useState(!1),[U,$]=b.useState([]),[W,L]=b.useState(!1),[Y,ie]=b.useState(null),[je,N]=b.useState(!1),[V,se]=b.useState(!1),[F,ce]=b.useState([]),[B,K]=b.useState(!1),[me,be]=b.useState(null),[Re,xt]=b.useState(!1),Hn=X=>{const te=document.getElementById(`comment-${X}`);te&&(te.scrollIntoView({behavior:"smooth",block:"center"}),te.classList.add("bg-yellow-100"),setTimeout(()=>{te.classList.remove("bg-yellow-100")},3e3))},da=o&&f&&f.ownerId===o.$id,Ps=X=>{if(!X)return"";const te=X.replace(/\D/g,"");return te.length===10?`(${te.slice(0,3)}) ${te.slice(3,6)}-${te.slice(6)}`:X},Bn=async(X,te)=>{try{await navigator.clipboard.writeText(X),te==="phone"?(ge(!0),setTimeout(()=>ge(!1),2e3)):te==="email"&&(le(!0),setTimeout(()=>le(!1),2e3))}catch(st){console.error("Failed to copy: ",st)}},Er=async()=>{if(!o){i("/login",{state:{from:c}});return}H(!0);try{const X=await Zt.toggleFavorite(o.$id,l);X.success?C(X.isFavorited):console.error("Error toggling favorite:",X.error)}catch(X){console.error("Error toggling favorite:",X)}finally{H(!1)}};console.log("PropertyDetail component rendered with ID:",l),b.useEffect(()=>{const X=setTimeout(()=>{h&&(T("Request timed out. Please try again."),p(!1))},1e4);return()=>clearTimeout(X)},[h]),b.useEffect(()=>{Bs()},[l]);const Cr=async()=>{await Bs(),o&&d()};b.useEffect(()=>{if(!S)return;const X=te=>{switch(te.key){case"Escape":dt();break;case"ArrowLeft":f?.images&&f.images.length>1&&fa();break;case"ArrowRight":f?.images&&f.images.length>1&&Is();break;case"+":case"=":Ql();break;case"-":Kl();break;case"0":Jl();break}};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[S,f?.images]);const _t=async()=>{try{L(!0);const X=await Zt.getFeaturedProperties(6);if(X&&X.success){const te=X.data.documents.filter(st=>st.$id!==l);$(te.slice(0,5))}}catch(X){console.error("Error loading other properties:",X)}finally{L(!1)}},Ar=async X=>{try{N(!0),console.log("Loading owner profile for ownerId:",X);const te=await qa(X);console.log("Owner profile loaded:",te),te&&te.avatar?console.log("Owner has avatar:",te.avatar):console.log("Owner has no avatar or profile is null"),ie(te)}catch(te){console.error("Error loading owner profile:",te),ie(null)}finally{N(!1)}},Hs=async()=>{try{K(!0),be(null);const X=await ua.getPropertyCommentsWithReplies(l);X.success?ce(X.data):be(X.error)}catch(X){console.error("Error loading comments:",X),be("Failed to load comments")}finally{K(!1)}};b.useEffect(()=>{const te=new URLSearchParams(c.search).get("commentId"),st=c.hash;te&&F.length>0&&!B?(xt(!0),setTimeout(()=>{Hn(te),xt(!1)},2e3)):st==="#comments"&&F.length>0&&!B&&(xt(!0),setTimeout(()=>{const Je=document.getElementById("comments-section");Je&&Je.scrollIntoView({behavior:"smooth",block:"start"}),xt(!1)},2e3))},[F,B,c.search,c.hash]);const Zl=X=>{ce(te=>[X,...te])},In=X=>{ce(te=>te.map(st=>st.$id===X.parentCommentId?{...st,replies:[...st.replies||[],X]}:st))},Tr=(X,te)=>{ce(st=>st.map(Je=>{if(Je.$id===X)return{...Je,content:te,updatedAt:new Date().toISOString()};if(Je.replies){const Yn=Je.replies.map(xn=>xn.$id===X?{...xn,content:te,updatedAt:new Date().toISOString()}:xn);return{...Je,replies:Yn}}return Je}))},Xl=X=>{ce(te=>te.filter(Je=>Je.$id!==X).map(Je=>({...Je,replies:Je.replies?Je.replies.filter(Yn=>Yn.$id!==X):[]})))},Bs=async()=>{try{if(p(!0),T(null),console.log("Loading property with ID:",l),!l)throw new Error("Property ID is missing");console.log("Testing API connection...");const X=await Sp(l);if(console.log("Raw API response:",X),X&&X.success){if(m(X.data),console.log("Property loaded successfully:",X.data),o)try{const te=await Zt.isFavorited(o.$id,l);te.success&&C(te.isFavorited)}catch(te){console.warn("Failed to check favorite status:",te)}try{await mu.trackView(l,o?.$id);const te=await Zt.incrementPropertyViews(l);!te.success&&te.needsSetup&&console.warn("View tracking setup needed. Please check APPWRITE_SETUP_VIEWS.md for instructions.")}catch(te){console.warn("Analytics tracking failed:",te)}X.data.ownerId&&Ar(X.data.ownerId),_t(),Hs()}else{const te=X?.error||"Property not found or API error";console.error("API returned error:",te),T(te),m(null)}}catch(X){console.error("Exception during property loading:",X),T(`Network error: ${X.message}`),m(null)}finally{p(!1)}},Is=()=>{f?.images&&y(X=>X===f.images.length-1?0:X+1)},fa=()=>{f?.images&&y(X=>X===0?f.images.length-1:X-1)},nt=X=>X?Zt.getImageUrl(X):"/api/placeholder/800/600",aa=()=>{_(!0),ee(1)},dt=()=>{_(!1),ee(1)},Ql=()=>{ee(X=>Math.min(X+.5,3))},Kl=()=>{ee(X=>Math.max(X-.5,.5))},Jl=()=>{ee(1)},$n=()=>{fe(!0)},On=()=>{fe(!1),ve(!1)},ma=async()=>{const X=window.location.href;try{await navigator.clipboard.writeText(X),ve(!0),setTimeout(()=>ve(!1),2e3)}catch(te){console.error("Failed to copy URL:",te)}},Gn=()=>{const X=encodeURIComponent(`Check out this property: ${f.title}`),te=encodeURIComponent(`I found this amazing property that might interest you:

${f.title}
Location: ${f.location}
Price: $${f.price?.toLocaleString()}/month

View details: ${window.location.href}`);window.open(`mailto:?subject=${X}&body=${te}`)},pn=()=>{const X=encodeURIComponent(window.location.href);window.open(`https://www.facebook.com/sharer/sharer.php?u=${X}`,"_blank")},Mr=()=>{const X=encodeURIComponent(`Check out this property: ${f.title} - $${f.price?.toLocaleString()}/month`),te=encodeURIComponent(window.location.href);window.open(`https://twitter.com/intent/tweet?text=${X}&url=${te}`,"_blank")},Wl=()=>{const X=encodeURIComponent(`Check out this property: ${f.title}
Location: ${f.location}
Price: $${f.price?.toLocaleString()}/month

${window.location.href}`);window.open(`https://wa.me/?text=${X}`,"_blank")},Vn=async X=>{if(!(!da||!f))try{se(!0),(await Db(f.$id,X)).success?(m(st=>({...st,status:X})),alert(`Property status updated to ${X}`)):alert("Failed to update property status. Please try again.")}catch(te){console.error("Error updating property status:",te),alert("An error occurred while updating the property status.")}finally{se(!1)}};return h?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading property details..."})]})}):R?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-2",children:"Error Loading Property"}),a.jsx("p",{className:"text-gray-600 mb-4",children:R}),a.jsxs("div",{className:"space-x-4",children:[a.jsx("button",{onClick:Bs,className:"btn-primary",children:"Try Again"}),a.jsx("button",{onClick:()=>i("/properties"),className:"btn-secondary",children:"Back to Properties"})]})]})}):f?a.jsx(Nr,{onRefresh:Cr,children:a.jsxs("div",{className:"min-h-screen bg-gray-50 relative",children:[Re&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-8 flex flex-col items-center space-y-4 shadow-xl",children:[a.jsx(Us,{className:"w-12 h-12 text-blue-600"}),a.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),a.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Taking you to comments"})]})}),a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container-responsive py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${f?.listingType==="rent"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:f?.listingType==="rent"?"For Rent":"For Sale"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:Er,disabled:M,className:`p-2 rounded-lg transition-colors duration-200 ${j?"text-red-500":"text-gray-400 hover:text-red-500"} ${M?"opacity-50 cursor-not-allowed":""}`,children:a.jsx(rn,{className:`w-6 h-6 ${j?"fill-current":""}`})}),a.jsx("button",{onClick:$n,className:"p-2 rounded-lg text-gray-400 hover:text-gray-600 transition-colors duration-200",title:"Share property",children:a.jsx(nb,{className:"w-6 h-6"})})]})]})})}),a.jsx("div",{className:"container-responsive py-4 sm:py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsxs("div",{className:"relative w-full h-96 rounded-xl overflow-hidden bg-gray-200 cursor-pointer group",onClick:aa,children:[a.jsx("img",{src:f.images?.[g]?nt(f.images[g]):"/api/placeholder/800/600",alt:f.title,className:"w-full h-full object-cover transition-transform duration-200 group-hover:scale-105"}),a.jsx("div",{className:"absolute top-4 right-4 bg-black/50 text-white p-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:a.jsx(kh,{className:"w-5 h-5"})})]}),f.images&&f.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:fa,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg",children:a.jsx(eu,{className:"w-5 h-5"})}),a.jsx("button",{onClick:Is,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/80 hover:bg-white p-2 rounded-full shadow-lg",children:a.jsx(tu,{className:"w-5 h-5"})}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex gap-2",children:f.images.map((X,te)=>a.jsx("button",{onClick:()=>y(te),className:`w-2 h-2 rounded-full ${te===g?"bg-white":"bg-white/50"}`},te))})]})]}),a.jsxs("div",{className:"card p-6 mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:f.title}),a.jsxs("div",{className:"flex items-center text-gray-600 mb-2",children:[a.jsx(Pn,{className:"w-5 h-5 mr-2"}),f.location]}),a.jsxs("div",{className:"flex items-center text-gray-500 mb-4",children:[a.jsx(Fc,{className:"w-5 h-5 mr-2"}),a.jsxs("span",{className:"text-sm",children:["Posted ",Dp(f.$createdAt||f.createdAt)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:["$",f.price?.toLocaleString(),f.listingType==="rent"&&a.jsx("span",{className:"text-lg text-gray-600",children:"/month"})]}),a.jsx("div",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${f.status==="available"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.status==="available"?"Available":f.status==="rented"?f.listingType==="sale"?"Sold":"Rented":f.status.charAt(0).toUpperCase()+f.status.slice(1)})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 py-4 border-t border-b border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yp,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"font-medium",children:f.bedrooms}),a.jsx("span",{className:"text-gray-600",children:"Bedrooms"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gp,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"font-medium",children:f.bathrooms}),a.jsx("span",{className:"text-gray-600",children:"Bathrooms"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jp,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"font-medium",children:f.area}),a.jsx("span",{className:"text-gray-600",children:"sq ft"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xt,{className:"w-5 h-5 text-gray-400"}),a.jsxs("span",{className:"font-medium",children:[f.views!==void 0?f.views.toLocaleString():"0",f.views===void 0&&a.jsx("span",{className:"text-xs text-gray-400 ml-1",children:"(setup needed)"})]}),a.jsx("span",{className:"text-gray-600",children:"Views"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-600 leading-relaxed",children:f.description||"No description available."})]}),f.amenities&&f.amenities.length>0&&a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Amenities"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-2",children:f.amenities.map((X,te)=>a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"}),X]},te))})]})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"card p-6 mb-6 relative",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Owner"}),o?a.jsx(a.Fragment,{children:je?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full animate-pulse"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-2/3"})]})]}):Y?a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>i(`/properties?owner=${f.ownerId}`),title:"View all properties by this owner",children:[a.jsxs("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:[Y.avatar&&Y.avatar.trim()!==""?a.jsx("img",{src:pt.getProfilePhotoUrl(Y.avatar),alt:`${Y.firstName} ${Y.lastName}`,className:"w-full h-full object-cover",onLoad:()=>{console.log("Profile photo loaded successfully for:",Y.avatar)},onError:X=>{console.error("Failed to load profile photo. Avatar field:",Y.avatar),console.error("Generated URL:",pt.getProfilePhotoUrl(Y.avatar)),console.error("Owner profile data:",Y),X.target.style.display="none";const te=X.target.parentNode.querySelector(".fallback-icon");te&&(te.style.display="flex")}}):console.log("No valid avatar field in owner profile. Avatar value:",Y?.avatar,"Profile:",Y),a.jsx(zn,{className:`w-6 h-6 text-gray-400 fallback-icon ${Y.avatar&&Y.avatar.trim()!==""?"hidden":"flex"}`,style:{display:Y.avatar&&Y.avatar.trim()!==""?"none":"flex"}})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-semibold text-gray-900",children:[Y.firstName," ",Y.lastName]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[Y.isLandlord?"Professional Landlord":"Property Owner",Y.verified&&a.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Verified"})]}),Y.bio&&a.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:Y.bio})]})]}):a.jsx("div",{className:"text-gray-500 text-center py-4",children:"Owner information not available"})}):a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"filter blur-sm pointer-events-none",children:a.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx(zn,{className:"w-6 h-6 text-gray-400"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"John Doe"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Property Owner"})]})]})}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/80 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qn,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-700 font-medium mb-3",children:"Login to view owner details"}),a.jsx("button",{onClick:()=>i("/login",{state:{from:c}}),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Login"})]})})]})]}),a.jsxs("div",{className:"card p-6 mb-6 relative",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:da?"Property Management":"Contact Property Manager"}),da&&a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Rh,{className:"w-5 h-5 text-blue-600"}),a.jsx("span",{className:"font-medium text-blue-900",children:"Owner Controls"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>i("/dashboard",{state:{defaultTab:"properties"}}),className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(Rh,{className:"w-4 h-4"}),"Go to Dashboard"]}),a.jsxs("div",{className:"border-t border-blue-200 pt-3",children:[a.jsx("p",{className:"text-sm text-blue-800 mb-2 font-medium",children:"Update Property Status:"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx("button",{onClick:()=>Vn("available"),disabled:V||f.status==="available",className:`px-3 py-2 text-xs font-medium rounded transition-colors ${f.status==="available"?"bg-green-100 text-green-800 border border-green-300":"bg-white text-green-700 border border-green-300 hover:bg-green-50"} disabled:opacity-50`,children:"Available"}),a.jsx("button",{onClick:()=>Vn("rented"),disabled:V||f.status==="rented",className:`px-3 py-2 text-xs font-medium rounded transition-colors ${f.status==="rented"?"bg-red-100 text-red-800 border border-red-300":"bg-white text-red-700 border border-red-300 hover:bg-red-50"} disabled:opacity-50`,children:f.listingType==="sale"?"Sold":"Rented"}),a.jsx("button",{onClick:()=>Vn("maintenance"),disabled:V||f.status==="maintenance",className:`px-3 py-2 text-xs font-medium rounded transition-colors ${f.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-white text-yellow-700 border border-yellow-300 hover:bg-yellow-50"} disabled:opacity-50`,children:"Maintenance"})]}),V&&a.jsxs("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[a.jsx("div",{className:"w-3 h-3 border border-blue-600 border-t-transparent rounded-full animate-spin"}),"Updating status..."]})]})]})]}),!o&&!da?a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"filter blur-sm pointer-events-none",children:[a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Da,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"(555) 123-4567"})]}),a.jsx("button",{className:"p-2 text-gray-400 rounded-md",children:a.jsx(Hl,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ln,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:"contact@example.com"})]}),a.jsx("button",{className:"p-2 text-gray-400 rounded-md",children:a.jsx(Hl,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"space-y-3",children:a.jsxs("button",{className:"w-full bg-green-600 text-white font-semibold py-3 px-4 rounded-lg flex items-center justify-center gap-2",children:[a.jsx(Da,{className:"w-5 h-5"}),"Call Now"]})})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white/90 rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(qn,{className:"w-8 h-8 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-700 font-medium mb-3",children:"Login to view contact details"}),a.jsx("button",{onClick:()=>i("/login",{state:{from:c}}),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Login"})]})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Da,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:f.contactPhone?Ps(f.contactPhone):"Phone not provided"})]}),f.contactPhone&&a.jsx("button",{onClick:()=>Bn(f.contactPhone,"phone"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-md hover:bg-gray-100",title:"Copy phone number",children:J?a.jsx(hr,{className:"w-4 h-4 text-green-600"}):a.jsx(Hl,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ln,{className:"w-5 h-5 text-gray-400"}),a.jsx("span",{className:"text-gray-600",children:f.contactEmail||"Email not provided"})]}),f.contactEmail&&a.jsx("button",{onClick:()=>Bn(f.contactEmail,"email"),className:"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-md hover:bg-gray-100",title:"Copy email address",children:ae?a.jsx(hr,{className:"w-4 h-4 text-green-600"}):a.jsx(Hl,{className:"w-4 h-4"})})]})]}),!da&&a.jsx("div",{className:"space-y-3",children:f.status==="available"?a.jsxs("button",{onClick:()=>window.open(`tel:${f.contactPhone}`),className:"w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center gap-2 shadow-md hover:shadow-lg transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:bg-green-600",disabled:!f.contactPhone,children:[a.jsx(Da,{className:"w-5 h-5"}),f.contactPhone?"Call Now":"Phone Not Available"]}):a.jsxs("button",{className:"w-full bg-red-600 text-white font-semibold py-3 px-4 rounded-lg cursor-not-allowed flex items-center justify-center gap-2 shadow-md",disabled:!0,children:[a.jsx(Da,{className:"w-5 h-5"}),f.status==="rented"?f.listingType==="sale"?"Sold":"Rented":f.status.charAt(0).toUpperCase()+f.status.slice(1)]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Details"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Property Type:"}),a.jsx("span",{className:"font-medium capitalize",children:f.type})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Available From:"}),a.jsx("span",{className:"font-medium",children:f.availableFrom?new Date(f.availableFrom).toLocaleDateString():"Immediately"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Lease Term:"}),a.jsx("span",{className:"font-medium",children:f.leaseTerm||"12 months"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Pet Policy:"}),a.jsx("span",{className:"font-medium",children:f.petFriendly?"Pets allowed":"No pets"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:"Parking:"}),a.jsx("span",{className:"font-medium",children:f.parking?"Included":"Not included"})]})]})]})]})]})}),a.jsx("div",{id:"comments-section",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(Us,{className:"w-5 h-5 text-blue-600"}),a.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Comments ",F.length>0&&`(${F.length})`]})]}),a.jsx("div",{className:"mb-4",children:a.jsx(Kb,{propertyId:l,propertyOwnerId:f?.ownerId,propertyTitle:f?.title,onCommentSubmit:Zl})}),B?a.jsx("div",{className:"space-y-4",children:[...Array(3)].map((X,te)=>a.jsxs("div",{className:"animate-pulse bg-white border border-gray-200 rounded-lg p-6",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-300 rounded w-1/6"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-full"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"})]})]},te))}):me?a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:me}),a.jsx("button",{onClick:Hs,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]}):F.length>0?a.jsx("div",{className:"space-y-3",children:F.map(X=>a.jsx(Up,{comment:X,propertyOwnerId:f?.ownerId,onEdit:Tr,onDelete:Xl,onReplySubmit:In},X.$id))}):a.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[a.jsx(Us,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No comments yet"}),a.jsx("p",{className:"text-gray-600",children:"Be the first to share your thoughts about this property!"})]})]})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Other Properties"}),W?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[...Array(4)].map((X,te)=>a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"bg-gray-300 h-48 rounded-lg mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/4"})]})]},te))}):U.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(X=>a.jsx($l,{property:X,size:"normal"},X.$id))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No other properties available at the moment."})})]})}),S&&a.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"relative max-w-7xl max-h-full w-full h-full flex items-center justify-center",children:[a.jsx("button",{onClick:dt,className:"absolute top-4 right-4 bg-white/20 hover:bg-white/30 text-white p-2 rounded-full z-10 transition-colors",children:a.jsx(Dt,{className:"w-6 h-6"})}),a.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 z-10",children:[a.jsx("button",{onClick:Kl,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition-colors",disabled:I<=.5,children:a.jsx(gb,{className:"w-5 h-5"})}),a.jsxs("button",{onClick:Jl,className:"bg-white/20 hover:bg-white/30 text-white px-3 py-2 rounded-full text-sm font-medium transition-colors",children:[Math.round(I*100),"%"]}),a.jsx("button",{onClick:Ql,className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-full transition-colors",disabled:I>=3,children:a.jsx(kh,{className:"w-5 h-5"})})]}),f.images&&f.images.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:X=>{X.stopPropagation(),fa()},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full z-10 transition-colors",children:a.jsx(eu,{className:"w-6 h-6"})}),a.jsx("button",{onClick:X=>{X.stopPropagation(),Is()},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-white/20 hover:bg-white/30 text-white p-3 rounded-full z-10 transition-colors",children:a.jsx(tu,{className:"w-6 h-6"})})]}),a.jsx("div",{className:"relative overflow-hidden max-w-full max-h-full",children:a.jsx("img",{src:f.images?.[g]?nt(f.images[g]):"/api/placeholder/800/600",alt:f.title,className:"max-w-full max-h-full object-contain transition-transform duration-200 cursor-move",style:{transform:`scale(${I})`},draggable:!1})}),f.images&&f.images.length>1&&a.jsxs("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-3 py-1 rounded-full text-sm",children:[g+1," / ",f.images.length]}),f.images&&f.images.length>1&&a.jsx("div",{className:"absolute bottom-16 left-1/2 transform -translate-x-1/2 flex gap-2 max-w-full overflow-x-auto px-4",children:f.images.map((X,te)=>a.jsx("button",{onClick:()=>y(te),className:`flex-shrink-0 w-16 h-12 rounded overflow-hidden border-2 transition-all ${te===g?"border-white":"border-white/30 hover:border-white/60"}`,children:a.jsx("img",{src:nt(f.images[te]),alt:`Thumbnail ${te+1}`,className:"w-full h-full object-cover"})},te))})]})}),ne&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Share Property"}),a.jsx("button",{onClick:On,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg transition-colors",children:a.jsx(Dt,{className:"w-5 h-5"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Property URL"}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:window.location.href})]}),a.jsx("button",{onClick:ma,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${de?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`,children:de?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hr,{className:"w-4 h-4"}),"Copied!"]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Hl,{className:"w-4 h-4"}),"Copy"]})})]})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-3",children:"Share via"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("button",{onClick:Gn,className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx(Ln,{className:"w-5 h-5 text-gray-600"}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Email"})]}),a.jsxs("button",{onClick:Wl,className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"W"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"})]}),a.jsxs("button",{onClick:pn,className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"f"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Facebook"})]}),a.jsxs("button",{onClick:Mr,className:"flex items-center gap-3 p-3 border rounded-lg hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-400 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-xs font-bold",children:"T"})}),a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Twitter"})]})]})]})]})]})})]})}):a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Property not found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The property you're looking for doesn't exist."}),a.jsx("button",{onClick:()=>i("/properties"),className:"btn-primary",children:"Back to Properties"})]})})},Lh=({defaultTab:l})=>{const{user:i}=ut(),{refreshNotifications:c}=zs(),o=ct(),d=at(),[f,m]=b.useState("overview"),[h,p]=b.useState([]),[g,y]=b.useState([]),[j,C]=b.useState({totalViews:0,totalFavorites:0,totalProperties:0}),[M,H]=b.useState({properties:!1,favorites:!1,analytics:!1}),[R,T]=b.useState(!1),[S,_]=b.useState(null);b.useEffect(()=>{const $=o.state?.defaultTab||l||"overview";m($)},[l,o.state]);const I=async()=>{if(i){H(U=>({...U,properties:!0}));try{const U=await Zt.getUserProperties(i.$id);U.success&&p(U.data.documents||[])}catch(U){console.error("Error loading user properties:",U)}finally{H(U=>({...U,properties:!1}))}}},ee=async()=>{if(i){H(U=>({...U,favorites:!0}));try{const U=await Zt.getUserFavorites(i.$id);U.success&&y(U.data.documents||[])}catch(U){console.error("Error loading user favorites:",U)}finally{H(U=>({...U,favorites:!1}))}}},J=async()=>{if(i){H(U=>({...U,analytics:!0}));try{const U=await mu.getUserPropertiesViews(i.$id);C({totalViews:U.success?U.totalViews:0,totalFavorites:g.length,totalProperties:h.length})}catch(U){console.error("Error loading analytics:",U)}finally{H(U=>({...U,analytics:!1}))}}};b.useEffect(()=>{i&&(I(),ee())},[i]),b.useEffect(()=>{i&&h.length>=0&&J()},[i,h,g]);const ge=async()=>{i&&(await Promise.all([I(),ee()]),c())},ae=(U,$)=>{$||y(W=>W.filter(L=>L.$id!==U))},le=U=>{d(`/property/edit/${U.$id}`)},ne=U=>{_(U),T(!0)},fe=async()=>{if(S)try{const U=await Zt.deleteProperty(S.$id);U.success?(p($=>$.filter(W=>W.$id!==S.$id)),C($=>({...$,totalProperties:$.totalProperties-1})),console.log("Property deleted successfully")):(console.error("Failed to delete property:",U.error),alert("Failed to delete property. Please try again."))}catch(U){console.error("Error deleting property:",U),alert("An error occurred while deleting the property.")}finally{T(!1),_(null)}},de=()=>{T(!1),_(null)},ve=[{id:"overview",label:"Overview",icon:au},{id:"properties",label:"My Properties",icon:Ds},{id:"favorites",label:"Favorites",icon:rn}];return i?a.jsx(Nr,{onRefresh:ge,children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),a.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",i.name||i.email,"!"]})]}),a.jsx("div",{className:"border-b border-gray-200 mb-8",children:a.jsx("nav",{className:"-mb-px flex space-x-8",children:ve.map(U=>{const $=U.icon;return a.jsxs("button",{onClick:()=>m(U.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm transition-colors ${f===U.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx($,{className:"w-4 h-4"}),U.label]},U.id)})})}),f==="overview"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Dashboard Overview"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Properties"}),M.properties?a.jsx("div",{className:"flex items-center justify-center w-16 h-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:h.length})]}),a.jsx(Ds,{className:"w-8 h-8 text-blue-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Views"}),M.analytics?a.jsx("div",{className:"flex items-center justify-center w-16 h-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-green-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:j.totalViews})]}),a.jsx(Xt,{className:"w-8 h-8 text-green-500"})]})}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Favorites"}),M.analytics?a.jsx("div",{className:"flex items-center justify-center w-16 h-8",children:a.jsx("div",{className:"w-6 h-6 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})}):a.jsx("span",{className:"text-3xl font-bold text-gray-900",children:j.totalFavorites})]}),a.jsx(rn,{className:"w-8 h-8 text-purple-500"})]})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>d("/property/new"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(_n,{className:"w-5 h-5"}),"Add New Property"]}),a.jsxs("button",{onClick:()=>m("properties"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(Ds,{className:"w-5 h-5"}),"Manage Properties"]}),a.jsxs("button",{onClick:()=>m("favorites"),className:"bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold py-3 px-4 rounded-lg transition-colors flex items-center justify-center gap-2",children:[a.jsx(rn,{className:"w-5 h-5"}),"View Favorites"]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),h.length>0?a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["You have ",h.length," active ",h.length===1?"property":"properties"]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Total views across all properties: ",j.totalViews]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsxs("span",{className:"text-sm text-gray-700",children:["Total favorites saved: ",j.totalFavorites]})]})]}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(au,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"No activity yet. Start by adding your first property!"}),a.jsxs("button",{onClick:()=>d("/property/new"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors inline-flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Property"]})]})]})]}),f==="properties"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"My Properties"}),a.jsxs("button",{onClick:()=>d("/property/new"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Property"]})]}),M.properties?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((U,$)=>a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"bg-gray-300 h-48 rounded-lg mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]},$))}):h.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(U=>a.jsx($l,{property:U,showActions:!0,onEdit:()=>le(U),onDelete:()=>ne(U)},U.$id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ds,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No properties yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Start by adding your first property to the platform."}),a.jsxs("button",{onClick:()=>d("/property/new"),className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors inline-flex items-center gap-2",children:[a.jsx(_n,{className:"w-4 h-4"}),"Add Your First Property"]})]})]}),f==="favorites"&&a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Favorite Properties"}),M.favorites?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((U,$)=>a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"bg-gray-300 h-48 rounded-lg mb-4"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"h-4 bg-gray-300 rounded w-3/4"}),a.jsx("div",{className:"h-4 bg-gray-300 rounded w-1/2"})]})]},$))}):g.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(U=>a.jsx($l,{property:U,onFavoriteToggle:ae},U.$id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(rn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No favorites yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Browse properties and save your favorites here."}),a.jsx("a",{href:"/properties",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Browse Properties"})]})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Confirm Deletion"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete "',S?.title,'"?',a.jsx("span",{className:"block mt-2 font-medium text-red-600",children:"This action cannot be undone and people will not be able to view your property anymore."})]}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:de,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),a.jsx("button",{onClick:fe,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})})]})}):a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsx("div",{className:"text-center",children:a.jsx("p",{className:"text-gray-600",children:"Please log in to view your dashboard."})})})},Wb=l=>!l||typeof l!="string"?!1:[/\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}/,/\+\d{1,3}[\s.-]?\(?\d{1,4}\)?[\s.-]?\d{1,4}[\s.-]?\d{1,9}/,/\b\d{10,}\b/,/\d{3,4}[\s.-]\d{3,4}[\s.-]\d{3,4}/,/\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}[\s]*(?:ext|extension|x)[\s]*\d+/i].some(c=>c.test(l)),Fb=l=>{if(!l||typeof l!="string")return[];const i=/\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}|\+\d{1,3}[\s.-]?\(?\d{1,4}\)?[\s.-]?\d{1,4}[\s.-]?\d{1,9}|\b\d{10,}\b/g;return l.match(i)||[]},_p=(l,i)=>{if(!["title","description","name","firstName","lastName","address","location"].includes(l))return{isValid:!0,message:""};if(Wb(i)){const o=Fb(i);return{isValid:!1,message:`Phone numbers are not allowed in the ${l} field. Please add your phone number in the designated phone number section only. Detected: ${o.join(", ")}`}}return{isValid:!0,message:""}},ej=()=>{const l=at(),{user:i}=ut(),[c,o]=b.useState(!1),[d,f]=b.useState([]),[m,h]=b.useState({title:"",description:"",price:"",location:"",address:"",zipCode:"",country:"United States",latitude:"",longitude:"",propertyType:"apartment",listingType:"rent",bedrooms:1,bathrooms:1,area:"",furnished:!1,petFriendly:!1,parking:!1,amenities:[],contactEmail:i?.email||"",contactPhone:"",status:"available"}),[p,g]=b.useState(""),[y,j]=b.useState({}),[C,M]=b.useState(!1),[H,R]=b.useState(!1);b.useEffect(()=>{(async()=>{if(i)try{const le=await qa();le&&le.phone&&h(ne=>({...ne,contactPhone:le.phone}))}catch(le){console.error("Error fetching user profile:",le)}})()},[i]);const T=ae=>{const{name:le,value:ne,type:fe,checked:de}=ae.target,ve=fe==="checkbox"?de:ne;if(h(U=>({...U,[le]:ve})),fe!=="checkbox"&&(le==="title"||le==="description")){const U=_p(le,ve);U.isValid?j($=>{const W={...$};return delete W[le],W}):(j($=>({...$,[le]:U.message})),M(!0),setTimeout(()=>M(!1),5e3))}},S=ae=>{const ne=Array.from(ae.target.files).map(fe=>({file:fe,preview:URL.createObjectURL(fe),id:Math.random().toString(36).substr(2,9)}));f(fe=>[...fe,...ne])},_=ae=>{f(le=>{const ne=le.filter(de=>de.id!==ae),fe=le.find(de=>de.id===ae);return fe&&URL.revokeObjectURL(fe.preview),ne})},I=()=>{p.trim()&&!m.amenities.includes(p.trim())&&(h(ae=>({...ae,amenities:[...ae.amenities,p.trim()]})),g(""))},ee=ae=>{h(le=>({...le,amenities:le.amenities.filter(ne=>ne!==ae)}))},J=async ae=>{const le=ae.target.value;h(ne=>({...ne,address:le})),le.length>5&&(clearTimeout(window.geocodeTimeout),window.geocodeTimeout=setTimeout(async()=>{R(!0);try{const ne=await Tp(le);ne.success&&h(fe=>({...fe,latitude:ne.data.latitude,longitude:ne.data.longitude}))}catch(ne){console.error("Error auto-geocoding address:",ne)}finally{R(!1)}},1e3))},ge=async ae=>{if(ae.preventDefault(),Object.keys(y).length>0){alert("Please fix the phone number validation errors before submitting."),M(!0);return}if(d.length===0){alert("Please upload at least one property image.");return}o(!0);try{let le=[];if(d.length>0){const de=d.map(U=>U.file),ve=await Ep(de);ve.success&&(le=ve.data.map(U=>U.$id))}const ne={...m,price:parseInt(m.price),bedrooms:parseInt(m.bedrooms),bathrooms:parseInt(m.bathrooms),area:parseInt(m.area),latitude:m.latitude?parseFloat(m.latitude):null,longitude:m.longitude?parseFloat(m.longitude):null,images:le,ownerId:i.$id,featured:!1},fe=await Cb(ne);fe.success?(d.forEach(de=>URL.revokeObjectURL(de.preview)),l("/dashboard")):alert("Error creating property: "+fe.error)}catch(le){console.error("Error creating property:",le),alert("Error creating property. Please try again.")}finally{o(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container-responsive py-4",children:a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("h1",{className:"heading-lg text-gray-900",children:"Add New Property"})})})}),a.jsxs("div",{className:"container-responsive py-8",children:[C&&a.jsx("div",{className:"max-w-4xl mx-auto mb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(wp,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Phone Number Not Allowed"}),a.jsx("p",{className:"text-sm text-red-700",children:"Please add your phone number in the designated phone number section only, not in other fields."})]}),a.jsx("button",{onClick:()=>M(!1),className:"text-red-400 hover:text-red-600",children:a.jsx(Dt,{className:"w-4 h-4"})})]})}),a.jsx("form",{onSubmit:ge,className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),a.jsx("input",{type:"text",name:"title",value:m.title,onChange:T,className:`input ${y.title?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,required:!0,placeholder:"e.g., Modern Downtown Apartment"}),y.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),a.jsxs("select",{name:"propertyType",value:m.propertyType,onChange:T,className:"input",required:!0,children:[a.jsx("option",{value:"apartment",children:"Apartment"}),a.jsx("option",{value:"house",children:"House"}),a.jsx("option",{value:"condo",children:"Condo"}),a.jsx("option",{value:"studio",children:"Studio"}),a.jsx("option",{value:"townhouse",children:"Townhouse"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Type *"}),a.jsxs("select",{name:"listingType",value:m.listingType,onChange:T,className:"input",required:!0,children:[a.jsx("option",{value:"rent",children:"For Rent"}),a.jsx("option",{value:"sale",children:"For Sale"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:m.listingType==="rent"?"Monthly Rent ($) *":"Sale Price ($) *"}),a.jsx("input",{type:"number",name:"price",value:m.price,onChange:T,className:"input",required:!0,min:"0",placeholder:m.listingType==="rent"?"1500":"250000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),a.jsx("select",{name:"bedrooms",value:m.bedrooms,onChange:T,className:"input",required:!0,children:[1,2,3,4,5,6].map(ae=>a.jsx("option",{value:ae,children:ae},ae))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),a.jsx("select",{name:"bathrooms",value:m.bathrooms,onChange:T,className:"input",required:!0,children:[1,1.5,2,2.5,3,3.5,4].map(ae=>a.jsx("option",{value:ae,children:ae},ae))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area (sq ft) *"}),a.jsx("input",{type:"number",name:"area",value:m.area,onChange:T,className:"input",required:!0,min:"0",placeholder:"850"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{name:"description",value:m.description,onChange:T,rows:4,className:`input ${y.description?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,required:!0,placeholder:"Describe your property..."}),y.description&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.description})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City/Area *"}),a.jsx("input",{type:"text",name:"location",value:m.location,onChange:T,className:"input",required:!0,placeholder:"e.g., Downtown, Suburbs"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:m.zipCode,onChange:T,className:"input",required:!0,placeholder:"e.g., 10001",pattern:"[0-9]{5}(-[0-9]{4})?",title:"Please enter a valid zip code (e.g., 12345 or 12345-6789)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),a.jsxs("select",{name:"country",value:m.country,onChange:T,className:"input",required:!0,children:[a.jsx("option",{value:"Afghanistan",children:"Afghanistan"}),a.jsx("option",{value:"Albania",children:"Albania"}),a.jsx("option",{value:"Algeria",children:"Algeria"}),a.jsx("option",{value:"Andorra",children:"Andorra"}),a.jsx("option",{value:"Angola",children:"Angola"}),a.jsx("option",{value:"Antigua and Barbuda",children:"Antigua and Barbuda"}),a.jsx("option",{value:"Argentina",children:"Argentina"}),a.jsx("option",{value:"Armenia",children:"Armenia"}),a.jsx("option",{value:"Australia",children:"Australia"}),a.jsx("option",{value:"Austria",children:"Austria"}),a.jsx("option",{value:"Azerbaijan",children:"Azerbaijan"}),a.jsx("option",{value:"Bahamas",children:"Bahamas"}),a.jsx("option",{value:"Bahrain",children:"Bahrain"}),a.jsx("option",{value:"Bangladesh",children:"Bangladesh"}),a.jsx("option",{value:"Barbados",children:"Barbados"}),a.jsx("option",{value:"Belarus",children:"Belarus"}),a.jsx("option",{value:"Belgium",children:"Belgium"}),a.jsx("option",{value:"Belize",children:"Belize"}),a.jsx("option",{value:"Benin",children:"Benin"}),a.jsx("option",{value:"Bhutan",children:"Bhutan"}),a.jsx("option",{value:"Bolivia",children:"Bolivia"}),a.jsx("option",{value:"Bosnia and Herzegovina",children:"Bosnia and Herzegovina"}),a.jsx("option",{value:"Botswana",children:"Botswana"}),a.jsx("option",{value:"Brazil",children:"Brazil"}),a.jsx("option",{value:"Brunei",children:"Brunei"}),a.jsx("option",{value:"Bulgaria",children:"Bulgaria"}),a.jsx("option",{value:"Burkina Faso",children:"Burkina Faso"}),a.jsx("option",{value:"Burundi",children:"Burundi"}),a.jsx("option",{value:"Cabo Verde",children:"Cabo Verde"}),a.jsx("option",{value:"Cambodia",children:"Cambodia"}),a.jsx("option",{value:"Cameroon",children:"Cameroon"}),a.jsx("option",{value:"Canada",children:"Canada"}),a.jsx("option",{value:"Central African Republic",children:"Central African Republic"}),a.jsx("option",{value:"Chad",children:"Chad"}),a.jsx("option",{value:"Chile",children:"Chile"}),a.jsx("option",{value:"China",children:"China"}),a.jsx("option",{value:"Colombia",children:"Colombia"}),a.jsx("option",{value:"Comoros",children:"Comoros"}),a.jsx("option",{value:"Congo",children:"Congo"}),a.jsx("option",{value:"Costa Rica",children:"Costa Rica"}),a.jsx("option",{value:"Croatia",children:"Croatia"}),a.jsx("option",{value:"Cuba",children:"Cuba"}),a.jsx("option",{value:"Cyprus",children:"Cyprus"}),a.jsx("option",{value:"Czech Republic",children:"Czech Republic"}),a.jsx("option",{value:"Democratic Republic of the Congo",children:"Democratic Republic of the Congo"}),a.jsx("option",{value:"Denmark",children:"Denmark"}),a.jsx("option",{value:"Djibouti",children:"Djibouti"}),a.jsx("option",{value:"Dominica",children:"Dominica"}),a.jsx("option",{value:"Dominican Republic",children:"Dominican Republic"}),a.jsx("option",{value:"Ecuador",children:"Ecuador"}),a.jsx("option",{value:"Egypt",children:"Egypt"}),a.jsx("option",{value:"El Salvador",children:"El Salvador"}),a.jsx("option",{value:"Equatorial Guinea",children:"Equatorial Guinea"}),a.jsx("option",{value:"Eritrea",children:"Eritrea"}),a.jsx("option",{value:"Estonia",children:"Estonia"}),a.jsx("option",{value:"Eswatini",children:"Eswatini"}),a.jsx("option",{value:"Ethiopia",children:"Ethiopia"}),a.jsx("option",{value:"Fiji",children:"Fiji"}),a.jsx("option",{value:"Finland",children:"Finland"}),a.jsx("option",{value:"France",children:"France"}),a.jsx("option",{value:"Gabon",children:"Gabon"}),a.jsx("option",{value:"Gambia",children:"Gambia"}),a.jsx("option",{value:"Georgia",children:"Georgia"}),a.jsx("option",{value:"Germany",children:"Germany"}),a.jsx("option",{value:"Ghana",children:"Ghana"}),a.jsx("option",{value:"Greece",children:"Greece"}),a.jsx("option",{value:"Grenada",children:"Grenada"}),a.jsx("option",{value:"Guatemala",children:"Guatemala"}),a.jsx("option",{value:"Guinea",children:"Guinea"}),a.jsx("option",{value:"Guinea-Bissau",children:"Guinea-Bissau"}),a.jsx("option",{value:"Guyana",children:"Guyana"}),a.jsx("option",{value:"Haiti",children:"Haiti"}),a.jsx("option",{value:"Honduras",children:"Honduras"}),a.jsx("option",{value:"Hungary",children:"Hungary"}),a.jsx("option",{value:"Iceland",children:"Iceland"}),a.jsx("option",{value:"India",children:"India"}),a.jsx("option",{value:"Indonesia",children:"Indonesia"}),a.jsx("option",{value:"Iran",children:"Iran"}),a.jsx("option",{value:"Iraq",children:"Iraq"}),a.jsx("option",{value:"Ireland",children:"Ireland"}),a.jsx("option",{value:"Israel",children:"Israel"}),a.jsx("option",{value:"Italy",children:"Italy"}),a.jsx("option",{value:"Ivory Coast",children:"Ivory Coast"}),a.jsx("option",{value:"Jamaica",children:"Jamaica"}),a.jsx("option",{value:"Japan",children:"Japan"}),a.jsx("option",{value:"Jordan",children:"Jordan"}),a.jsx("option",{value:"Kazakhstan",children:"Kazakhstan"}),a.jsx("option",{value:"Kenya",children:"Kenya"}),a.jsx("option",{value:"Kiribati",children:"Kiribati"}),a.jsx("option",{value:"Kuwait",children:"Kuwait"}),a.jsx("option",{value:"Kyrgyzstan",children:"Kyrgyzstan"}),a.jsx("option",{value:"Laos",children:"Laos"}),a.jsx("option",{value:"Latvia",children:"Latvia"}),a.jsx("option",{value:"Lebanon",children:"Lebanon"}),a.jsx("option",{value:"Lesotho",children:"Lesotho"}),a.jsx("option",{value:"Liberia",children:"Liberia"}),a.jsx("option",{value:"Libya",children:"Libya"}),a.jsx("option",{value:"Liechtenstein",children:"Liechtenstein"}),a.jsx("option",{value:"Lithuania",children:"Lithuania"}),a.jsx("option",{value:"Luxembourg",children:"Luxembourg"}),a.jsx("option",{value:"Madagascar",children:"Madagascar"}),a.jsx("option",{value:"Malawi",children:"Malawi"}),a.jsx("option",{value:"Malaysia",children:"Malaysia"}),a.jsx("option",{value:"Maldives",children:"Maldives"}),a.jsx("option",{value:"Mali",children:"Mali"}),a.jsx("option",{value:"Malta",children:"Malta"}),a.jsx("option",{value:"Marshall Islands",children:"Marshall Islands"}),a.jsx("option",{value:"Mauritania",children:"Mauritania"}),a.jsx("option",{value:"Mauritius",children:"Mauritius"}),a.jsx("option",{value:"Mexico",children:"Mexico"}),a.jsx("option",{value:"Micronesia",children:"Micronesia"}),a.jsx("option",{value:"Moldova",children:"Moldova"}),a.jsx("option",{value:"Monaco",children:"Monaco"}),a.jsx("option",{value:"Mongolia",children:"Mongolia"}),a.jsx("option",{value:"Montenegro",children:"Montenegro"}),a.jsx("option",{value:"Morocco",children:"Morocco"}),a.jsx("option",{value:"Mozambique",children:"Mozambique"}),a.jsx("option",{value:"Myanmar",children:"Myanmar"}),a.jsx("option",{value:"Namibia",children:"Namibia"}),a.jsx("option",{value:"Nauru",children:"Nauru"}),a.jsx("option",{value:"Nepal",children:"Nepal"}),a.jsx("option",{value:"Netherlands",children:"Netherlands"}),a.jsx("option",{value:"New Zealand",children:"New Zealand"}),a.jsx("option",{value:"Nicaragua",children:"Nicaragua"}),a.jsx("option",{value:"Niger",children:"Niger"}),a.jsx("option",{value:"Nigeria",children:"Nigeria"}),a.jsx("option",{value:"North Korea",children:"North Korea"}),a.jsx("option",{value:"North Macedonia",children:"North Macedonia"}),a.jsx("option",{value:"Norway",children:"Norway"}),a.jsx("option",{value:"Oman",children:"Oman"}),a.jsx("option",{value:"Pakistan",children:"Pakistan"}),a.jsx("option",{value:"Palau",children:"Palau"}),a.jsx("option",{value:"Palestine",children:"Palestine"}),a.jsx("option",{value:"Panama",children:"Panama"}),a.jsx("option",{value:"Papua New Guinea",children:"Papua New Guinea"}),a.jsx("option",{value:"Paraguay",children:"Paraguay"}),a.jsx("option",{value:"Peru",children:"Peru"}),a.jsx("option",{value:"Philippines",children:"Philippines"}),a.jsx("option",{value:"Poland",children:"Poland"}),a.jsx("option",{value:"Portugal",children:"Portugal"}),a.jsx("option",{value:"Qatar",children:"Qatar"}),a.jsx("option",{value:"Romania",children:"Romania"}),a.jsx("option",{value:"Russia",children:"Russia"}),a.jsx("option",{value:"Rwanda",children:"Rwanda"}),a.jsx("option",{value:"Saint Kitts and Nevis",children:"Saint Kitts and Nevis"}),a.jsx("option",{value:"Saint Lucia",children:"Saint Lucia"}),a.jsx("option",{value:"Saint Vincent and the Grenadines",children:"Saint Vincent and the Grenadines"}),a.jsx("option",{value:"Samoa",children:"Samoa"}),a.jsx("option",{value:"San Marino",children:"San Marino"}),a.jsx("option",{value:"Sao Tome and Principe",children:"Sao Tome and Principe"}),a.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),a.jsx("option",{value:"Senegal",children:"Senegal"}),a.jsx("option",{value:"Serbia",children:"Serbia"}),a.jsx("option",{value:"Seychelles",children:"Seychelles"}),a.jsx("option",{value:"Sierra Leone",children:"Sierra Leone"}),a.jsx("option",{value:"Singapore",children:"Singapore"}),a.jsx("option",{value:"Slovakia",children:"Slovakia"}),a.jsx("option",{value:"Slovenia",children:"Slovenia"}),a.jsx("option",{value:"Solomon Islands",children:"Solomon Islands"}),a.jsx("option",{value:"Somalia",children:"Somalia"}),a.jsx("option",{value:"South Africa",children:"South Africa"}),a.jsx("option",{value:"South Korea",children:"South Korea"}),a.jsx("option",{value:"South Sudan",children:"South Sudan"}),a.jsx("option",{value:"Spain",children:"Spain"}),a.jsx("option",{value:"Sri Lanka",children:"Sri Lanka"}),a.jsx("option",{value:"Sudan",children:"Sudan"}),a.jsx("option",{value:"Suriname",children:"Suriname"}),a.jsx("option",{value:"Sweden",children:"Sweden"}),a.jsx("option",{value:"Switzerland",children:"Switzerland"}),a.jsx("option",{value:"Syria",children:"Syria"}),a.jsx("option",{value:"Taiwan",children:"Taiwan"}),a.jsx("option",{value:"Tajikistan",children:"Tajikistan"}),a.jsx("option",{value:"Tanzania",children:"Tanzania"}),a.jsx("option",{value:"Thailand",children:"Thailand"}),a.jsx("option",{value:"Timor-Leste",children:"Timor-Leste"}),a.jsx("option",{value:"Togo",children:"Togo"}),a.jsx("option",{value:"Tonga",children:"Tonga"}),a.jsx("option",{value:"Trinidad and Tobago",children:"Trinidad and Tobago"}),a.jsx("option",{value:"Tunisia",children:"Tunisia"}),a.jsx("option",{value:"Turkey",children:"Turkey"}),a.jsx("option",{value:"Turkmenistan",children:"Turkmenistan"}),a.jsx("option",{value:"Tuvalu",children:"Tuvalu"}),a.jsx("option",{value:"Uganda",children:"Uganda"}),a.jsx("option",{value:"Ukraine",children:"Ukraine"}),a.jsx("option",{value:"United Arab Emirates",children:"United Arab Emirates"}),a.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),a.jsx("option",{value:"United States",children:"United States"}),a.jsx("option",{value:"Uruguay",children:"Uruguay"}),a.jsx("option",{value:"Uzbekistan",children:"Uzbekistan"}),a.jsx("option",{value:"Vanuatu",children:"Vanuatu"}),a.jsx("option",{value:"Vatican City",children:"Vatican City"}),a.jsx("option",{value:"Venezuela",children:"Venezuela"}),a.jsx("option",{value:"Vietnam",children:"Vietnam"}),a.jsx("option",{value:"Yemen",children:"Yemen"}),a.jsx("option",{value:"Zambia",children:"Zambia"}),a.jsx("option",{value:"Zimbabwe",children:"Zimbabwe"})]})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"address",value:m.address,onChange:J,className:"input",required:!0,placeholder:"123 Main Street, City, State"}),H&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"loading-spinner w-4 h-4"})})]})]})]}),m.latitude&&m.longitude&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Pn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Location coordinates found!"})]}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Lat: ",parseFloat(m.latitude).toFixed(6),", Lng: ",parseFloat(m.longitude).toFixed(6)]})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[" ",a.jsx("strong",{children:"Tip:"})," Use the search above to find your exact location, or manually enter the address. Coordinates will be automatically generated to enable location-based features."]})})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"furnished",checked:m.furnished,onChange:T,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Furnished"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"petFriendly",checked:m.petFriendly,onChange:T,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Pet Friendly"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"parking",checked:m.parking,onChange:T,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Parking Available"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:p,onChange:ae=>g(ae.target.value),className:"input flex-1",placeholder:"Add amenity (e.g., Swimming Pool, Gym)",onKeyPress:ae=>ae.key==="Enter"&&(ae.preventDefault(),I())}),a.jsx("button",{type:"button",onClick:I,className:"btn-secondary",children:a.jsx(_n,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.amenities.map((ae,le)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[ae,a.jsx("button",{type:"button",onClick:()=>ee(ae),className:"text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"w-3 h-3"})})]},le))})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images *"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("label",{className:"block",children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:S,className:"hidden"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 cursor-pointer",children:[a.jsx(Np,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB each"})]})]}),d.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-2",children:d.map(ae=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:ae.preview,alt:"Property",className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>_(ae.id),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:a.jsx(Dt,{className:"w-3 h-3"})})]},ae.id))})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",name:"contactEmail",value:m.contactEmail,onChange:T,className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone *"}),a.jsx("input",{type:"tel",name:"contactPhone",value:m.contactPhone,onChange:T,className:"input",required:!0,placeholder:"(555) 123-4567"})]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsx("button",{type:"submit",disabled:c,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:c?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"loading-spinner w-4 h-4"}),"Creating Property..."]}):"Create Property"})})]})]})})]})]})},tj=()=>{const l=at(),{id:i}=Gh(),{user:c}=ut(),[o,d]=b.useState(!1),[f,m]=b.useState(!0),[h,p]=b.useState([]),[g,y]=b.useState([]),[j,C]=b.useState({title:"",description:"",price:"",location:"",address:"",zipCode:"",country:"United States",latitude:"",longitude:"",propertyType:"apartment",bedrooms:1,bathrooms:1,area:"",furnished:!1,petFriendly:!1,parking:!1,amenities:[],contactEmail:c?.email||"",contactPhone:"",status:"available"}),[M,H]=b.useState(""),[R,T]=b.useState({}),[S,_]=b.useState(!1),[I,ee]=b.useState(!1);b.useEffect(()=>{i&&c?(async()=>{try{const $=await Sp(i);if($.success){const W=$.data;if(W.ownerId!==c.$id){alert("You can only edit your own properties."),l("/dashboard");return}let L="";if(!W.contactPhone)try{L=(await qa())?.phone||""}catch(Y){console.error("Error fetching user profile for fallback phone:",Y)}C({title:W.title||"",description:W.description||"",price:W.price?.toString()||"",location:W.location||"",address:W.address||"",zipCode:W.zipCode||"",country:W.country||"United States",latitude:W.latitude||"",longitude:W.longitude||"",propertyType:W.propertyType||"apartment",listingType:W.listingType||"rent",bedrooms:W.bedrooms||1,bathrooms:W.bathrooms||1,area:W.area?.toString()||"",furnished:W.furnished||!1,petFriendly:W.petFriendly||!1,parking:W.parking||!1,amenities:W.amenities||[],contactEmail:W.contactEmail||c?.email||"",contactPhone:W.contactPhone||L,status:W.status||"available"}),y(W.images||[])}else alert("Error loading property: "+$.error),l("/dashboard")}catch($){console.error("Error loading property:",$),alert("Error loading property. Please try again."),l("/dashboard")}finally{m(!1)}})():i||l("/dashboard")},[i,c,l]);const J=U=>{const{name:$,value:W,type:L,checked:Y}=U.target,ie=L==="checkbox"?Y:W;if(C(je=>({...je,[$]:ie})),L!=="checkbox"&&($==="title"||$==="description")){const je=_p($,ie);je.isValid?T(N=>{const V={...N};return delete V[$],V}):(T(N=>({...N,[$]:je.message})),_(!0),setTimeout(()=>_(!1),5e3))}},ge=U=>{const W=Array.from(U.target.files).map(L=>({file:L,preview:URL.createObjectURL(L),id:Math.random().toString(36).substr(2,9)}));p(L=>[...L,...W])},ae=U=>{p($=>$.filter(W=>W.id!==U))},le=U=>{y($=>$.filter(W=>W!==U))},ne=()=>{M.trim()&&!j.amenities.includes(M.trim())&&(C(U=>({...U,amenities:[...U.amenities,M.trim()]})),H(""))},fe=U=>{C($=>({...$,amenities:$.amenities.filter(W=>W!==U)}))},de=async U=>{const $=U.target.value;C(W=>({...W,address:$})),$.length>5&&(clearTimeout(window.geocodeTimeout),window.geocodeTimeout=setTimeout(async()=>{ee(!0);try{const W=await Tp($);W.success&&C(L=>({...L,latitude:W.data.latitude,longitude:W.data.longitude}))}catch(W){console.error("Error auto-geocoding address:",W)}finally{ee(!1)}},1e3))},ve=async U=>{if(U.preventDefault(),Object.keys(R).length>0){alert("Please fix the phone number validation errors before submitting."),_(!0);return}d(!0);try{let $=[];if(h.length>0){const ie=h.map(N=>N.file),je=await Ep(ie);je.success&&($=je.data.map(N=>N.$id))}const W=[...g,...$],L={...j,price:parseInt(j.price),bedrooms:parseInt(j.bedrooms),bathrooms:parseInt(j.bathrooms),area:parseInt(j.area),latitude:j.latitude?parseFloat(j.latitude):null,longitude:j.longitude?parseFloat(j.longitude):null,images:W},Y=await Tb(i,L);Y.success?(h.forEach(ie=>URL.revokeObjectURL(ie.preview)),l("/dashboard")):alert("Error updating property: "+Y.error)}catch($){console.error("Error updating property:",$),alert("Error updating property. Please try again.")}finally{d(!1)}};return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"loading-spinner w-8 h-8 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading property..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container-responsive py-4",children:a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("h1",{className:"heading-lg text-gray-900",children:"Edit Property"})})})}),a.jsxs("div",{className:"container-responsive py-8",children:[S&&a.jsx("div",{className:"max-w-4xl mx-auto mb-6",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[a.jsx(wp,{className:"w-5 h-5 text-red-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Phone Number Not Allowed"}),a.jsx("p",{className:"text-sm text-red-700",children:"Please add your phone number in the designated phone number section only, not in other fields."})]}),a.jsx("button",{onClick:()=>_(!1),className:"text-red-400 hover:text-red-600",children:a.jsx(Dt,{className:"w-4 h-4"})})]})}),a.jsx("form",{onSubmit:ve,className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Basic Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Title *"}),a.jsx("input",{type:"text",name:"title",value:j.title,onChange:J,className:`input ${R.title?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,required:!0,placeholder:"e.g., Modern Downtown Apartment"}),R.title&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.title})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Property Type *"}),a.jsxs("select",{name:"propertyType",value:j.propertyType,onChange:J,className:"input",required:!0,children:[a.jsx("option",{value:"apartment",children:"Apartment"}),a.jsx("option",{value:"house",children:"House"}),a.jsx("option",{value:"condo",children:"Condo"}),a.jsx("option",{value:"studio",children:"Studio"}),a.jsx("option",{value:"townhouse",children:"Townhouse"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Listing Type *"}),a.jsxs("select",{name:"listingType",value:j.listingType,onChange:J,className:"input",required:!0,children:[a.jsx("option",{value:"rent",children:"For Rent"}),a.jsx("option",{value:"sale",children:"For Sale"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:j.listingType==="rent"?"Monthly Rent ($) *":"Sale Price ($) *"}),a.jsx("input",{type:"number",name:"price",value:j.price,onChange:J,className:"input",required:!0,min:"0",placeholder:j.listingType==="rent"?"1500":"250000"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrooms *"}),a.jsx("select",{name:"bedrooms",value:j.bedrooms,onChange:J,className:"input",required:!0,children:[1,2,3,4,5,6].map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bathrooms *"}),a.jsx("select",{name:"bathrooms",value:j.bathrooms,onChange:J,className:"input",required:!0,children:[1,1.5,2,2.5,3,3.5,4].map(U=>a.jsx("option",{value:U,children:U},U))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Area (sq ft) *"}),a.jsx("input",{type:"number",name:"area",value:j.area,onChange:J,className:"input",required:!0,min:"0",placeholder:"850"})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description *"}),a.jsx("textarea",{name:"description",value:j.description,onChange:J,rows:4,className:`input ${R.description?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,required:!0,placeholder:"Describe your property..."}),R.description&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:R.description})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Location"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City/Area *"}),a.jsx("input",{type:"text",name:"location",value:j.location,onChange:J,className:"input",required:!0,placeholder:"e.g., Downtown, Suburbs"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Zip Code *"}),a.jsx("input",{type:"text",name:"zipCode",value:j.zipCode,onChange:J,className:"input",required:!0,placeholder:"e.g., 10001",pattern:"[0-9]{5}(-[0-9]{4})?",title:"Please enter a valid zip code (e.g., 12345 or 12345-6789)"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country *"}),a.jsxs("select",{name:"country",value:j.country,onChange:J,className:"input",required:!0,children:[a.jsx("option",{value:"Afghanistan",children:"Afghanistan"}),a.jsx("option",{value:"Albania",children:"Albania"}),a.jsx("option",{value:"Algeria",children:"Algeria"}),a.jsx("option",{value:"Andorra",children:"Andorra"}),a.jsx("option",{value:"Angola",children:"Angola"}),a.jsx("option",{value:"Antigua and Barbuda",children:"Antigua and Barbuda"}),a.jsx("option",{value:"Argentina",children:"Argentina"}),a.jsx("option",{value:"Armenia",children:"Armenia"}),a.jsx("option",{value:"Australia",children:"Australia"}),a.jsx("option",{value:"Austria",children:"Austria"}),a.jsx("option",{value:"Azerbaijan",children:"Azerbaijan"}),a.jsx("option",{value:"Bahamas",children:"Bahamas"}),a.jsx("option",{value:"Bahrain",children:"Bahrain"}),a.jsx("option",{value:"Bangladesh",children:"Bangladesh"}),a.jsx("option",{value:"Barbados",children:"Barbados"}),a.jsx("option",{value:"Belarus",children:"Belarus"}),a.jsx("option",{value:"Belgium",children:"Belgium"}),a.jsx("option",{value:"Belize",children:"Belize"}),a.jsx("option",{value:"Benin",children:"Benin"}),a.jsx("option",{value:"Bhutan",children:"Bhutan"}),a.jsx("option",{value:"Bolivia",children:"Bolivia"}),a.jsx("option",{value:"Bosnia and Herzegovina",children:"Bosnia and Herzegovina"}),a.jsx("option",{value:"Botswana",children:"Botswana"}),a.jsx("option",{value:"Brazil",children:"Brazil"}),a.jsx("option",{value:"Brunei",children:"Brunei"}),a.jsx("option",{value:"Bulgaria",children:"Bulgaria"}),a.jsx("option",{value:"Burkina Faso",children:"Burkina Faso"}),a.jsx("option",{value:"Burundi",children:"Burundi"}),a.jsx("option",{value:"Cabo Verde",children:"Cabo Verde"}),a.jsx("option",{value:"Cambodia",children:"Cambodia"}),a.jsx("option",{value:"Cameroon",children:"Cameroon"}),a.jsx("option",{value:"Canada",children:"Canada"}),a.jsx("option",{value:"Central African Republic",children:"Central African Republic"}),a.jsx("option",{value:"Chad",children:"Chad"}),a.jsx("option",{value:"Chile",children:"Chile"}),a.jsx("option",{value:"China",children:"China"}),a.jsx("option",{value:"Colombia",children:"Colombia"}),a.jsx("option",{value:"Comoros",children:"Comoros"}),a.jsx("option",{value:"Congo",children:"Congo"}),a.jsx("option",{value:"Costa Rica",children:"Costa Rica"}),a.jsx("option",{value:"Croatia",children:"Croatia"}),a.jsx("option",{value:"Cuba",children:"Cuba"}),a.jsx("option",{value:"Cyprus",children:"Cyprus"}),a.jsx("option",{value:"Czech Republic",children:"Czech Republic"}),a.jsx("option",{value:"Democratic Republic of the Congo",children:"Democratic Republic of the Congo"}),a.jsx("option",{value:"Denmark",children:"Denmark"}),a.jsx("option",{value:"Djibouti",children:"Djibouti"}),a.jsx("option",{value:"Dominica",children:"Dominica"}),a.jsx("option",{value:"Dominican Republic",children:"Dominican Republic"}),a.jsx("option",{value:"Ecuador",children:"Ecuador"}),a.jsx("option",{value:"Egypt",children:"Egypt"}),a.jsx("option",{value:"El Salvador",children:"El Salvador"}),a.jsx("option",{value:"Equatorial Guinea",children:"Equatorial Guinea"}),a.jsx("option",{value:"Eritrea",children:"Eritrea"}),a.jsx("option",{value:"Estonia",children:"Estonia"}),a.jsx("option",{value:"Eswatini",children:"Eswatini"}),a.jsx("option",{value:"Ethiopia",children:"Ethiopia"}),a.jsx("option",{value:"Fiji",children:"Fiji"}),a.jsx("option",{value:"Finland",children:"Finland"}),a.jsx("option",{value:"France",children:"France"}),a.jsx("option",{value:"Gabon",children:"Gabon"}),a.jsx("option",{value:"Gambia",children:"Gambia"}),a.jsx("option",{value:"Georgia",children:"Georgia"}),a.jsx("option",{value:"Germany",children:"Germany"}),a.jsx("option",{value:"Ghana",children:"Ghana"}),a.jsx("option",{value:"Greece",children:"Greece"}),a.jsx("option",{value:"Grenada",children:"Grenada"}),a.jsx("option",{value:"Guatemala",children:"Guatemala"}),a.jsx("option",{value:"Guinea",children:"Guinea"}),a.jsx("option",{value:"Guinea-Bissau",children:"Guinea-Bissau"}),a.jsx("option",{value:"Guyana",children:"Guyana"}),a.jsx("option",{value:"Haiti",children:"Haiti"}),a.jsx("option",{value:"Honduras",children:"Honduras"}),a.jsx("option",{value:"Hungary",children:"Hungary"}),a.jsx("option",{value:"Iceland",children:"Iceland"}),a.jsx("option",{value:"India",children:"India"}),a.jsx("option",{value:"Indonesia",children:"Indonesia"}),a.jsx("option",{value:"Iran",children:"Iran"}),a.jsx("option",{value:"Iraq",children:"Iraq"}),a.jsx("option",{value:"Ireland",children:"Ireland"}),a.jsx("option",{value:"Israel",children:"Israel"}),a.jsx("option",{value:"Italy",children:"Italy"}),a.jsx("option",{value:"Ivory Coast",children:"Ivory Coast"}),a.jsx("option",{value:"Jamaica",children:"Jamaica"}),a.jsx("option",{value:"Japan",children:"Japan"}),a.jsx("option",{value:"Jordan",children:"Jordan"}),a.jsx("option",{value:"Kazakhstan",children:"Kazakhstan"}),a.jsx("option",{value:"Kenya",children:"Kenya"}),a.jsx("option",{value:"Kiribati",children:"Kiribati"}),a.jsx("option",{value:"Kuwait",children:"Kuwait"}),a.jsx("option",{value:"Kyrgyzstan",children:"Kyrgyzstan"}),a.jsx("option",{value:"Laos",children:"Laos"}),a.jsx("option",{value:"Latvia",children:"Latvia"}),a.jsx("option",{value:"Lebanon",children:"Lebanon"}),a.jsx("option",{value:"Lesotho",children:"Lesotho"}),a.jsx("option",{value:"Liberia",children:"Liberia"}),a.jsx("option",{value:"Libya",children:"Libya"}),a.jsx("option",{value:"Liechtenstein",children:"Liechtenstein"}),a.jsx("option",{value:"Lithuania",children:"Lithuania"}),a.jsx("option",{value:"Luxembourg",children:"Luxembourg"}),a.jsx("option",{value:"Madagascar",children:"Madagascar"}),a.jsx("option",{value:"Malawi",children:"Malawi"}),a.jsx("option",{value:"Malaysia",children:"Malaysia"}),a.jsx("option",{value:"Maldives",children:"Maldives"}),a.jsx("option",{value:"Mali",children:"Mali"}),a.jsx("option",{value:"Malta",children:"Malta"}),a.jsx("option",{value:"Marshall Islands",children:"Marshall Islands"}),a.jsx("option",{value:"Mauritania",children:"Mauritania"}),a.jsx("option",{value:"Mauritius",children:"Mauritius"}),a.jsx("option",{value:"Mexico",children:"Mexico"}),a.jsx("option",{value:"Micronesia",children:"Micronesia"}),a.jsx("option",{value:"Moldova",children:"Moldova"}),a.jsx("option",{value:"Monaco",children:"Monaco"}),a.jsx("option",{value:"Mongolia",children:"Mongolia"}),a.jsx("option",{value:"Montenegro",children:"Montenegro"}),a.jsx("option",{value:"Morocco",children:"Morocco"}),a.jsx("option",{value:"Mozambique",children:"Mozambique"}),a.jsx("option",{value:"Myanmar",children:"Myanmar"}),a.jsx("option",{value:"Namibia",children:"Namibia"}),a.jsx("option",{value:"Nauru",children:"Nauru"}),a.jsx("option",{value:"Nepal",children:"Nepal"}),a.jsx("option",{value:"Netherlands",children:"Netherlands"}),a.jsx("option",{value:"New Zealand",children:"New Zealand"}),a.jsx("option",{value:"Nicaragua",children:"Nicaragua"}),a.jsx("option",{value:"Niger",children:"Niger"}),a.jsx("option",{value:"Nigeria",children:"Nigeria"}),a.jsx("option",{value:"North Korea",children:"North Korea"}),a.jsx("option",{value:"North Macedonia",children:"North Macedonia"}),a.jsx("option",{value:"Norway",children:"Norway"}),a.jsx("option",{value:"Oman",children:"Oman"}),a.jsx("option",{value:"Pakistan",children:"Pakistan"}),a.jsx("option",{value:"Palau",children:"Palau"}),a.jsx("option",{value:"Palestine",children:"Palestine"}),a.jsx("option",{value:"Panama",children:"Panama"}),a.jsx("option",{value:"Papua New Guinea",children:"Papua New Guinea"}),a.jsx("option",{value:"Paraguay",children:"Paraguay"}),a.jsx("option",{value:"Peru",children:"Peru"}),a.jsx("option",{value:"Philippines",children:"Philippines"}),a.jsx("option",{value:"Poland",children:"Poland"}),a.jsx("option",{value:"Portugal",children:"Portugal"}),a.jsx("option",{value:"Qatar",children:"Qatar"}),a.jsx("option",{value:"Romania",children:"Romania"}),a.jsx("option",{value:"Russia",children:"Russia"}),a.jsx("option",{value:"Rwanda",children:"Rwanda"}),a.jsx("option",{value:"Saint Kitts and Nevis",children:"Saint Kitts and Nevis"}),a.jsx("option",{value:"Saint Lucia",children:"Saint Lucia"}),a.jsx("option",{value:"Saint Vincent and the Grenadines",children:"Saint Vincent and the Grenadines"}),a.jsx("option",{value:"Samoa",children:"Samoa"}),a.jsx("option",{value:"San Marino",children:"San Marino"}),a.jsx("option",{value:"Sao Tome and Principe",children:"Sao Tome and Principe"}),a.jsx("option",{value:"Saudi Arabia",children:"Saudi Arabia"}),a.jsx("option",{value:"Senegal",children:"Senegal"}),a.jsx("option",{value:"Serbia",children:"Serbia"}),a.jsx("option",{value:"Seychelles",children:"Seychelles"}),a.jsx("option",{value:"Sierra Leone",children:"Sierra Leone"}),a.jsx("option",{value:"Singapore",children:"Singapore"}),a.jsx("option",{value:"Slovakia",children:"Slovakia"}),a.jsx("option",{value:"Slovenia",children:"Slovenia"}),a.jsx("option",{value:"Solomon Islands",children:"Solomon Islands"}),a.jsx("option",{value:"Somalia",children:"Somalia"}),a.jsx("option",{value:"South Africa",children:"South Africa"}),a.jsx("option",{value:"South Korea",children:"South Korea"}),a.jsx("option",{value:"South Sudan",children:"South Sudan"}),a.jsx("option",{value:"Spain",children:"Spain"}),a.jsx("option",{value:"Sri Lanka",children:"Sri Lanka"}),a.jsx("option",{value:"Sudan",children:"Sudan"}),a.jsx("option",{value:"Suriname",children:"Suriname"}),a.jsx("option",{value:"Sweden",children:"Sweden"}),a.jsx("option",{value:"Switzerland",children:"Switzerland"}),a.jsx("option",{value:"Syria",children:"Syria"}),a.jsx("option",{value:"Taiwan",children:"Taiwan"}),a.jsx("option",{value:"Tajikistan",children:"Tajikistan"}),a.jsx("option",{value:"Tanzania",children:"Tanzania"}),a.jsx("option",{value:"Thailand",children:"Thailand"}),a.jsx("option",{value:"Timor-Leste",children:"Timor-Leste"}),a.jsx("option",{value:"Togo",children:"Togo"}),a.jsx("option",{value:"Tonga",children:"Tonga"}),a.jsx("option",{value:"Trinidad and Tobago",children:"Trinidad and Tobago"}),a.jsx("option",{value:"Tunisia",children:"Tunisia"}),a.jsx("option",{value:"Turkey",children:"Turkey"}),a.jsx("option",{value:"Turkmenistan",children:"Turkmenistan"}),a.jsx("option",{value:"Tuvalu",children:"Tuvalu"}),a.jsx("option",{value:"Uganda",children:"Uganda"}),a.jsx("option",{value:"Ukraine",children:"Ukraine"}),a.jsx("option",{value:"United Arab Emirates",children:"United Arab Emirates"}),a.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),a.jsx("option",{value:"United States",children:"United States"}),a.jsx("option",{value:"Uruguay",children:"Uruguay"}),a.jsx("option",{value:"Uzbekistan",children:"Uzbekistan"}),a.jsx("option",{value:"Vanuatu",children:"Vanuatu"}),a.jsx("option",{value:"Vatican City",children:"Vatican City"}),a.jsx("option",{value:"Venezuela",children:"Venezuela"}),a.jsx("option",{value:"Vietnam",children:"Vietnam"}),a.jsx("option",{value:"Yemen",children:"Yemen"}),a.jsx("option",{value:"Zambia",children:"Zambia"}),a.jsx("option",{value:"Zimbabwe",children:"Zimbabwe"})]})]}),a.jsxs("div",{className:"md:col-span-3",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",name:"address",value:j.address,onChange:de,className:"input",required:!0,placeholder:"123 Main Street, City, State"}),I&&a.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:a.jsx("div",{className:"loading-spinner w-4 h-4"})})]})]})]}),j.latitude&&j.longitude&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[a.jsx(Pn,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Location coordinates found!"})]}),a.jsxs("p",{className:"text-xs text-green-600 mt-1",children:["Lat: ",parseFloat(j.latitude).toFixed(6),", Lng: ",parseFloat(j.longitude).toFixed(6)]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Features"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"furnished",checked:j.furnished,onChange:J,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Furnished"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"petFriendly",checked:j.petFriendly,onChange:J,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Pet Friendly"})]}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"parking",checked:j.parking,onChange:J,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Parking Available"})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Amenities"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("input",{type:"text",value:M,onChange:U=>H(U.target.value),className:"input flex-1",placeholder:"Add amenity (e.g., Swimming Pool, Gym)",onKeyPress:U=>U.key==="Enter"&&(U.preventDefault(),ne())}),a.jsx("button",{type:"button",onClick:ne,className:"btn-secondary",children:a.jsx(_n,{className:"w-4 h-4"})})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:j.amenities.map((U,$)=>a.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[U,a.jsx("button",{type:"button",onClick:()=>fe(U),className:"text-blue-600 hover:text-blue-800",children:a.jsx(Dt,{className:"w-3 h-3"})})]},$))})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Status"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Status *"}),a.jsxs("select",{name:"status",value:j.status,onChange:J,className:"input",required:!0,children:[a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"rented",children:j.listingType==="rent"?"Rented":"Sold"}),a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"unavailable",children:"Unavailable"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:['Mark as "',j.listingType==="rent"?"Rented":"Sold",'" when the property is no longer available.']})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Property Images"}),a.jsxs("div",{className:"space-y-4",children:[g.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Current Images"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:g.map((U,$)=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:`https://cloud.appwrite.io/v1/storage/buckets/property-images/files/${U}/view?project=68c4288c003b7b8b8b8b`,alt:`Property ${$+1}`,className:"w-full h-20 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>le(U),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Dt,{className:"w-3 h-3"})})]},U))})]}),a.jsxs("label",{className:"block",children:[a.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:ge,className:"hidden"}),a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-gray-400 cursor-pointer",children:[a.jsx(Np,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click to add more images"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 10MB each"})]})]}),h.length>0&&a.jsx("div",{className:"grid grid-cols-2 gap-2",children:h.map(U=>a.jsxs("div",{className:"relative group",children:[a.jsx("img",{src:U.preview,alt:"Preview",className:"w-full h-20 object-cover rounded-lg"}),a.jsx("button",{type:"button",onClick:()=>ae(U.id),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Dt,{className:"w-3 h-3"})})]},U.id))})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email *"}),a.jsx("input",{type:"email",name:"contactEmail",value:j.contactEmail,onChange:J,className:"input",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Phone"}),a.jsx("input",{type:"tel",name:"contactPhone",value:j.contactPhone,onChange:J,className:"input",placeholder:"(555) 123-4567"})]})]})]}),a.jsx("div",{className:"card p-6",children:a.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:o?a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("div",{className:"loading-spinner w-4 h-4"}),"Updating Property..."]}):"Update Property"})})]})]})})]})]})},aj=()=>{const l=at(),{user:i,logout:c}=ut(),[o,d]=b.useState(null),[f,m]=b.useState(!0),[h,p]=b.useState(!1),[g,y]=b.useState(!1),[j,C]=b.useState(!1),[M,H]=b.useState("profile"),[R,T]=b.useState({type:"",text:""}),[S,_]=b.useState({firstName:"",lastName:"",phone:"",bio:""}),[I,ee]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[J,ge]=b.useState({current:!1,new:!1,confirm:!1});b.useEffect(()=>{i&&ae()},[i]);const ae=async()=>{try{m(!0);const U=await pt.getUserProfile(i.$id);d(U),_({firstName:U.firstName||"",lastName:U.lastName||"",phone:U.phone||"",bio:U.bio||""})}catch(U){console.error("Error loading profile:",U),T({type:"error",text:"Failed to load profile"})}finally{m(!1)}},le=async U=>{U.preventDefault();try{p(!0),await pt.updateUserProfile(o.$id,S);const $=`${S.firstName} ${S.lastName}`.trim();$!==i.name&&await pt.updateName($),T({type:"success",text:"Profile updated successfully!"}),ae()}catch($){console.error("Error updating profile:",$),T({type:"error",text:"Failed to update profile"})}finally{p(!1)}},ne=async U=>{if(U.preventDefault(),I.newPassword!==I.confirmPassword){T({type:"error",text:"New passwords do not match"});return}if(I.newPassword.length<8){T({type:"error",text:"Password must be at least 8 characters long"});return}try{p(!0);const $=await pt.changePassword(I.currentPassword,I.newPassword);$.success?(T({type:"success",text:"Password changed successfully!"}),ee({currentPassword:"",newPassword:"",confirmPassword:""})):T({type:"error",text:$.error||"Failed to change password"})}catch($){console.error("Error changing password:",$),T({type:"error",text:"Failed to change password"})}finally{p(!1)}},fe=async U=>{const $=U.target.files[0];if(!$)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes($.type)){T({type:"error",text:"Please upload a valid image file (JPEG, PNG, or WebP)"});return}if($.size>5*1024*1024){T({type:"error",text:"Image size must be less than 5MB"});return}y(!0),C(!1);try{if(o.avatar)try{await pt.deleteProfilePhoto(o.avatar)}catch(Y){console.warn("Could not delete old photo:",Y)}const L=await pt.uploadProfilePhoto($);L.success?(await pt.updateUserProfile(o.$id,{avatar:L.fileId})).success?(d(ie=>({...ie,avatar:L.fileId})),T({type:"success",text:"Profile photo updated successfully!"})):T({type:"error",text:"Failed to update profile with new photo"}):T({type:"error",text:L.error||"Failed to upload photo"})}catch(L){console.error("Error uploading photo:",L),T({type:"error",text:"An error occurred while uploading the photo"})}finally{y(!1)}},de=U=>{ge($=>({...$,[U]:!$[U]}))},ve=()=>{T({type:"",text:""})};return f?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm",children:a.jsx("div",{className:"container-responsive py-4",children:a.jsx("div",{className:"flex items-center gap-4",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"})})})}),a.jsx("div",{className:"container-responsive py-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[R.text&&a.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center justify-between ${R.type==="success"?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center gap-2",children:[R.type==="success"?a.jsx(hr,{className:"w-5 h-5"}):a.jsx(Dt,{className:"w-5 h-5"}),R.text]}),a.jsx("button",{onClick:ve,className:"text-current hover:opacity-70",children:a.jsx(Dt,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsx("div",{className:"lg:col-span-1",children:a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-block",children:[a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden relative",children:g?a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"}),a.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Uploading..."})]}):o?.avatar&&!j?a.jsx("img",{src:pt.getProfilePhotoUrl(o.avatar),alt:"Profile",className:"w-full h-full object-cover",onError:()=>{console.error("Failed to load profile photo:",o.avatar),C(!0)},onLoad:()=>{console.log("Profile photo loaded successfully"),C(!1)}}):a.jsx(zn,{className:"w-12 h-12 text-gray-400"})}),a.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-2 rounded-full cursor-pointer hover:bg-blue-700 transition-colors",children:[a.jsx(sv,{className:"w-4 h-4"}),a.jsx("input",{type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:fe,className:"hidden",disabled:g})]}),g&&a.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"})})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mt-3",children:i?.name||"User"}),a.jsx("p",{className:"text-sm text-gray-600",children:i?.email})]}),a.jsxs("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>H("profile"),className:`w-full text-left px-4 py-2 rounded-lg transition-colors ${M==="profile"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:"Profile Information"}),a.jsx("button",{onClick:()=>H("security"),className:`w-full text-left px-4 py-2 rounded-lg transition-colors ${M==="security"?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:"Security"}),a.jsx("div",{className:"pt-4 border-t border-gray-200",children:a.jsxs("button",{onClick:()=>{c(),l("/login")},className:"w-full text-left px-4 py-2 rounded-lg transition-colors text-red-600 hover:bg-red-50 flex items-center gap-2",children:[a.jsx(_v,{className:"w-4 h-4"}),"Logout"]})})]})]})}),a.jsxs("div",{className:"lg:col-span-3",children:[M==="profile"&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),a.jsxs("form",{onSubmit:le,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),a.jsx("input",{type:"text",value:S.firstName,onChange:U=>_($=>({...$,firstName:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your first name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),a.jsx("input",{type:"text",value:S.lastName,onChange:U=>_($=>({...$,lastName:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your last name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsx("input",{type:"tel",value:S.phone,onChange:U=>_($=>({...$,phone:U.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),a.jsx("textarea",{value:S.bio,onChange:U=>_($=>({...$,bio:U.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tell us about yourself...",maxLength:500}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[S.bio.length,"/500 characters"]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:h,className:"btn-primary flex items-center gap-2",children:[h?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(Jv,{className:"w-4 h-4"}),h?"Saving...":"Save Changes"]})})]})]}),M==="security"&&a.jsxs("div",{className:"card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),a.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:J.current?"text":"password",value:I.currentPassword,onChange:U=>ee($=>({...$,currentPassword:U.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your current password",required:!0}),a.jsx("button",{type:"button",onClick:()=>de("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:J.current?a.jsx(dn,{className:"w-4 h-4"}):a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:J.new?"text":"password",value:I.newPassword,onChange:U=>ee($=>({...$,newPassword:U.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your new password",required:!0,minLength:8}),a.jsx("button",{type:"button",onClick:()=>de("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:J.new?a.jsx(dn,{className:"w-4 h-4"}):a.jsx(Xt,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:J.confirm?"text":"password",value:I.confirmPassword,onChange:U=>ee($=>({...$,confirmPassword:U.target.value})),className:"w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Confirm your new password",required:!0}),a.jsx("button",{type:"button",onClick:()=>de("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:J.confirm?a.jsx(dn,{className:"w-4 h-4"}):a.jsx(Xt,{className:"w-4 h-4"})})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("button",{type:"submit",disabled:h,className:"btn-primary flex items-center gap-2",children:[h?a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):a.jsx(qn,{className:"w-4 h-4"}),h?"Changing...":"Change Password"]})})]})]})]})]})]})})]})},nj=()=>{const[l,i]=b.useState({email:"",password:""}),[c,o]=b.useState(!1),[d,f]=b.useState({}),[m,h]=b.useState(!1),{login:p}=ut(),g=at(),j=ct().state?.from||"/dashboard",C=R=>{const{name:T,value:S}=R.target;i(_=>({..._,[T]:S})),d[T]&&f(_=>({..._,[T]:""}))},M=()=>{const R={};return l.email?/\S+@\S+\.\S+/.test(l.email)||(R.email="Email is invalid"):R.email="Email is required",l.password?l.password.length<6&&(R.password="Password must be at least 6 characters"):R.password="Password is required",R},H=async R=>{R.preventDefault();const T=M();if(Object.keys(T).length>0){f(T);return}h(!0),f({});try{const S=await p(l.email,l.password);S.success?typeof j=="string"?g(j,{replace:!0}):g(j.pathname+j.search+j.hash,{replace:!0}):f({general:S.error||"Login failed. Please try again."})}catch{f({general:"An unexpected error occurred. Please try again."})}finally{h(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-6 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Sign in to your account"}),a.jsxs("p",{className:"text-base text-gray-600",children:["Or"," ",a.jsx(Ut,{to:"/register",className:"font-semibold text-primary-600 hover:text-primary-500 underline",children:"create a new account"})]})]})}),a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-6 shadow-lg rounded-2xl sm:px-10",children:a.jsxs("form",{className:"form-mobile",onSubmit:H,children:[d.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(un,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-base text-red-800 font-medium",children:d.general})})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"input-group",children:[a.jsx("div",{className:"input-icon",children:a.jsx(Ln,{className:"h-5 w-5"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:l.email,onChange:C,className:`input input-with-icon ${d.email?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Enter your email"})]}),d.email&&a.jsxs("div",{className:"error-message",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsx("span",{children:d.email})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-base font-semibold text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"input-group",children:[a.jsx("div",{className:"input-icon",children:a.jsx(qn,{className:"h-5 w-5"})}),a.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"current-password",value:l.password,onChange:C,className:`input input-with-icon pr-12 ${d.password?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"input-action",onClick:()=>o(!c),children:c?a.jsx(dn,{className:"h-5 w-5"}):a.jsx(Xt,{className:"h-5 w-5"})})]}),d.password&&a.jsxs("div",{className:"error-message",children:[a.jsx(un,{className:"h-4 w-4"}),a.jsx("span",{children:d.password})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded touch-manipulation"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-3 block text-base text-gray-900 font-medium",children:"Remember me"})]}),a.jsx("div",{children:a.jsx(Ut,{to:"/forgot-password",className:"text-base font-semibold text-primary-600 hover:text-primary-500 underline touch-manipulation",children:"Forgot your password?"})})]}),a.jsx("div",{className:"pt-2",children:a.jsx("button",{type:"submit",disabled:m,className:`btn-primary w-full flex justify-center items-center ${m?"opacity-75 cursor-not-allowed":""}`,children:m?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),a.jsx("span",{className:"text-base font-semibold",children:"Signing in..."})]}):a.jsx("span",{className:"text-base font-semibold",children:"Sign in"})})})]})})})]})},sj=()=>{const[l,i]=b.useState({name:"",email:"",countryCode:"+1",phone:"",password:"",confirmPassword:""}),[c,o]=b.useState(!1),[d,f]=b.useState(!1),[m,h]=b.useState({}),[p,g]=b.useState(!1),{register:y}=ut(),j=at(),C=S=>{const{name:_,value:I}=S.target;i(ee=>({...ee,[_]:I})),m[_]&&h(ee=>({...ee,[_]:""}))},M=()=>{const S={};return l.name.trim()?l.name.trim().length<2&&(S.name="Name must be at least 2 characters"):S.name="Full name is required",l.email?/\S+@\S+\.\S+/.test(l.email)||(S.email="Email is invalid"):S.email="Email is required",l.phone.trim()?/^[1-9][\d]{6,14}$/.test(l.phone.replace(/[\s\-\(\)]/g,""))||(S.phone="Please enter a valid phone number (7-15 digits)"):S.phone="Phone number is required",l.password?l.password.length<8?S.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(l.password)||(S.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):S.password="Password is required",l.confirmPassword?l.password!==l.confirmPassword&&(S.confirmPassword="Passwords do not match"):S.confirmPassword="Please confirm your password",S},H=async S=>{S.preventDefault();const _=M();if(Object.keys(_).length>0){h(_);return}g(!0),h({});try{const I=l.countryCode+l.phone,ee=await y(l.email,l.password,l.name,I);if(ee.success)if(ee.emailVerificationSent)try{const J=await mp(I);J.success?(h({success:"Registration successful! Please check your email and phone for verification codes."}),setTimeout(()=>{j(`/verify-phone?userId=${J.userId}&phone=${encodeURIComponent(I)}`,{replace:!0})},2e3)):(h({success:"Registration successful! Please check your email to verify your account. Phone verification will be available after email verification."}),setTimeout(()=>{j("/login",{replace:!0})},3e3))}catch(J){console.error("SMS OTP error:",J),h({success:"Registration successful! Please check your email to verify your account. Phone verification will be available after email verification."}),setTimeout(()=>{j("/login",{replace:!0})},3e3)}else j("/",{replace:!0});else h({general:ee.error||"Registration failed. Please try again."})}catch{h({general:"An unexpected error occurred. Please try again."})}finally{g(!1)}},T=(()=>{const S=l.password;if(!S)return{strength:0,label:"",color:""};let _=0;S.length>=8&&_++,/[a-z]/.test(S)&&_++,/[A-Z]/.test(S)&&_++,/\d/.test(S)&&_++,/[^\w\s]/.test(S)&&_++;const I=["Very Weak","Weak","Fair","Good","Strong"],ee=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return{strength:_,label:I[_-1]||"",color:ee[_-1]||"bg-gray-300"}})();return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-6 px-4 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3",children:"Create your account"}),a.jsxs("p",{className:"text-base text-gray-600",children:["Already have an account?"," ",a.jsx(Ut,{to:"/login",className:"font-semibold text-primary-600 hover:text-primary-500 underline",children:"Sign in here"})]})]})}),a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-6 shadow-lg rounded-2xl sm:px-10",children:a.jsxs("form",{className:"form-mobile",onSubmit:H,children:[m.general&&a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(un,{className:"h-5 w-5 text-red-400 mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-base text-red-800 font-medium",children:m.general})})]})}),m.success&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 mb-6",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(hn,{className:"h-5 w-5 text-green-400 mt-0.5 flex-shrink-0"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-base text-green-800 font-medium",children:m.success})})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(zn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",value:l.name,onChange:C,className:`input pl-10 ${m.name?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Enter your full name"})]}),m.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ln,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:l.email,onChange:C,className:`input pl-10 ${m.email?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Enter your email"})]}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),a.jsxs("div",{className:"mt-1 flex",children:[a.jsxs("select",{name:"countryCode",value:l.countryCode,onChange:C,className:`w-auto min-w-0 max-w-[120px] rounded-l-md border border-r-0 border-gray-300 bg-white px-2 py-2 text-sm focus:border-primary-500 focus:outline-none focus:ring-1 focus:ring-primary-500 ${m.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,children:[a.jsx("option",{value:"+93",children:" Afghanistan +93"}),a.jsx("option",{value:"+355",children:" Albania +355"}),a.jsx("option",{value:"+213",children:" Algeria +213"}),a.jsx("option",{value:"+1684",children:" American Samoa +1684"}),a.jsx("option",{value:"+376",children:" Andorra +376"}),a.jsx("option",{value:"+244",children:" Angola +244"}),a.jsx("option",{value:"+1264",children:" Anguilla +1264"}),a.jsx("option",{value:"+672",children:" Antarctica +672"}),a.jsx("option",{value:"+1268",children:" Antigua and Barbuda +1268"}),a.jsx("option",{value:"+54",children:" Argentina +54"}),a.jsx("option",{value:"+374",children:" Armenia +374"}),a.jsx("option",{value:"+297",children:" Aruba +297"}),a.jsx("option",{value:"+61",children:" Australia +61"}),a.jsx("option",{value:"+43",children:" Austria +43"}),a.jsx("option",{value:"+994",children:" Azerbaijan +994"}),a.jsx("option",{value:"+1242",children:" Bahamas +1242"}),a.jsx("option",{value:"+973",children:" Bahrain +973"}),a.jsx("option",{value:"+880",children:" Bangladesh +880"}),a.jsx("option",{value:"+1246",children:" Barbados +1246"}),a.jsx("option",{value:"+375",children:" Belarus +375"}),a.jsx("option",{value:"+32",children:" Belgium +32"}),a.jsx("option",{value:"+501",children:" Belize +501"}),a.jsx("option",{value:"+229",children:" Benin +229"}),a.jsx("option",{value:"+1441",children:" Bermuda +1441"}),a.jsx("option",{value:"+975",children:" Bhutan +975"}),a.jsx("option",{value:"+591",children:" Bolivia +591"}),a.jsx("option",{value:"+387",children:" Bosnia and Herzegovina +387"}),a.jsx("option",{value:"+267",children:" Botswana +267"}),a.jsx("option",{value:"+55",children:" Brazil +55"}),a.jsx("option",{value:"+246",children:" British Indian Ocean Territory +246"}),a.jsx("option",{value:"+673",children:" Brunei +673"}),a.jsx("option",{value:"+359",children:" Bulgaria +359"}),a.jsx("option",{value:"+226",children:" Burkina Faso +226"}),a.jsx("option",{value:"+257",children:" Burundi +257"}),a.jsx("option",{value:"+855",children:" Cambodia +855"}),a.jsx("option",{value:"+237",children:" Cameroon +237"}),a.jsx("option",{value:"+1",children:" Canada +1"}),a.jsx("option",{value:"+238",children:" Cape Verde +238"}),a.jsx("option",{value:"+1345",children:" Cayman Islands +1345"}),a.jsx("option",{value:"+236",children:" Central African Republic +236"}),a.jsx("option",{value:"+235",children:" Chad +235"}),a.jsx("option",{value:"+56",children:" Chile +56"}),a.jsx("option",{value:"+86",children:" China +86"}),a.jsx("option",{value:"+61",children:" Christmas Island +61"}),a.jsx("option",{value:"+61",children:" Cocos Islands +61"}),a.jsx("option",{value:"+57",children:" Colombia +57"}),a.jsx("option",{value:"+269",children:" Comoros +269"}),a.jsx("option",{value:"+242",children:" Congo +242"}),a.jsx("option",{value:"+243",children:" Congo (DRC) +243"}),a.jsx("option",{value:"+682",children:" Cook Islands +682"}),a.jsx("option",{value:"+506",children:" Costa Rica +506"}),a.jsx("option",{value:"+225",children:" Cte d'Ivoire +225"}),a.jsx("option",{value:"+385",children:" Croatia +385"}),a.jsx("option",{value:"+53",children:" Cuba +53"}),a.jsx("option",{value:"+599",children:" Curaao +599"}),a.jsx("option",{value:"+357",children:" Cyprus +357"}),a.jsx("option",{value:"+420",children:" Czech Republic +420"}),a.jsx("option",{value:"+45",children:" Denmark +45"}),a.jsx("option",{value:"+253",children:" Djibouti +253"}),a.jsx("option",{value:"+1767",children:" Dominica +1767"}),a.jsx("option",{value:"+1809",children:" Dominican Republic +1809"}),a.jsx("option",{value:"+593",children:" Ecuador +593"}),a.jsx("option",{value:"+20",children:" Egypt +20"}),a.jsx("option",{value:"+503",children:" El Salvador +503"}),a.jsx("option",{value:"+240",children:" Equatorial Guinea +240"}),a.jsx("option",{value:"+291",children:" Eritrea +291"}),a.jsx("option",{value:"+372",children:" Estonia +372"}),a.jsx("option",{value:"+268",children:" Eswatini +268"}),a.jsx("option",{value:"+251",children:" Ethiopia +251"}),a.jsx("option",{value:"+500",children:" Falkland Islands +500"}),a.jsx("option",{value:"+298",children:" Faroe Islands +298"}),a.jsx("option",{value:"+679",children:" Fiji +679"}),a.jsx("option",{value:"+358",children:" Finland +358"}),a.jsx("option",{value:"+33",children:" France +33"}),a.jsx("option",{value:"+594",children:" French Guiana +594"}),a.jsx("option",{value:"+689",children:" French Polynesia +689"}),a.jsx("option",{value:"+241",children:" Gabon +241"}),a.jsx("option",{value:"+220",children:" Gambia +220"}),a.jsx("option",{value:"+995",children:" Georgia +995"}),a.jsx("option",{value:"+49",children:" Germany +49"}),a.jsx("option",{value:"+233",children:" Ghana +233"}),a.jsx("option",{value:"+350",children:" Gibraltar +350"}),a.jsx("option",{value:"+30",children:" Greece +30"}),a.jsx("option",{value:"+299",children:" Greenland +299"}),a.jsx("option",{value:"+1473",children:" Grenada +1473"}),a.jsx("option",{value:"+590",children:" Guadeloupe +590"}),a.jsx("option",{value:"+1671",children:" Guam +1671"}),a.jsx("option",{value:"+502",children:" Guatemala +502"}),a.jsx("option",{value:"+44",children:" Guernsey +44"}),a.jsx("option",{value:"+224",children:" Guinea +224"}),a.jsx("option",{value:"+245",children:" Guinea-Bissau +245"}),a.jsx("option",{value:"+592",children:" Guyana +592"}),a.jsx("option",{value:"+509",children:" Haiti +509"}),a.jsx("option",{value:"+504",children:" Honduras +504"}),a.jsx("option",{value:"+852",children:" Hong Kong +852"}),a.jsx("option",{value:"+36",children:" Hungary +36"}),a.jsx("option",{value:"+354",children:" Iceland +354"}),a.jsx("option",{value:"+91",children:" India +91"}),a.jsx("option",{value:"+62",children:" Indonesia +62"}),a.jsx("option",{value:"+98",children:" Iran +98"}),a.jsx("option",{value:"+964",children:" Iraq +964"}),a.jsx("option",{value:"+353",children:" Ireland +353"}),a.jsx("option",{value:"+44",children:" Isle of Man +44"}),a.jsx("option",{value:"+972",children:" Israel +972"}),a.jsx("option",{value:"+39",children:" Italy +39"}),a.jsx("option",{value:"+1876",children:" Jamaica +1876"}),a.jsx("option",{value:"+81",children:" Japan +81"}),a.jsx("option",{value:"+44",children:" Jersey +44"}),a.jsx("option",{value:"+962",children:" Jordan +962"}),a.jsx("option",{value:"+7",children:" Kazakhstan +7"}),a.jsx("option",{value:"+254",children:" Kenya +254"}),a.jsx("option",{value:"+686",children:" Kiribati +686"}),a.jsx("option",{value:"+850",children:" North Korea +850"}),a.jsx("option",{value:"+82",children:" South Korea +82"}),a.jsx("option",{value:"+965",children:" Kuwait +965"}),a.jsx("option",{value:"+996",children:" Kyrgyzstan +996"}),a.jsx("option",{value:"+856",children:" Laos +856"}),a.jsx("option",{value:"+371",children:" Latvia +371"}),a.jsx("option",{value:"+961",children:" Lebanon +961"}),a.jsx("option",{value:"+266",children:" Lesotho +266"}),a.jsx("option",{value:"+231",children:" Liberia +231"}),a.jsx("option",{value:"+218",children:" Libya +218"}),a.jsx("option",{value:"+423",children:" Liechtenstein +423"}),a.jsx("option",{value:"+370",children:" Lithuania +370"}),a.jsx("option",{value:"+352",children:" Luxembourg +352"}),a.jsx("option",{value:"+853",children:" Macao +853"}),a.jsx("option",{value:"+389",children:" North Macedonia +389"}),a.jsx("option",{value:"+261",children:" Madagascar +261"}),a.jsx("option",{value:"+265",children:" Malawi +265"}),a.jsx("option",{value:"+60",children:" Malaysia +60"}),a.jsx("option",{value:"+960",children:" Maldives +960"}),a.jsx("option",{value:"+223",children:" Mali +223"}),a.jsx("option",{value:"+356",children:" Malta +356"}),a.jsx("option",{value:"+692",children:" Marshall Islands +692"}),a.jsx("option",{value:"+596",children:" Martinique +596"}),a.jsx("option",{value:"+222",children:" Mauritania +222"}),a.jsx("option",{value:"+230",children:" Mauritius +230"}),a.jsx("option",{value:"+262",children:" Mayotte +262"}),a.jsx("option",{value:"+52",children:" Mexico +52"}),a.jsx("option",{value:"+691",children:" Micronesia +691"}),a.jsx("option",{value:"+373",children:" Moldova +373"}),a.jsx("option",{value:"+377",children:" Monaco +377"}),a.jsx("option",{value:"+976",children:" Mongolia +976"}),a.jsx("option",{value:"+382",children:" Montenegro +382"}),a.jsx("option",{value:"+1664",children:" Montserrat +1664"}),a.jsx("option",{value:"+212",children:" Morocco +212"}),a.jsx("option",{value:"+258",children:" Mozambique +258"}),a.jsx("option",{value:"+95",children:" Myanmar +95"}),a.jsx("option",{value:"+264",children:" Namibia +264"}),a.jsx("option",{value:"+674",children:" Nauru +674"}),a.jsx("option",{value:"+977",children:" Nepal +977"}),a.jsx("option",{value:"+31",children:" Netherlands +31"}),a.jsx("option",{value:"+687",children:" New Caledonia +687"}),a.jsx("option",{value:"+64",children:" New Zealand +64"}),a.jsx("option",{value:"+505",children:" Nicaragua +505"}),a.jsx("option",{value:"+227",children:" Niger +227"}),a.jsx("option",{value:"+234",children:" Nigeria +234"}),a.jsx("option",{value:"+683",children:" Niue +683"}),a.jsx("option",{value:"+672",children:" Norfolk Island +672"}),a.jsx("option",{value:"+1670",children:" Northern Mariana Islands +1670"}),a.jsx("option",{value:"+47",children:" Norway +47"}),a.jsx("option",{value:"+968",children:" Oman +968"}),a.jsx("option",{value:"+92",children:" Pakistan +92"}),a.jsx("option",{value:"+680",children:" Palau +680"}),a.jsx("option",{value:"+970",children:" Palestine +970"}),a.jsx("option",{value:"+507",children:" Panama +507"}),a.jsx("option",{value:"+675",children:" Papua New Guinea +675"}),a.jsx("option",{value:"+595",children:" Paraguay +595"}),a.jsx("option",{value:"+51",children:" Peru +51"}),a.jsx("option",{value:"+63",children:" Philippines +63"}),a.jsx("option",{value:"+64",children:" Pitcairn +64"}),a.jsx("option",{value:"+48",children:" Poland +48"}),a.jsx("option",{value:"+351",children:" Portugal +351"}),a.jsx("option",{value:"+1787",children:" Puerto Rico +1787"}),a.jsx("option",{value:"+974",children:" Qatar +974"}),a.jsx("option",{value:"+262",children:" Runion +262"}),a.jsx("option",{value:"+40",children:" Romania +40"}),a.jsx("option",{value:"+7",children:" Russia +7"}),a.jsx("option",{value:"+250",children:" Rwanda +250"}),a.jsx("option",{value:"+590",children:" Saint Barthlemy +590"}),a.jsx("option",{value:"+290",children:" Saint Helena +290"}),a.jsx("option",{value:"+1869",children:" Saint Kitts and Nevis +1869"}),a.jsx("option",{value:"+1758",children:" Saint Lucia +1758"}),a.jsx("option",{value:"+590",children:" Saint Martin +590"}),a.jsx("option",{value:"+508",children:" Saint Pierre and Miquelon +508"}),a.jsx("option",{value:"+1784",children:" Saint Vincent and the Grenadines +1784"}),a.jsx("option",{value:"+685",children:" Samoa +685"}),a.jsx("option",{value:"+378",children:" San Marino +378"}),a.jsx("option",{value:"+239",children:" So Tom and Prncipe +239"}),a.jsx("option",{value:"+966",children:" Saudi Arabia +966"}),a.jsx("option",{value:"+221",children:" Senegal +221"}),a.jsx("option",{value:"+381",children:" Serbia +381"}),a.jsx("option",{value:"+248",children:" Seychelles +248"}),a.jsx("option",{value:"+232",children:" Sierra Leone +232"}),a.jsx("option",{value:"+65",children:" Singapore +65"}),a.jsx("option",{value:"+1721",children:" Sint Maarten +1721"}),a.jsx("option",{value:"+421",children:" Slovakia +421"}),a.jsx("option",{value:"+386",children:" Slovenia +386"}),a.jsx("option",{value:"+677",children:" Solomon Islands +677"}),a.jsx("option",{value:"+252",children:" Somalia +252"}),a.jsx("option",{value:"+27",children:" South Africa +27"}),a.jsx("option",{value:"+500",children:" South Georgia and the South Sandwich Islands +500"}),a.jsx("option",{value:"+211",children:" South Sudan +211"}),a.jsx("option",{value:"+34",children:" Spain +34"}),a.jsx("option",{value:"+94",children:" Sri Lanka +94"}),a.jsx("option",{value:"+249",children:" Sudan +249"}),a.jsx("option",{value:"+597",children:" Suriname +597"}),a.jsx("option",{value:"+47",children:" Svalbard and Jan Mayen +47"}),a.jsx("option",{value:"+46",children:" Sweden +46"}),a.jsx("option",{value:"+41",children:" Switzerland +41"}),a.jsx("option",{value:"+963",children:" Syria +963"}),a.jsx("option",{value:"+886",children:" Taiwan +886"}),a.jsx("option",{value:"+992",children:" Tajikistan +992"}),a.jsx("option",{value:"+255",children:" Tanzania +255"}),a.jsx("option",{value:"+66",children:" Thailand +66"}),a.jsx("option",{value:"+670",children:" Timor-Leste +670"}),a.jsx("option",{value:"+228",children:" Togo +228"}),a.jsx("option",{value:"+690",children:" Tokelau +690"}),a.jsx("option",{value:"+676",children:" Tonga +676"}),a.jsx("option",{value:"+1868",children:" Trinidad and Tobago +1868"}),a.jsx("option",{value:"+216",children:" Tunisia +216"}),a.jsx("option",{value:"+90",children:" Turkey +90"}),a.jsx("option",{value:"+993",children:" Turkmenistan +993"}),a.jsx("option",{value:"+1649",children:" Turks and Caicos Islands +1649"}),a.jsx("option",{value:"+688",children:" Tuvalu +688"}),a.jsx("option",{value:"+256",children:" Uganda +256"}),a.jsx("option",{value:"+380",children:" Ukraine +380"}),a.jsx("option",{value:"+971",children:" United Arab Emirates +971"}),a.jsx("option",{value:"+44",children:" United Kingdom +44"}),a.jsx("option",{value:"+1",children:" United States +1"}),a.jsx("option",{value:"+598",children:" Uruguay +598"}),a.jsx("option",{value:"+998",children:" Uzbekistan +998"}),a.jsx("option",{value:"+678",children:" Vanuatu +678"}),a.jsx("option",{value:"+379",children:" Vatican City +379"}),a.jsx("option",{value:"+58",children:" Venezuela +58"}),a.jsx("option",{value:"+84",children:" Vietnam +84"}),a.jsx("option",{value:"+1284",children:" British Virgin Islands +1284"}),a.jsx("option",{value:"+1340",children:" U.S. Virgin Islands +1340"}),a.jsx("option",{value:"+681",children:" Wallis and Futuna +681"}),a.jsx("option",{value:"+212",children:" Western Sahara +212"}),a.jsx("option",{value:"+967",children:" Yemen +967"}),a.jsx("option",{value:"+260",children:" Zambia +260"}),a.jsx("option",{value:"+263",children:" Zimbabwe +263"})]}),a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Da,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:l.phone,onChange:C,className:`w-full px-3 py-2 pl-10 border border-gray-300 rounded-r-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-colors duration-200 text-gray-900 placeholder-gray-500 text-base ${m.phone?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Enter your phone number"})]})]}),m.phone&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.phone})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(qn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"password",name:"password",type:c?"text":"password",autoComplete:"new-password",value:l.password,onChange:C,className:`input pl-10 pr-10 ${m.password?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Create a strong password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!c),children:c?a.jsx(dn,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(Xt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.password&&a.jsx("div",{className:"mt-2",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${T.color}`,style:{width:`${T.strength/5*100}%`}})}),a.jsx("span",{className:"text-xs text-gray-600",children:T.label})]})}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(qn,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:d?"text":"password",autoComplete:"new-password",value:l.confirmPassword,onChange:C,className:`input pl-10 pr-10 ${m.confirmPassword?"border-red-300 focus:ring-red-500 focus:border-red-500":""}`,placeholder:"Confirm your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!d),children:d?a.jsx(dn,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):a.jsx(Xt,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),l.confirmPassword&&l.password===l.confirmPassword&&a.jsxs("div",{className:"mt-1 flex items-center text-green-600",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:"Passwords match"})]}),m.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",a.jsx(Ut,{to:"/terms",className:"text-primary-600 hover:text-primary-500",children:"Terms and Conditions"})," ","and"," ",a.jsx(Ut,{to:"/privacy",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:p,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${p?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"} transition-colors duration-200`,children:p?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})})]})})})]})},Sr=()=>{const[l,i]=b.useState([]),c=b.useCallback((d,f="info")=>{const m=Date.now(),h={id:m,message:d,type:f,timestamp:new Date};i(p=>[...p,h]),setTimeout(()=>{i(p=>p.filter(g=>g.id!==m))},5e3)},[]),o=b.useCallback(d=>{i(f=>f.filter(m=>m.id!==d))},[]);return{toasts:l,showNotification:c,removeToast:o}},lj=()=>{const[l,i]=b.useState(""),[c,o]=b.useState(!1),[d,f]=b.useState(!1),[m,h]=b.useState({}),{showNotification:p}=Sr(),g=()=>{const j={};return l?/\S+@\S+\.\S+/.test(l)||(j.email="Please enter a valid email address"):j.email="Email is required",h(j),Object.keys(j).length===0},y=async j=>{if(j.preventDefault(),!!g()){o(!0);try{await op(l),f(!0),p("Password reset email sent successfully!","success")}catch(C){console.error("Password recovery error:",C),C.code===404?h({email:"No account found with this email address"}):p("Failed to send password reset email. Please try again.","error")}finally{o(!1)}}};return d?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(hn,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Check your email"}),a.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["We've sent a password reset link to ",a.jsx("strong",{children:l})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("button",{onClick:()=>{f(!1),i(""),h({})},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Try different email"}),a.jsx(Ut,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Back to login"})]})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsx("div",{children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ln,{className:"mx-auto h-12 w-12 text-primary-600"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Forgot your password?"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]})}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:l,onChange:j=>{i(j.target.value),m.email&&h({...m,email:""})},className:`appearance-none relative block w-full px-3 py-2 border ${m.email?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm`,placeholder:"Enter your email address"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${c?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"} transition-colors duration-200`,children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Sending..."]}):"Send reset link"})})]})]})})},ij=()=>{const[l]=jr(),i=at(),{showNotification:c}=Sr(),[o,d]=b.useState({password:"",confirmPassword:""}),[f,m]=b.useState(!1),[h,p]=b.useState(!1),[g,y]=b.useState(!1),[j,C]=b.useState(!1),[M,H]=b.useState({}),R=l.get("userId"),T=l.get("secret");b.useEffect(()=>{(!R||!T)&&(c("Invalid reset link. Please request a new password reset.","error"),i("/forgot-password"))},[R,T,i,c]);const S=()=>{const ee={};return o.password?o.password.length<8&&(ee.password="Password must be at least 8 characters long"):ee.password="Password is required",o.confirmPassword?o.password!==o.confirmPassword&&(ee.confirmPassword="Passwords do not match"):ee.confirmPassword="Please confirm your password",H(ee),Object.keys(ee).length===0},_=ee=>{const{name:J,value:ge}=ee.target;d(ae=>({...ae,[J]:ge})),M[J]&&H(ae=>({...ae,[J]:""}))},I=async ee=>{if(ee.preventDefault(),!!S()){y(!0);try{await cp(R,T,o.password),C(!0),c("Password reset successfully!","success")}catch(J){console.error("Password reset error:",J),J.code===401?(c("Invalid or expired reset link. Please request a new password reset.","error"),i("/forgot-password")):c("Failed to reset password. Please try again.","error")}finally{y(!1)}}};return j?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(hn,{className:"mx-auto h-16 w-16 text-green-500"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Password reset successful!"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your password has been successfully reset. You can now log in with your new password."})]}),a.jsx("div",{children:a.jsx("button",{onClick:()=>i("/login"),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Go to login"})})]})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(qn,{className:"mx-auto h-12 w-12 text-primary-600"}),a.jsx("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Reset your password"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Enter your new password below."})]}),a.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"password",name:"password",type:f?"text":"password",autoComplete:"new-password",value:o.password,onChange:_,className:`appearance-none relative block w-full px-3 py-2 pr-10 border ${M.password?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm`,placeholder:"Enter new password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!f),children:f?a.jsx(dn,{className:"h-4 w-4 text-gray-400"}):a.jsx(Xt,{className:"h-4 w-4 text-gray-400"})})]}),M.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:M.password})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),a.jsxs("div",{className:"mt-1 relative",children:[a.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:h?"text":"password",autoComplete:"new-password",value:o.confirmPassword,onChange:_,className:`appearance-none relative block w-full px-3 py-2 pr-10 border ${M.confirmPassword?"border-red-300":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm`,placeholder:"Confirm new password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!h),children:h?a.jsx(dn,{className:"h-4 w-4 text-gray-400"}):a.jsx(Xt,{className:"h-4 w-4 text-gray-400"})})]}),M.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:M.confirmPassword})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:g,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${g?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500"} transition-colors duration-200`,children:g?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Resetting..."]}):"Reset password"})})]})]})})},rj=()=>{const[l]=jr(),i=at(),[c,o]=b.useState("verifying"),[d,f]=b.useState(""),{showNotification:m}=Sr(),h=l.get("userId"),p=l.get("secret");return b.useEffect(()=>{(async()=>{if(!h||!p){o("error"),f("Invalid verification link. Please check your email and try again.");return}try{(await fp(h,p)).success?(o("success"),f("Your email has been verified successfully! Redirecting to home page..."),m("Email verified successfully!","success"),setTimeout(()=>{i("/")},3e3)):(o("error"),f("Email verification failed. Please try again or contact support."))}catch(y){console.error("Email verification error:",y),o("error"),f("Email verification failed. The link may be expired or invalid."),m("Email verification failed","error")}})()},[h,p,i,m]),a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ln,{className:"mx-auto h-12 w-12 text-primary-600"}),a.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Email Verification"})]})}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("div",{className:"text-center",children:[c==="verifying"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"text-gray-600",children:"Verifying your email..."})]}),c==="success"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(hn,{className:"h-16 w-16 text-green-500 mx-auto"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Verification Successful!"}),a.jsx("p",{className:"text-gray-600",children:d}),a.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting to home page in 3 seconds..."})]})]}),c==="error"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(un,{className:"h-16 w-16 text-red-500 mx-auto"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Verification Failed"}),a.jsx("p",{className:"text-gray-600",children:d})]})]})]})})})]})},oj=()=>{const[l,i]=b.useState(""),[c,o]=b.useState(!1),[d,f]=b.useState(!1),[m,h]=b.useState("pending"),[p,g]=b.useState(""),[y]=jr(),j=at(),{showNotification:C}=Sr(),M=y.get("userId"),H=y.get("phone");b.useEffect(()=>{(!M||!H)&&(g("Invalid verification link. Please try registering again."),h("error"))},[M,H]);const R=async S=>{if(S.preventDefault(),!l.trim()){g("Please enter the OTP");return}if(l.length!==6){g("OTP must be 6 digits");return}o(!0),g("");try{(await Iy(M,l)).success&&(h("success"),C("Phone number verified successfully!","success"),setTimeout(()=>{j("/login",{replace:!0})},2e3))}catch(_){console.error("Phone verification error:",_),g(_.message||"Invalid OTP. Please try again.")}finally{o(!1)}},T=async()=>{f(!0),g("");try{(await mp(H)).success&&C("New OTP sent to your phone number","success")}catch(S){console.error("Resend OTP error:",S),g(S.message||"Failed to resend OTP. Please try again.")}finally{f(!1)}};return m==="success"?a.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx(hn,{className:"mx-auto h-12 w-12 text-green-500"}),a.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:"Phone Number Verified!"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Your phone number has been successfully verified. You will be redirected to the login page shortly."}),a.jsx("div",{className:"mt-6",children:a.jsx(Ut,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Go to Login"})})]})})})}):m==="error"?a.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:a.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx(un,{className:"mx-auto h-12 w-12 text-red-500"}),a.jsx("h2",{className:"mt-4 text-xl font-bold text-gray-900",children:"Verification Failed"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:p}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsx(Ut,{to:"/register",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Try Registration Again"}),a.jsx(Ut,{to:"/login",className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Back to Login"})]})]})})})}):a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(Da,{className:"h-12 w-12 text-indigo-600"})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Verify Your Phone Number"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["We've sent a 6-digit code to ",H]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[a.jsxs("form",{className:"space-y-6",onSubmit:R,children:[p&&a.jsx("div",{className:"rounded-md bg-red-50 p-4",children:a.jsxs("div",{className:"flex",children:[a.jsx(un,{className:"h-5 w-5 text-red-400"}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-red-800",children:p})})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter 6-digit OTP"}),a.jsx("div",{className:"mt-1",children:a.jsx("input",{id:"otp",name:"otp",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:"6",value:l,onChange:S=>{const _=S.target.value.replace(/\D/g,"");i(_),g("")},className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm text-center text-2xl tracking-widest",placeholder:"000000",required:!0})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c||l.length!==6,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Verifying...":"Verify Phone Number"})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:T,disabled:d,className:"text-sm text-indigo-600 hover:text-indigo-500 disabled:opacity-50",children:d?"Sending...":"Didn't receive the code? Resend"})})]}),a.jsx("div",{className:"mt-6"})]})})]})},cj=()=>(console.log("TestPage component rendered"),a.jsxs("div",{style:{minHeight:"100vh",backgroundColor:"red",color:"white",padding:"20px",fontSize:"24px"},children:[a.jsx("h1",{children:"TEST PAGE - If you see this, React is working!"}),a.jsx("p",{children:"This is a simple test to verify the app is rendering."}),a.jsxs("p",{children:["Current time: ",new Date().toLocaleString()]})]})),uj=async()=>{console.log("Testing geolocation API...");try{const l=await pu();return console.log(" Geolocation successful:",l),l}catch(l){throw console.error(" Geolocation failed:",l.message),l}},dj=()=>{console.log("Testing distance calculation...");const d=hu(40.7128,-74.006,34.0522,-118.2437);return console.log(`Distance from NY to LA: ${d}km (should be ~3944km)`),d},fj=()=>{console.log("Testing property sorting...");const o=xu([{$id:"1",title:"Property in LA",latitude:34.0522,longitude:-118.2437},{$id:"2",title:"Property in Chicago",latitude:41.8781,longitude:-87.6298},{$id:"3",title:"Property in Boston",latitude:42.3601,longitude:-71.0589},{$id:"4",title:"Property without coordinates"}],40.7128,-74.006);return console.log("Sorted properties by distance:",o.map(d=>({title:d.title,distance:d.distance}))),o},qh={"New York":{latitude:40.7128,longitude:-74.006},"Los Angeles":{latitude:34.0522,longitude:-118.2437},Chicago:{latitude:41.8781,longitude:-87.6298},Houston:{latitude:29.7604,longitude:-95.3698},Phoenix:{latitude:33.4484,longitude:-112.074},Philadelphia:{latitude:39.9526,longitude:-75.1652},"San Antonio":{latitude:29.4241,longitude:-98.4936},"San Diego":{latitude:32.7157,longitude:-117.1611},Dallas:{latitude:32.7767,longitude:-96.797},"San Jose":{latitude:37.3382,longitude:-121.8863},Austin:{latitude:30.2672,longitude:-97.7431},Jacksonville:{latitude:30.3322,longitude:-81.6557},"Fort Worth":{latitude:32.7555,longitude:-97.3308},Columbus:{latitude:39.9612,longitude:-82.9988},Charlotte:{latitude:35.2271,longitude:-80.8431},"San Francisco":{latitude:37.7749,longitude:-122.4194},Indianapolis:{latitude:39.7684,longitude:-86.1581},Seattle:{latitude:47.6062,longitude:-122.3321},Denver:{latitude:39.7392,longitude:-104.9903},Boston:{latitude:42.3601,longitude:-71.0589}},mj=async()=>{console.log(" Running Near You feature tests...");try{await uj(),dj(),fj(),console.log(" All tests completed successfully!")}catch(l){console.error(" Tests failed:",l)}},{databaseId:Ol,propertiesCollectionId:Gl}=Ft,hj=()=>{const l=Object.keys(qh),i=l[Math.floor(Math.random()*l.length)],c=qh[i],o=(Math.random()-.5)*.1,d=(Math.random()-.5)*.1;return{latitude:c.latitude+o,longitude:c.longitude+d,city:i}},pj=async()=>{try{console.log(" Fetching existing properties...");const l=await re.listDocuments(Ol,Gl);if(!l.documents||l.documents.length===0)return console.log(" No properties found in database"),{success:!0,message:"No properties to update"};console.log(` Found ${l.documents.length} properties. Adding coordinates...`);let i=0,c=0;for(const o of l.documents)try{if(o.latitude&&o.longitude){console.log(` Skipping ${o.title} - already has coordinates`),c++;continue}const d=hj();await re.updateDocument(Ol,Gl,o.$id,{latitude:d.latitude,longitude:d.longitude}),console.log(` Updated ${o.title} with coordinates near ${d.city}`),i++,await new Promise(f=>setTimeout(f,500))}catch(d){console.error(` Failed to update ${o.title}:`,d.message)}return console.log(" Coordinate update complete!"),console.log(`   - Updated: ${i} properties`),console.log(`   - Skipped: ${c} properties (already had coordinates)`),{success:!0,updated:i,skipped:c,total:l.documents.length}}catch(l){return console.error(" Error adding coordinates to properties:",l),{success:!1,error:l.message}}},xj=async()=>{try{console.log(" Removing coordinates from all properties...");const l=await re.listDocuments(Ol,Gl);if(!l.documents||l.documents.length===0)return console.log(" No properties found in database"),{success:!0,message:"No properties to update"};let i=0;for(const c of l.documents)try{(c.latitude||c.longitude)&&(await re.updateDocument(Ol,Gl,c.$id,{latitude:null,longitude:null}),console.log(` Removed coordinates from ${c.title}`),i++,await new Promise(o=>setTimeout(o,500)))}catch(o){console.error(` Failed to update ${c.title}:`,o.message)}return console.log(` Removed coordinates from ${i} properties`),{success:!0,updated:i,total:l.documents.length}}catch(l){return console.error(" Error removing coordinates:",l),{success:!1,error:l.message}}},gj=async()=>{try{console.log(" Checking coordinate status of properties...");const l=await re.listDocuments(Ol,Gl);if(!l.documents||l.documents.length===0)return console.log(" No properties found in database"),{success:!0,withCoords:0,withoutCoords:0,total:0};let i=0,c=0;return l.documents.forEach(o=>{o.latitude&&o.longitude?(i++,console.log(` ${o.title} - Has coordinates (${o.latitude}, ${o.longitude})`)):(c++,console.log(` ${o.title} - Missing coordinates`))}),console.log(`
 Coordinate Status Summary:`),console.log(`   - With coordinates: ${i}`),console.log(`   - Without coordinates: ${c}`),console.log(`   - Total properties: ${l.documents.length}`),{success:!0,withCoords:i,withoutCoords:c,total:l.documents.length,properties:l.documents.map(o=>({id:o.$id,title:o.title,hasCoords:!!(o.latitude&&o.longitude),latitude:o.latitude,longitude:o.longitude}))}}catch(l){return console.error(" Error checking coordinate status:",l),{success:!1,error:l.message}}},yj=()=>{const[l,i]=b.useState(null),[c,o]=b.useState(null),[d,f]=b.useState(!1),[m,h]=b.useState(null),[p,g]=b.useState([]),y=(S,_="info")=>{const I=new Date().toLocaleTimeString();g(ee=>[...ee,{message:S,type:_,timestamp:I}])},j=async()=>{f(!0),y("Testing geolocation...","info");try{const S=await pu();h(S),y(` Geolocation successful: ${S.latitude}, ${S.longitude}`,"success")}catch(S){y(` Geolocation failed: ${S.message}`,"error")}finally{f(!1)}},C=async()=>{f(!0),y("Running all location tests...","info");const S=console.log,_=console.error;console.log=(...I)=>{y(I.join(" "),"info"),S(...I)},console.error=(...I)=>{y(I.join(" "),"error"),_(...I)};try{await mj(),i({success:!0})}catch(I){i({success:!1,error:I.message})}finally{console.log=S,console.error=_,f(!1)}},M=async()=>{f(!0),y("Checking coordinate status of properties...","info");try{const S=await gj();o(S),S.success?y(` Found ${S.total} properties: ${S.withCoords} with coordinates, ${S.withoutCoords} without`,"info"):y(` Failed to check coordinates: ${S.error}`,"error")}catch(S){y(` Error checking coordinates: ${S.message}`,"error")}finally{f(!1)}},H=async()=>{f(!0),y("Adding sample coordinates to properties...","info");try{const S=await pj();S.success?(y(` Updated ${S.updated} properties with coordinates`,"success"),y(` Skipped ${S.skipped} properties (already had coordinates)`,"info"),await M()):y(` Failed to add coordinates: ${S.error}`,"error")}catch(S){y(` Error adding coordinates: ${S.message}`,"error")}finally{f(!1)}},R=async()=>{f(!0),y("Removing coordinates from all properties...","info");try{const S=await xj();S.success?(y(` Removed coordinates from ${S.updated} properties`,"success"),await M()):y(` Failed to remove coordinates: ${S.error}`,"error")}catch(S){y(` Error removing coordinates: ${S.message}`,"error")}finally{f(!1)}},T=()=>{g([])};return a.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Near You Feature Debug"}),a.jsx("p",{className:"text-gray-600",children:"Debug and test the location-based property search feature"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(du,{className:"w-5 h-5 mr-2"}),"Geolocation Test"]}),a.jsx("button",{onClick:j,disabled:d,className:"btn-primary mb-4",children:d?"Testing...":"Test Geolocation API"}),m&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(hn,{className:"w-5 h-5 text-green-600 mr-2"}),a.jsx("span",{className:"font-medium text-green-800",children:"Location Retrieved"})]}),a.jsxs("p",{className:"text-green-700",children:["Latitude: ",m.latitude,a.jsx("br",{}),"Longitude: ",m.longitude]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(vv,{className:"w-5 h-5 mr-2"}),"Property Coordinates"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("button",{onClick:M,disabled:d,className:"btn-secondary w-full",children:"Check Coordinate Status"}),a.jsx("button",{onClick:H,disabled:d,className:"btn-primary w-full",children:"Add Sample Coordinates"}),a.jsx("button",{onClick:R,disabled:d,className:"btn-danger w-full",children:"Remove All Coordinates"})]}),c&&a.jsxs("div",{className:"mt-4 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Coordinate Status"}),a.jsxs("div",{className:"text-blue-700 text-sm space-y-1",children:[a.jsxs("p",{children:["Total Properties: ",c.total]}),a.jsxs("p",{children:["With Coordinates: ",c.withCoords]}),a.jsxs("p",{children:["Without Coordinates: ",c.withoutCoords]})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:[a.jsx(rb,{className:"w-5 h-5 mr-2"}),"Full Test Suite"]}),a.jsx("button",{onClick:C,disabled:d,className:"btn-primary mb-4",children:d?"Running Tests...":"Run All Tests"}),l&&a.jsxs("div",{className:`border rounded-lg p-4 ${l.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:[a.jsxs("div",{className:"flex items-center",children:[l.success?a.jsx(hn,{className:"w-5 h-5 text-green-600 mr-2"}):a.jsx(pv,{className:"w-5 h-5 text-red-600 mr-2"}),a.jsx("span",{className:`font-medium ${l.success?"text-green-800":"text-red-800"}`,children:l.success?"All Tests Passed":"Tests Failed"})]}),l.error&&a.jsx("p",{className:"text-red-700 mt-2",children:l.error})]})]})]}),a.jsxs("div",{className:"card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[a.jsx(Pn,{className:"w-5 h-5 mr-2"}),"Debug Logs"]}),a.jsx("button",{onClick:T,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear Logs"})]}),a.jsx("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4 h-96 overflow-y-auto font-mono text-sm",children:p.length===0?a.jsx("p",{className:"text-gray-400",children:"No logs yet. Run some tests to see output here."}):p.map((S,_)=>a.jsxs("div",{className:`mb-1 ${S.type==="error"?"text-red-400":S.type==="success"?"text-green-400":"text-gray-100"}`,children:[a.jsxs("span",{className:"text-gray-500",children:["[",S.timestamp,"]"]})," ",S.message]},_))})]})]}),a.jsxs("div",{className:"mt-8 card p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Debugging Instructions"}),a.jsxs("div",{className:"prose text-gray-600",children:[a.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Test Geolocation:"})," Check if the browser can access your location"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Check Coordinates:"})," See which properties have latitude/longitude data"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Add Sample Coordinates:"})," Add random coordinates to properties for testing"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Run Full Tests:"})," Test all location utilities and distance calculations"]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Test Near You:"}),' Go to Properties page and click "Near You" button']})]}),a.jsx("div",{className:"mt-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("p",{className:"text-yellow-800",children:[a.jsx("strong",{children:"Note:"})," This debug page is for development only. Remove it before deploying to production."]})})]})]})]})})},dr=({children:l})=>{const{user:i,loading:c}=ut(),o=ct();return c?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"loading-spinner"})}):i?l:a.jsx(Gg,{to:"/login",state:{from:o},replace:!0})},vj=({isOpen:l,onClose:i,userProfile:c,onPhoneAdded:o})=>{const[d,f]=b.useState(""),[m,h]=b.useState(""),[p,g]=b.useState(!1),y=M=>{const H=M.replace(/[\s\-\(\)]/g,"");return/^[\+]?[1-9][\d]{0,15}$/.test(H)},j=async M=>{if(M.preventDefault(),!d.trim()){h("Phone number is required");return}if(!y(d)){h("Please enter a valid phone number");return}g(!0),h("");try{await rp(c.$id,{phone:d.trim()}),o(d.trim()),i()}catch{h("Failed to update phone number. Please try again.")}finally{g(!1)}},C=M=>{f(M.target.value),m&&h("")};return l?a.jsx(a.Fragment,{children:a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[a.jsx("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(Da,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add Phone Number"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Please add your phone number to continue"})]})]})}),a.jsxs("form",{onSubmit:j,className:"p-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We require a phone number for all users to improve security and communication. This information will be kept private and secure."}),a.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Da,{className:"h-5 w-5 text-gray-400"})}),a.jsx("input",{id:"phone",type:"tel",value:d,onChange:C,className:`w-full pl-10 pr-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${m?"border-red-300":"border-gray-300"}`,placeholder:"Enter your phone number",autoComplete:"tel"})]}),m&&a.jsxs("div",{className:"mt-2 flex items-center text-red-600",children:[a.jsx(un,{className:"h-4 w-4 mr-1"}),a.jsx("span",{className:"text-sm",children:m})]})]}),a.jsx("div",{className:"flex space-x-3",children:a.jsx("button",{type:"submit",disabled:p,className:`flex-1 py-2 px-4 rounded-md text-sm font-medium text-white ${p?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"} transition-colors duration-200`,children:p?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):"Add Phone Number"})})]})]})})}):null},bj=({children:l})=>{const{user:i}=ut(),[c,o]=b.useState(null),[d,f]=b.useState(!1),[m,h]=b.useState(!0);b.useEffect(()=>{(async()=>{if(i)try{const j=await qa(i.$id);o(j),(!j.phone||j.phone.trim()==="")&&f(!0)}catch(j){console.error("Error fetching user profile:",j)}h(!1)})()},[i]);const p=y=>{o(j=>({...j,phone:y})),f(!1)},g=()=>{};return m?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a.jsxs(a.Fragment,{children:[l,c&&a.jsx(vj,{isOpen:d,onClose:g,userProfile:c,onPhoneAdded:p})]})},jj=()=>{const l=ct(),i=at(),[c,o]=b.useState(!0),[d,f]=b.useState(!1),{unreadCount:m}=zs(),h=l.pathname!=="/",g=!["/login","/register","/forgot-password","/reset-password","/verify-email","/verify-phone"].includes(l.pathname),y=()=>{o(!1)},j=()=>{i("/dashboard")},C=()=>{f(!d)};return b.useEffect(()=>{const M=H=>{d&&!H.target.closest(".notification-dropdown-container")&&f(!1)};if(d)return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[d]),c?a.jsx(bb,{onComplete:y}):a.jsxs("div",{className:"app-container",children:[a.jsx(yb,{showBack:h,showNotifications:g,onDashboardClick:j,onNotificationClick:C,unreadCount:m}),d&&a.jsx("div",{className:"fixed top-16 right-4 z-50 notification-dropdown-container",children:a.jsx(Nb,{onClose:()=>f(!1)})}),a.jsx(wb,{}),a.jsx("main",{className:"app-content",children:a.jsxs(Yg,{children:[a.jsx(ot,{path:"/",element:a.jsx(Xb,{})}),a.jsx(ot,{path:"/properties",element:a.jsx(Qb,{})}),a.jsx(ot,{path:"/property/:id",element:a.jsx(Jb,{})}),a.jsx(ot,{path:"/test",element:a.jsx(cj,{})}),a.jsx(ot,{path:"/debug-near-you",element:a.jsx(yj,{})}),a.jsx(ot,{path:"/login",element:a.jsx(nj,{})}),a.jsx(ot,{path:"/register",element:a.jsx(sj,{})}),a.jsx(ot,{path:"/forgot-password",element:a.jsx(lj,{})}),a.jsx(ot,{path:"/reset-password",element:a.jsx(ij,{})}),a.jsx(ot,{path:"/verify-email",element:a.jsx(rj,{})}),a.jsx(ot,{path:"/verify-phone",element:a.jsx(oj,{})}),a.jsx(ot,{path:"/dashboard",element:a.jsx(Lh,{})}),a.jsx(ot,{path:"/property/new",element:a.jsx(dr,{children:a.jsx(ej,{})})}),a.jsx(ot,{path:"/property/edit/:id",element:a.jsx(dr,{children:a.jsx(tj,{})})}),a.jsx(ot,{path:"/profile",element:a.jsx(dr,{children:a.jsx(aj,{})})}),a.jsx(ot,{path:"/favorites",element:a.jsx(dr,{children:a.jsx(Lh,{defaultTab:"favorites"})})})]})}),g&&a.jsx(vb,{})]})};function wj(){return a.jsx($y,{children:a.jsx(Vy,{children:a.jsx(bj,{children:a.jsxs(xy,{basename:"/market",children:[a.jsx(jb,{}),a.jsx(jj,{})]})})})})}tg.createRoot(document.getElementById("root")).render(a.jsx(b.StrictMode,{children:a.jsx(wj,{})}));
